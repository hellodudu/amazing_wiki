-- MySQL dump 10.13  Distrib 8.0.15, for osx10.14 (x86_64)
--
-- Host: localhost    Database: amazing_wiki
-- ------------------------------------------------------
-- Server version	8.0.15

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
 SET NAMES utf8mb4 ;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `amazing_attachment`
--

DROP TABLE IF EXISTS `amazing_attachment`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_attachment` (
  `attachment_id` int(11) NOT NULL AUTO_INCREMENT,
  `book_id` int(11) NOT NULL DEFAULT '0',
  `document_id` int(11) DEFAULT NULL,
  `file_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `file_path` varchar(2000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `file_size` double NOT NULL DEFAULT '0',
  `http_path` varchar(2000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `file_ext` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `create_time` datetime NOT NULL,
  `create_at` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`attachment_id`)
) ENGINE=InnoDB AUTO_INCREMENT=45 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_attachment`
--

LOCK TABLES `amazing_attachment` WRITE;
/*!40000 ALTER TABLE `amazing_attachment` DISABLE KEYS */;
INSERT INTO `amazing_attachment` VALUES (1,1,0,'IMG_1035.JPG','/data/uploads/initial_doc/images/m_b968c10e5c45c14af437c7c677c87b75_r.JPG',90217,'/data/uploads/initial_doc/images/m_b968c10e5c45c14af437c7c677c87b75_r.JPG','.JPG','2019-09-16 21:37:14',2),(2,1,0,'IMG_1035.JPG','/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG',90217,'/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG','.JPG','2019-09-16 21:38:22',2),(3,4,0,'1568706006159.png','/data/uploads/programmer_common/images/m_cbe3cfac835155a3a33fb7d77368de98_r.png',60210,'/data/uploads/programmer_common/images/m_cbe3cfac835155a3a33fb7d77368de98_r.png','.png','2019-09-17 15:40:06',2),(4,4,0,'1568706020593.png','/data/uploads/programmer_common/images/m_9ace96c47be6db3a5c61d46db44b9c49_r.png',35045,'/data/uploads/programmer_common/images/m_9ace96c47be6db3a5c61d46db44b9c49_r.png','.png','2019-09-17 15:40:21',2),(5,4,0,'1568706044700.png','/data/uploads/programmer_common/images/m_e2928300ea9c529551631c425f9e50d4_r.png',13585,'/data/uploads/programmer_common/images/m_e2928300ea9c529551631c425f9e50d4_r.png','.png','2019-09-17 15:40:45',2),(6,4,0,'1568707959068.png','/data/uploads/programmer_common/images/m_c006dacc0b0c78b8d144c38dcc0e81aa_r.png',111965,'/data/uploads/programmer_common/images/m_c006dacc0b0c78b8d144c38dcc0e81aa_r.png','.png','2019-09-17 16:12:39',2),(7,4,0,'1568709385333.png','/data/uploads/programmer_common/images/m_57ff35aa348560b1c27d330afbd05336_r.png',66922,'/data/uploads/programmer_common/images/m_57ff35aa348560b1c27d330afbd05336_r.png','.png','2019-09-17 16:36:25',2),(8,4,0,'1568709400233.png','/data/uploads/programmer_common/images/m_4cbb567c7828a635cf50e54cb867a26f_r.png',60824,'/data/uploads/programmer_common/images/m_4cbb567c7828a635cf50e54cb867a26f_r.png','.png','2019-09-17 16:36:40',2),(9,4,0,'1568709422596.png','/data/uploads/programmer_common/images/m_fbb785f1d345c95027ab8f7eced252cf_r.png',73818,'/data/uploads/programmer_common/images/m_fbb785f1d345c95027ab8f7eced252cf_r.png','.png','2019-09-17 16:37:03',2),(10,4,0,'1568709662714.png','/data/uploads/programmer_common/images/m_d31599babf086acaf3a0c4212e3a02b7_r.png',69045,'/data/uploads/programmer_common/images/m_d31599babf086acaf3a0c4212e3a02b7_r.png','.png','2019-09-17 16:41:03',2),(11,4,0,'1568709673931.png','/data/uploads/programmer_common/images/m_4468a03fb07bef165284cccf0b06e3ec_r.png',70223,'/data/uploads/programmer_common/images/m_4468a03fb07bef165284cccf0b06e3ec_r.png','.png','2019-09-17 16:41:14',2),(12,4,0,'1568709681097.png','/data/uploads/programmer_common/images/m_228d6e6727dc51921f8d05642a578700_r.png',59259,'/data/uploads/programmer_common/images/m_228d6e6727dc51921f8d05642a578700_r.png','.png','2019-09-17 16:41:21',2),(13,4,0,'1568715361796.png','/data/uploads/programmer_common/images/m_6033e7ebb726d152435314dbf605f4c8_r.png',38702,'/data/uploads/programmer_common/images/m_6033e7ebb726d152435314dbf605f4c8_r.png','.png','2019-09-17 18:16:02',2),(14,4,0,'1568715455321.png','/data/uploads/programmer_common/images/m_ee5602d716b199233c9e886a6aa55678_r.png',7034,'/data/uploads/programmer_common/images/m_ee5602d716b199233c9e886a6aa55678_r.png','.png','2019-09-17 18:17:35',2),(15,4,0,'1568715540344.png','/data/uploads/programmer_common/images/m_29734fdd6cc862b9774de01b1ecca9e7_r.png',8688,'/data/uploads/programmer_common/images/m_29734fdd6cc862b9774de01b1ecca9e7_r.png','.png','2019-09-17 18:19:00',2),(16,4,0,'1568715594283.png','/data/uploads/programmer_common/images/m_a32db0636d6cbf5931f324ce74e0b6d1_r.png',85228,'/data/uploads/programmer_common/images/m_a32db0636d6cbf5931f324ce74e0b6d1_r.png','.png','2019-09-17 18:19:54',2),(17,4,0,'1568715732947.png','/data/uploads/programmer_common/images/m_93cfb4e6153486181d074fa5c21f86fd_r.png',12853,'/data/uploads/programmer_common/images/m_93cfb4e6153486181d074fa5c21f86fd_r.png','.png','2019-09-17 18:22:13',2),(18,4,0,'1568715774476.png','/data/uploads/programmer_common/images/m_00f73f45b79f9b1465def522d206cef2_r.png',17960,'/data/uploads/programmer_common/images/m_00f73f45b79f9b1465def522d206cef2_r.png','.png','2019-09-17 18:22:54',2),(19,4,0,'1568731405520.png','/data/uploads/programmer_common/images/m_79d2f39b3f92bf4d0f3e94878e51a3c2_r.png',78222,'/data/uploads/programmer_common/images/m_79d2f39b3f92bf4d0f3e94878e51a3c2_r.png','.png','2019-09-17 22:43:26',2),(20,4,0,'1568731421504.png','/data/uploads/programmer_common/images/m_c7a8abbe24dad834590fad11187c8786_r.png',62039,'/data/uploads/programmer_common/images/m_c7a8abbe24dad834590fad11187c8786_r.png','.png','2019-09-17 22:43:42',2),(21,4,0,'1568731435780.png','/data/uploads/programmer_common/images/m_fd1abec90781469b17227bee8f253c19_r.png',36524,'/data/uploads/programmer_common/images/m_fd1abec90781469b17227bee8f253c19_r.png','.png','2019-09-17 22:43:56',2),(22,4,0,'1568731522656.png','/data/uploads/programmer_common/images/m_8465e4a57d9c50224e50f28ddd8b411c_r.png',34719,'/data/uploads/programmer_common/images/m_8465e4a57d9c50224e50f28ddd8b411c_r.png','.png','2019-09-17 22:45:23',2),(23,4,0,'1568731548338.png','/data/uploads/programmer_common/images/m_27dcea83ef4bbc0110932a48c05ea7f8_r.png',16533,'/data/uploads/programmer_common/images/m_27dcea83ef4bbc0110932a48c05ea7f8_r.png','.png','2019-09-17 22:45:48',2),(24,4,0,'1568731569516.png','/data/uploads/programmer_common/images/m_1b5bdc5665249f1a22b4fce3447223a4_r.png',39914,'/data/uploads/programmer_common/images/m_1b5bdc5665249f1a22b4fce3447223a4_r.png','.png','2019-09-17 22:46:10',2),(25,4,0,'1568731661284.png','/data/uploads/programmer_common/images/m_af74eb5dbfb2a16522dcc94948a13d45_r.png',33017,'/data/uploads/programmer_common/images/m_af74eb5dbfb2a16522dcc94948a13d45_r.png','.png','2019-09-17 22:47:41',2),(26,4,0,'1568731703057.png','/data/uploads/programmer_common/images/m_a332f4ae72978ebc149c194dc6a4beb1_r.png',40865,'/data/uploads/programmer_common/images/m_a332f4ae72978ebc149c194dc6a4beb1_r.png','.png','2019-09-17 22:48:23',2),(27,4,0,'1568731729637.png','/data/uploads/programmer_common/images/m_961b39629e67d242a9bfb3b1ba63348c_r.png',44625,'/data/uploads/programmer_common/images/m_961b39629e67d242a9bfb3b1ba63348c_r.png','.png','2019-09-17 22:48:50',2),(28,4,0,'1568731739023.png','/data/uploads/programmer_common/images/m_4a2f9026b909dec6ea62adeae877f781_r.png',35203,'/data/uploads/programmer_common/images/m_4a2f9026b909dec6ea62adeae877f781_r.png','.png','2019-09-17 22:48:59',2),(29,4,0,'1568731751617.png','/data/uploads/programmer_common/images/m_3fee5492d94cc4653cbedd9d11bcd4d9_r.png',23814,'/data/uploads/programmer_common/images/m_3fee5492d94cc4653cbedd9d11bcd4d9_r.png','.png','2019-09-17 22:49:12',2),(30,4,0,'1568731778405.png','/data/uploads/programmer_common/images/m_6719e6f4106ffbf589c0596c5fd84a9b_r.png',58976,'/data/uploads/programmer_common/images/m_6719e6f4106ffbf589c0596c5fd84a9b_r.png','.png','2019-09-17 22:49:38',2),(31,4,0,'1568731794586.png','/data/uploads/programmer_common/images/m_c412744825162aa96b022908f9571312_r.png',61956,'/data/uploads/programmer_common/images/m_c412744825162aa96b022908f9571312_r.png','.png','2019-09-17 22:49:55',2),(32,4,0,'1568731820869.png','/data/uploads/programmer_common/images/m_8a8e9de7e68e8686648377be922607c1_r.png',61756,'/data/uploads/programmer_common/images/m_8a8e9de7e68e8686648377be922607c1_r.png','.png','2019-09-17 22:50:21',2),(33,4,0,'1568731888041.png','/data/uploads/programmer_common/images/m_fb38cbbcbffdf0f3fe2df44e63edabe5_r.png',60702,'/data/uploads/programmer_common/images/m_fb38cbbcbffdf0f3fe2df44e63edabe5_r.png','.png','2019-09-17 22:51:28',2),(34,5,0,'1568961295882.png','/data/uploads/designer_common/images/m_4f3f4ae3c6f32dc9871b0a0bac203177_r.png',38724,'/data/uploads/designer_common/images/m_4f3f4ae3c6f32dc9871b0a0bac203177_r.png','.png','2019-09-20 14:34:56',2),(35,5,0,'1568961309969.png','/data/uploads/designer_common/images/m_6843299f91f3a7f49028015b964fefef_r.png',34123,'/data/uploads/designer_common/images/m_6843299f91f3a7f49028015b964fefef_r.png','.png','2019-09-20 14:35:10',2),(36,5,0,'1568961322713.png','/data/uploads/designer_common/images/m_99dc6d4bc987f2d08b89cd96eaadd756_r.png',25648,'/data/uploads/designer_common/images/m_99dc6d4bc987f2d08b89cd96eaadd756_r.png','.png','2019-09-20 14:35:23',2),(37,5,0,'1568961342337.png','/data/uploads/designer_common/images/m_855cab30b5bb53b81fe5e7671883759e_r.png',54734,'/data/uploads/designer_common/images/m_855cab30b5bb53b81fe5e7671883759e_r.png','.png','2019-09-20 14:35:42',2),(38,5,0,'1568961373495.png','/data/uploads/designer_common/images/m_4f6a23560984c87b097c81fa189b6866_r.png',5721,'/data/uploads/designer_common/images/m_4f6a23560984c87b097c81fa189b6866_r.png','.png','2019-09-20 14:36:14',2),(39,5,0,'1568961378559.png','/data/uploads/designer_common/images/m_eb03a9487e4cca21ff92bac6006e4e32_r.png',74302,'/data/uploads/designer_common/images/m_eb03a9487e4cca21ff92bac6006e4e32_r.png','.png','2019-09-20 14:36:19',2),(40,5,0,'1568961412083.png','/data/uploads/designer_common/images/m_49fa7420f66d599980e5c01a0513fd9b_r.png',43661,'/data/uploads/designer_common/images/m_49fa7420f66d599980e5c01a0513fd9b_r.png','.png','2019-09-20 14:36:52',2),(41,5,0,'1568961534409.png','/data/uploads/designer_common/images/m_52940bc09e1d9d758e64209b282284b0_r.png',32366,'/data/uploads/designer_common/images/m_52940bc09e1d9d758e64209b282284b0_r.png','.png','2019-09-20 14:38:54',2),(42,5,0,'1568961548463.png','/data/uploads/designer_common/images/m_516df07e731b8a9adbf9aba52e3b37d3_r.png',29832,'/data/uploads/designer_common/images/m_516df07e731b8a9adbf9aba52e3b37d3_r.png','.png','2019-09-20 14:39:08',2),(43,5,0,'1568961560751.png','/data/uploads/designer_common/images/m_bb6d9a313fec4ea7b7e0b6cee1fbd34d_r.png',7551,'/data/uploads/designer_common/images/m_bb6d9a313fec4ea7b7e0b6cee1fbd34d_r.png','.png','2019-09-20 14:39:21',2),(44,5,0,'1568961650449.png','/data/uploads/designer_common/images/m_487504ce44bcba299b98ee0121ac3baa_r.png',51243,'/data/uploads/designer_common/images/m_487504ce44bcba299b98ee0121ac3baa_r.png','.png','2019-09-20 14:40:50',2);
/*!40000 ALTER TABLE `amazing_attachment` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_blogs`
--

DROP TABLE IF EXISTS `amazing_blogs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_blogs` (
  `blog_id` int(11) NOT NULL AUTO_INCREMENT,
  `blog_title` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `blog_identify` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `order_index` int(11) NOT NULL DEFAULT '0',
  `member_id` int(11) NOT NULL DEFAULT '0',
  `blog_type` int(11) NOT NULL DEFAULT '0',
  `document_id` int(11) NOT NULL DEFAULT '0',
  `blog_excerpt` varchar(1500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `blog_content` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  `blog_release` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  `blog_status` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'publish',
  `password` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `modify_time` datetime NOT NULL,
  `modify_at` int(11) NOT NULL DEFAULT '0',
  `create_time` datetime NOT NULL,
  `version` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`blog_id`),
  UNIQUE KEY `blog_identify` (`blog_identify`),
  UNIQUE KEY `blog_id` (`blog_id`,`blog_identify`),
  KEY `amazing_blogs_member_id` (`member_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_blogs`
--

LOCK TABLES `amazing_blogs` WRITE;
/*!40000 ALTER TABLE `amazing_blogs` DISABLE KEYS */;
/*!40000 ALTER TABLE `amazing_blogs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_books`
--

DROP TABLE IF EXISTS `amazing_books`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_books` (
  `book_id` int(11) NOT NULL AUTO_INCREMENT,
  `book_name` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `item_id` int(11) NOT NULL DEFAULT '1',
  `identify` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `auto_release` int(11) NOT NULL DEFAULT '0',
  `is_download` int(11) NOT NULL DEFAULT '0',
  `order_index` int(11) NOT NULL DEFAULT '0',
  `description` varchar(2000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `publisher` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `label` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `privately_owned` int(11) NOT NULL DEFAULT '0',
  `private_token` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `book_password` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `status` int(11) NOT NULL DEFAULT '0',
  `editor` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `doc_count` int(11) NOT NULL DEFAULT '0',
  `comment_status` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'open',
  `comment_count` int(11) NOT NULL DEFAULT '0',
  `cover` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `theme` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'default',
  `create_time` datetime NOT NULL,
  `history_count` int(11) NOT NULL DEFAULT '0',
  `is_enable_share` int(11) NOT NULL DEFAULT '0',
  `member_id` int(11) NOT NULL DEFAULT '0',
  `modify_time` datetime DEFAULT NULL,
  `version` bigint(20) NOT NULL DEFAULT '0',
  `is_use_first_document` int(11) NOT NULL DEFAULT '0',
  `auto_save` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`book_id`),
  UNIQUE KEY `identify` (`identify`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_books`
--

LOCK TABLES `amazing_books` WRITE;
/*!40000 ALTER TABLE `amazing_books` DISABLE KEYS */;
INSERT INTO `amazing_books` VALUES (1,'演示项目',1,'initial_doc',1,0,0,'这是一个演示项目，该项目是由系统初始化时自动创建。','','',0,'','',0,'markdown',1,'closed',0,'/static/images/book.jpg','default','2019-09-13 18:28:37',0,0,1,'2019-09-16 17:10:10',1568370517,1,1),(2,'封神召唤师',1,'fengshen',1,0,0,'','','',0,'','',0,'markdown',3,'closed',0,'/data/uploads/201909/cover_15c4f824555be4a0_small.jpg','default','2019-09-16 14:10:41',0,0,2,'2019-09-17 00:30:07',1568614241,1,1),(3,'启源女神',1,'qiyuan',1,0,0,'','','',0,'','',0,'markdown',3,'closed',0,'/data/uploads/201909/cover_15c4f81d95675f18_small.jpg','default','2019-09-16 16:04:11',0,0,2,'2019-09-17 00:29:39',1568621050,1,1),(4,'程序common',1,'programmer_common',0,1,0,'奇迹时代程序常见问题以及通用准则','','',0,'','',0,'markdown',9,'closed',0,'/data/uploads/201909/cover_15c5d5ddc4f10b50_small.jpg','default','2019-09-17 15:29:24',0,0,2,'2019-09-19 20:13:16',1568705364,1,0),(5,'策划common',1,'designer_common',0,1,0,'奇迹时代策划常见问题及通用准则','','',0,'','',0,'markdown',2,'closed',0,'/data/uploads/201909/cover_15c5d5d77fae86b8_small.jpg','default','2019-09-17 15:30:03',0,0,2,'2019-09-19 20:12:52',1568705403,1,0),(6,'测试common',1,'quality_tester_common',0,1,0,'奇迹时代测试常见问题及通用准则','','',0,'','',0,'markdown',2,'closed',0,'/data/uploads/201909/cover_15c5d5d0fdbe35c8_small.jpg','default','2019-09-17 15:30:59',0,0,2,'2019-09-19 20:12:19',1568705459,1,0),(7,'运维common',1,'maintenance_common',0,1,0,'','','',0,'','',0,'markdown',1,'closed',0,'/data/uploads/201909/cover_15c5d5e381aea220_small.jpg','default','2019-09-19 17:27:20',0,0,2,'2019-09-19 20:13:41',1568885240,1,0);
/*!40000 ALTER TABLE `amazing_books` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_document_history`
--

DROP TABLE IF EXISTS `amazing_document_history`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_document_history` (
  `history_id` int(11) NOT NULL AUTO_INCREMENT,
  `action` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `action_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `document_id` int(11) NOT NULL DEFAULT '0',
  `document_name` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `parent_id` int(11) NOT NULL DEFAULT '0',
  `markdown` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  `content` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  `member_id` int(11) NOT NULL DEFAULT '0',
  `modify_time` datetime NOT NULL,
  `modify_at` int(11) NOT NULL DEFAULT '0',
  `version` bigint(20) NOT NULL DEFAULT '0',
  `is_open` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`history_id`),
  KEY `amazing_document_history_document_id` (`document_id`),
  KEY `amazing_document_history_parent_id` (`parent_id`)
) ENGINE=InnoDB AUTO_INCREMENT=129 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_document_history`
--

LOCK TABLES `amazing_document_history` WRITE;
/*!40000 ALTER TABLE `amazing_document_history` DISABLE KEYS */;
INSERT INTO `amazing_document_history` VALUES (1,'modify','修改文档',5,'自动更新详解',3,'','',2,'2019-09-16 15:05:51',2,1568617550,0),(2,'modify','修改文档',7,'markdown语法演示',0,'','',1,'2019-09-16 16:12:39',1,1568621558,0),(3,'modify','修改文档',7,'markdown语法演示',0,'```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```','<div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-obj0sy8j\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj0z4yw\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj0kd5v\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj420bz\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj8m5w4\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj07c0s\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objjat5a\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj2m8kn\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objt231n\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj0sy8j)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj0z4yw)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj0kd5v)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj420bz)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj8m5w4)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj07c0s)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objjat5a)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj2m8kn)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objt231n)\" style=\"\"></path></svg></div>',1,'2019-09-16 16:31:40',1,1568622699,0),(4,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n\n\n## 语法演示2（二级标题）\n\n* [页内跳转至Install](#install)\n* [Run With Cmd](#run-with-cmd)\n* [Run With Container](#run-with-container)\n* [Monitor](#monitor)\n\n\n## Install\n\nclone this repo\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n\n## Run With Cmd\n\n- nsq:\n\n        nsqlookupd\n        nsqd --lookupd-tcp-address=127.0.0.1:4160\n\n- consul:\n\n        consul agent -dev\n\n- game-service:\n\n        cd game-service\n        go run main.go plugin.go --registry=consul --broker=nsq\n\n- arena-service:\n\n        cd arena-service\n        go run main.go plugin.go --registry=consul --broker=nsq\n\n## Run With Container\n\n- plugin\n    \n  first please install docker log driver [plugin](https://github.com/grafana/loki/tree/master/cmd/docker-driver) for loki.\n\n        docker plugin install  grafana/loki-docker-driver:latest --alias loki --grant-all-permissions\n\n- build \n\n		make docker\n\n- run\n\n        docker-compose up\n\n\n## Monitor','<h1 id=\"cnas6y\" class=\"markdown-heading\"><a name=\"cnas6y\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"2fooqh\" class=\"markdown-heading\"><a name=\"2fooqh\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><ul>\n<li><a href=\"#install\">页内跳转至Install</a></li><li><a href=\"#run-with-cmd\">Run With Cmd</a></li><li><a href=\"#run-with-container\">Run With Container</a></li><li><a href=\"#monitor\">Monitor</a></li></ul>\n<h2 id=\"89ymvr\" class=\"markdown-heading\"><a name=\"89ymvr\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Install</h2><p class=\"line\">clone this repo</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"al6kyj\" class=\"markdown-heading\"><a name=\"al6kyj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Run With Cmd</h2><ul>\n<li><p class=\"line\">nsq:</p>\n<pre class=\"hljs nginx\"><code>  <span class=\"hljs-attribute\">nsqlookupd</span>\n  nsqd --lookupd-tcp-address=<span class=\"hljs-number\">127.0.0.1:4160</span></code></pre></li><li><p class=\"line\">consul:</p>\n<pre class=\"hljs nginx\"><code>  <span class=\"hljs-attribute\">consul</span> agent -dev</code></pre></li><li><p class=\"line\">game-service:</p>\n<pre class=\"hljs bash\"><code>  <span class=\"hljs-built_in\">cd</span> game-service\n  go run main.go plugin.go --registry=consul --broker=nsq</code></pre></li><li><p class=\"line\">arena-service:</p>\n<pre class=\"hljs bash\"><code>  <span class=\"hljs-built_in\">cd</span> arena-service\n  go run main.go plugin.go --registry=consul --broker=nsq</code></pre></li></ul>\n<h2 id=\"9y2o96\" class=\"markdown-heading\"><a name=\"9y2o96\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Run With Container</h2><ul>\n<li><p class=\"line\">plugin</p>\n<p class=\"line\">first please install docker log driver <a href=\"https://github.com/grafana/loki/tree/master/cmd/docker-driver\" target=\"_blank\">plugin</a> for loki.</p>\n<pre class=\"hljs sql\"><code>  docker plugin <span class=\"hljs-keyword\">install</span>  grafana/loki-docker-driver:latest <span class=\"hljs-comment\">--alias loki --grant-all-permissions</span></code></pre></li><li><p class=\"line\">build </p>\n<pre class=\"hljs nginx\"><code>  <span class=\"hljs-attribute\">make</span> docker</code></pre></li><li><p class=\"line\">run</p>\n<pre class=\"hljs\"><code>  docker-compose up</code></pre></li></ul>\n<h2 id=\"cyjfjs\" class=\"markdown-heading\"><a name=\"cyjfjs\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Monitor</h2>',1,'2019-09-16 16:56:35',1,1568624194,0),(5,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n\n\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n\n## 如何页内跳转\n\n[点击跳转到强调位置](#PageAsterisks)\n\n## 如何引用\n\n默认引用：\n\n> 我是默认引用\n\nINFO 类型引用：\n\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\n>[danger] 我是danger类型引用\n\n\n[](@PageAsterisks)\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"ay7z4o\" class=\"markdown-heading\"><a name=\"ay7z4o\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"bxmvnh\" class=\"markdown-heading\"><a name=\"bxmvnh\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"4wfe4j\" class=\"markdown-heading\"><a name=\"4wfe4j\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><p class=\"line\"><a href=\"#PageAsterisks\">点击跳转到强调位置</a></p>\n<h2 id=\"8pdifg\" class=\"markdown-heading\"><a name=\"8pdifg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<p class=\"line\"><a name=\"PageAsterisks\"></a></p>\n<h2 id=\"7gtvok\" class=\"markdown-heading\"><a name=\"7gtvok\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"ghh2z0\" class=\"markdown-heading\"><a name=\"ghh2z0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"907pgm\" class=\"markdown-heading\"><a name=\"907pgm\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<h2 id=\"97timc\" class=\"markdown-heading\"><a name=\"97timc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.1875px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objoeekl\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objmp6i0\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objl8g3u\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objjp4u5\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objr3wt1\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj246j6\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj44rrm\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj3b5gz\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj1lt90\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objoeekl)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objmp6i0)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objl8g3u)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objjp4u5)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objr3wt1)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj246j6)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj44rrm)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj3b5gz)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj1lt90)\" style=\"\"></path></svg></div><h2 id=\"21q1ah\" class=\"markdown-heading\"><a name=\"21q1ah\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-16 17:01:41',1,1568624500,0),(6,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"crkyu\" class=\"markdown-heading\"><a name=\"crkyu\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"4mviz0\" class=\"markdown-heading\"><a name=\"4mviz0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"6ls13s\" class=\"markdown-heading\"><a name=\"6ls13s\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><h2 id=\"64j4zx\" class=\"markdown-heading\"><a name=\"64j4zx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"2k1kxy\" class=\"markdown-heading\"><a name=\"2k1kxy\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"2epoha\" class=\"markdown-heading\"><a name=\"2epoha\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"1pdsi1\" class=\"markdown-heading\"><a name=\"1pdsi1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"5txbg6\" class=\"markdown-heading\"><a name=\"5txbg6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"2crb6u\" class=\"markdown-heading\"><a name=\"2crb6u\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.8125px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objpobql\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj3qfoe\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj9e2jf\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objr0lyh\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objetph4\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objv1og6\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obje5rbk\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objtiv3t\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj6iicw\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objpobql)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj3qfoe)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj9e2jf)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objr0lyh)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objetph4)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objv1og6)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obje5rbk)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objtiv3t)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj6iicw)\" style=\"\"></path></svg></div><h2 id=\"fdm57x\" class=\"markdown-heading\"><a name=\"fdm57x\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-16 17:07:32',1,1568624851,0),(7,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"4vmhl6\" class=\"markdown-heading\"><a name=\"4vmhl6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"8zvf2b\" class=\"markdown-heading\"><a name=\"8zvf2b\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"aipfyh\" class=\"markdown-heading\"><a name=\"aipfyh\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"8o8eul\" class=\"markdown-heading\"><a name=\"8o8eul\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"g5f153\" class=\"markdown-heading\"><a name=\"g5f153\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"51cc99\" class=\"markdown-heading\"><a name=\"51cc99\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"4eg1c5\" class=\"markdown-heading\"><a name=\"4eg1c5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"eio5gu\" class=\"markdown-heading\"><a name=\"eio5gu\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"8dccvr\" class=\"markdown-heading\"><a name=\"8dccvr\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.59375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objbhz8i\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objviw7j\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objs4nbi\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objsf3nl\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objyc3ll\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objircpu\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj30qqx\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj18qyj\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj6o123\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objbhz8i)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objviw7j)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objs4nbi)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objsf3nl)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objyc3ll)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objircpu)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj30qqx)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj18qyj)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj6o123)\" style=\"\"></path></svg></div><h2 id=\"dn567j\" class=\"markdown-heading\"><a name=\"dn567j\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-16 21:37:25',2,1568641044,0),(8,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n![\"端午\"]![](/data/uploads/initial_doc/images/m_b968c10e5c45c14af437c7c677c87b75_r.JPG)(https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"6dwaxb\" class=\"markdown-heading\"><a name=\"6dwaxb\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"ecrg9o\" class=\"markdown-heading\"><a name=\"ecrg9o\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"gfc7mc\" class=\"markdown-heading\"><a name=\"gfc7mc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"5sv2jz\" class=\"markdown-heading\"><a name=\"5sv2jz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"8m5410\" class=\"markdown-heading\"><a name=\"8m5410\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"mszni\" class=\"markdown-heading\"><a name=\"mszni\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"18gopb\" class=\"markdown-heading\"><a name=\"18gopb\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"bycm46\" class=\"markdown-heading\"><a name=\"bycm46\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<p class=\"line\">![“端午”]<img src=\"/data/uploads/initial_doc/images/m_b968c10e5c45c14af437c7c677c87b75_r.JPG\" title=\"null\" alt=\"\">(<a href=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" target=\"_blank\">https://pandao.github.io/editor.md/examples/images/4.jpg</a> “飞走的气球”)</p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"9sgcbs\" class=\"markdown-heading\"><a name=\"9sgcbs\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.59375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objwq22b\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objhp33q\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj3xpuw\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objqhelu\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objefajl\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objrky13\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objghksi\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objd1ebd\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objj07sj\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objwq22b)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objhp33q)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj3xpuw)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objqhelu)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objefajl)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objrky13)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objghksi)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objd1ebd)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objj07sj)\" style=\"\"></path></svg></div><h2 id=\"919ufc\" class=\"markdown-heading\"><a name=\"919ufc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-16 21:37:55',2,1568641074,0),(9,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n![\"端午\"]![](/data/uploads/initial_doc/images/m_b968c10e5c45c14af437c7c677c87b75_r.JPG\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"fnlt78\" class=\"markdown-heading\"><a name=\"fnlt78\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"692nql\" class=\"markdown-heading\"><a name=\"692nql\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"d2o6lk\" class=\"markdown-heading\"><a name=\"d2o6lk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"gdtt3d\" class=\"markdown-heading\"><a name=\"gdtt3d\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"9nkjcz\" class=\"markdown-heading\"><a name=\"9nkjcz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"3pfrl2\" class=\"markdown-heading\"><a name=\"3pfrl2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"69f71\" class=\"markdown-heading\"><a name=\"69f71\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"b1wn8h\" class=\"markdown-heading\"><a name=\"b1wn8h\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<p class=\"line\">![“端午”]![](/data/uploads/initial_doc/images/m_b968c10e5c45c14af437c7c677c87b75_r.JPG</p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"9144zi\" class=\"markdown-heading\"><a name=\"9144zi\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.59375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objdwxrt\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objmioaf\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objeljbo\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objt50pr\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objdpk0g\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objzcdmq\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objap3ih\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objgv4ry\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objsoqpq\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objdwxrt)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objmioaf)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objeljbo)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objt50pr)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objdpk0g)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objzcdmq)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objap3ih)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objgv4ry)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objsoqpq)\" style=\"\"></path></svg></div><h2 id=\"qmo0e\" class=\"markdown-heading\"><a name=\"qmo0e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-16 21:38:25',2,1568641104,0),(10,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"g3tmwl\" class=\"markdown-heading\"><a name=\"g3tmwl\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"d19mv8\" class=\"markdown-heading\"><a name=\"d19mv8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"7hhx0t\" class=\"markdown-heading\"><a name=\"7hhx0t\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"2lczw4\" class=\"markdown-heading\"><a name=\"2lczw4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"1z4g96\" class=\"markdown-heading\"><a name=\"1z4g96\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"41uhqu\" class=\"markdown-heading\"><a name=\"41uhqu\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"4yvdbl\" class=\"markdown-heading\"><a name=\"4yvdbl\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"fd9gzv\" class=\"markdown-heading\"><a name=\"fd9gzv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"3l86qf\" class=\"markdown-heading\"><a name=\"3l86qf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.59375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objrofpb\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj5fx7n\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objd482n\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj0wztt\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj4bbs9\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objgqdo8\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objlwh89\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obja9o5q\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objaqxa3\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objrofpb)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj5fx7n)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objd482n)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj0wztt)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj4bbs9)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objgqdo8)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objlwh89)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obja9o5q)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objaqxa3)\" style=\"\"></path></svg></div><h2 id=\"97lo0y\" class=\"markdown-heading\"><a name=\"97lo0y\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-16 21:38:55',2,1568641134,0),(11,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n![](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"5hny5w\" class=\"markdown-heading\"><a name=\"5hny5w\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"2y21m1\" class=\"markdown-heading\"><a name=\"2y21m1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"8edw9r\" class=\"markdown-heading\"><a name=\"8edw9r\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"gb50j5\" class=\"markdown-heading\"><a name=\"gb50j5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"7gkd5r\" class=\"markdown-heading\"><a name=\"7gkd5r\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"28i8w7\" class=\"markdown-heading\"><a name=\"28i8w7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"bael7j\" class=\"markdown-heading\"><a name=\"bael7j\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"2kanx4\" class=\"markdown-heading\"><a name=\"2kanx4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<p class=\"line\"><img src=\"/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG\" title=\"null\" alt=\"\"></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"fyht49\" class=\"markdown-heading\"><a name=\"fyht49\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.59375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-obje2oak\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objn33j2\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objjl8if\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objo54ce\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objc7jvk\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objugkuh\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objph8no\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obja4u9z\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objhn7u2\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obje2oak)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objn33j2)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objjl8if)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objo54ce)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objc7jvk)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objugkuh)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objph8no)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obja4u9z)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objhn7u2)\" style=\"\"></path></svg></div><h2 id=\"76ykhv\" class=\"markdown-heading\"><a name=\"76ykhv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-16 21:41:17',2,1568641277,0),(12,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"c0gc8r\" class=\"markdown-heading\"><a name=\"c0gc8r\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"ap4i0a\" class=\"markdown-heading\"><a name=\"ap4i0a\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"86abqw\" class=\"markdown-heading\"><a name=\"86abqw\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"almts7\" class=\"markdown-heading\"><a name=\"almts7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"ez2v9s\" class=\"markdown-heading\"><a name=\"ez2v9s\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"18cgx5\" class=\"markdown-heading\"><a name=\"18cgx5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"61uu7n\" class=\"markdown-heading\"><a name=\"61uu7n\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"76sn2h\" class=\"markdown-heading\"><a name=\"76sn2h\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<p class=\"line\"><img src=\"/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG\" title=\"null\" alt=\"端午\"></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"201ioi\" class=\"markdown-heading\"><a name=\"201ioi\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.59375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objtfatc\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objb55vx\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objdh7ec\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objyusjj\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objhb73s\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj0p45c\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objjlni5\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objn3dlx\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objus5gq\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objtfatc)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objb55vx)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objdh7ec)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objyusjj)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objhb73s)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj0p45c)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objjlni5)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objn3dlx)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objus5gq)\" style=\"\"></path></svg></div><h2 id=\"4c0nt3\" class=\"markdown-heading\"><a name=\"4c0nt3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-17 00:31:51',2,1568651511,0),(13,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n网络图片\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n本地上传图片附件\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"53ndqu\" class=\"markdown-heading\"><a name=\"53ndqu\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"emfpoo\" class=\"markdown-heading\"><a name=\"emfpoo\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"1t8oj5\" class=\"markdown-heading\"><a name=\"1t8oj5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"6a5s25\" class=\"markdown-heading\"><a name=\"6a5s25\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"dl64xd\" class=\"markdown-heading\"><a name=\"dl64xd\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"2cdyug\" class=\"markdown-heading\"><a name=\"2cdyug\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"3ax4y0\" class=\"markdown-heading\"><a name=\"3ax4y0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"c390jz\" class=\"markdown-heading\"><a name=\"c390jz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><p class=\"line\">网络图片</p>\n<pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<p class=\"line\">本地上传图片附件</p>\n<pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">端午</span>](<span class=\"hljs-link\">/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG</span>)</code></pre><p class=\"line\"><img src=\"/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG\" title=\"null\" alt=\"端午\"></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"5nccqs\" class=\"markdown-heading\"><a name=\"5nccqs\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objw6grh\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objj02ht\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objx75gn\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objvmf40\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objhqiyr\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objn1hoa\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objb6157\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objtacwa\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objzs3q4\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objw6grh)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objj02ht)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objx75gn)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objvmf40)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objhqiyr)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objn1hoa)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objb6157)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objtacwa)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objzs3q4)\" style=\"\"></path></svg></div><h2 id=\"92c0l9\" class=\"markdown-heading\"><a name=\"92c0l9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-17 00:32:51',2,1568651571,0),(14,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n### 网络图片\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n### 本地上传图片附件\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"gc4q5w\" class=\"markdown-heading\"><a name=\"gc4q5w\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"14q556\" class=\"markdown-heading\"><a name=\"14q556\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"czm4lc\" class=\"markdown-heading\"><a name=\"czm4lc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"wdxj\" class=\"markdown-heading\"><a name=\"wdxj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"fdeozg\" class=\"markdown-heading\"><a name=\"fdeozg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"6npxfy\" class=\"markdown-heading\"><a name=\"6npxfy\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"a958n4\" class=\"markdown-heading\"><a name=\"a958n4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"1xdyf7\" class=\"markdown-heading\"><a name=\"1xdyf7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><h3 id=\"ary6u9\" class=\"markdown-heading\"><a name=\"ary6u9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>网络图片</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<h3 id=\"63hlz3\" class=\"markdown-heading\"><a name=\"63hlz3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>本地上传图片附件</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">端午</span>](<span class=\"hljs-link\">/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG</span>)</code></pre><p class=\"line\"><img src=\"/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG\" title=\"null\" alt=\"端午\"></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"9y3lqc\" class=\"markdown-heading\"><a name=\"9y3lqc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-obj1hlfd\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj2i4pl\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj3ewao\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objmzz4i\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objbz5wd\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objh2vkl\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objd6ux6\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objueupf\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj201ap\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj1hlfd)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj2i4pl)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj3ewao)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objmzz4i)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objbz5wd)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objh2vkl)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objd6ux6)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objueupf)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj201ap)\" style=\"\"></path></svg></div><h2 id=\"2i3ay9\" class=\"markdown-heading\"><a name=\"2i3ay9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-17 00:39:16',2,1568651956,0),(15,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n### 网络图片\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n### 本地上传图片附件\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"cea8g6\" class=\"markdown-heading\"><a name=\"cea8g6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"79ik6p\" class=\"markdown-heading\"><a name=\"79ik6p\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"ajlue3\" class=\"markdown-heading\"><a name=\"ajlue3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"9fcqsb\" class=\"markdown-heading\"><a name=\"9fcqsb\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"fhkvcm\" class=\"markdown-heading\"><a name=\"fhkvcm\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"bhzubx\" class=\"markdown-heading\"><a name=\"bhzubx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"forgpz\" class=\"markdown-heading\"><a name=\"forgpz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"6lrm2n\" class=\"markdown-heading\"><a name=\"6lrm2n\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><h3 id=\"k24wf\" class=\"markdown-heading\"><a name=\"k24wf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>网络图片</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<h3 id=\"feubiy\" class=\"markdown-heading\"><a name=\"feubiy\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>本地上传图片附件</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">端午</span>](<span class=\"hljs-link\">/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG</span>)</code></pre><p class=\"line\"><img src=\"/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG\" title=\"null\" alt=\"端午\"></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"ccq3ez\" class=\"markdown-heading\"><a name=\"ccq3ez\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objom2go\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objx1flr\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objrbz09\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objwept4\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objmme65\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objep5be\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objacx8t\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objajt25\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objktetz\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objom2go)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objx1flr)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objrbz09)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objwept4)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objmme65)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objep5be)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objacx8t)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objajt25)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objktetz)\" style=\"\"></path></svg></div><h2 id=\"30bm8o\" class=\"markdown-heading\"><a name=\"30bm8o\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-17 00:46:12',2,1568652372,0),(16,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\njjj\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n### 网络图片\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n### 本地上传图片附件\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"3celzf\" class=\"markdown-heading\"><a name=\"3celzf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<p class=\"line\">jjj</p>\n<h2 id=\"f04gi4\" class=\"markdown-heading\"><a name=\"f04gi4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"7c9qvh\" class=\"markdown-heading\"><a name=\"7c9qvh\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"gi0851\" class=\"markdown-heading\"><a name=\"gi0851\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"435v3m\" class=\"markdown-heading\"><a name=\"435v3m\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"8xd8od\" class=\"markdown-heading\"><a name=\"8xd8od\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"2suapw\" class=\"markdown-heading\"><a name=\"2suapw\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"ba2obz\" class=\"markdown-heading\"><a name=\"ba2obz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><h3 id=\"7dxjlj\" class=\"markdown-heading\"><a name=\"7dxjlj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>网络图片</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<h3 id=\"87bjul\" class=\"markdown-heading\"><a name=\"87bjul\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>本地上传图片附件</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">端午</span>](<span class=\"hljs-link\">/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG</span>)</code></pre><p class=\"line\"><img src=\"/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG\" title=\"null\" alt=\"端午\"></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"dcbi8d\" class=\"markdown-heading\"><a name=\"dcbi8d\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objjgosb\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objlcies\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objp8daj\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objz34st\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj5d8ba\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objdcvst\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj2y4md\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objpfpjx\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj8e5z6\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objjgosb)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objlcies)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objp8daj)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objz34st)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj5d8ba)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objdcvst)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj2y4md)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objpfpjx)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj8e5z6)\" style=\"\"></path></svg></div><h2 id=\"duw125\" class=\"markdown-heading\"><a name=\"duw125\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-17 00:46:42',2,1568652402,0),(17,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\nfdsfdsfdsdsfdffdsdsdf\njjj\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n### 网络图片\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n### 本地上传图片附件\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"1sdghp\" class=\"markdown-heading\"><a name=\"1sdghp\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+<br>fdsfdsfdsdsfdffdsdsdf<br>jjj<h2 id=\"dwk3gl\" class=\"markdown-heading\"><a name=\"dwk3gl\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2></li></ul>\n<p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"g2a8wv\" class=\"markdown-heading\"><a name=\"g2a8wv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"c6j723\" class=\"markdown-heading\"><a name=\"c6j723\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"871ugv\" class=\"markdown-heading\"><a name=\"871ugv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"4r2oob\" class=\"markdown-heading\"><a name=\"4r2oob\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"b0k9h4\" class=\"markdown-heading\"><a name=\"b0k9h4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"9qyr3t\" class=\"markdown-heading\"><a name=\"9qyr3t\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><h3 id=\"az3ohh\" class=\"markdown-heading\"><a name=\"az3ohh\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>网络图片</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<h3 id=\"bi4l1q\" class=\"markdown-heading\"><a name=\"bi4l1q\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>本地上传图片附件</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">端午</span>](<span class=\"hljs-link\">/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG</span>)</code></pre><p class=\"line\"><img src=\"/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG\" title=\"null\" alt=\"端午\"></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"56js20\" class=\"markdown-heading\"><a name=\"56js20\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objgikbl\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj6nkgg\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj35t7w\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objf90ki\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objc1vru\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objdrtgc\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objt92sd\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objio44a\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objgimz0\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objgikbl)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj6nkgg)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj35t7w)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objf90ki)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objc1vru)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objdrtgc)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objt92sd)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objio44a)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objgimz0)\" style=\"\"></path></svg></div><h2 id=\"cfti3r\" class=\"markdown-heading\"><a name=\"cfti3r\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-17 00:52:47',2,1568652766,0),(18,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n### 网络图片\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n### 本地上传图片附件\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"fqngkg\" class=\"markdown-heading\"><a name=\"fqngkg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"gbi93g\" class=\"markdown-heading\"><a name=\"gbi93g\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"da1hi2\" class=\"markdown-heading\"><a name=\"da1hi2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"fix3cy\" class=\"markdown-heading\"><a name=\"fix3cy\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"e5ieb0\" class=\"markdown-heading\"><a name=\"e5ieb0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"7v3mzm\" class=\"markdown-heading\"><a name=\"7v3mzm\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"4x89e\" class=\"markdown-heading\"><a name=\"4x89e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"4mqi41\" class=\"markdown-heading\"><a name=\"4mqi41\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><h3 id=\"fga4lv\" class=\"markdown-heading\"><a name=\"fga4lv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>网络图片</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<h3 id=\"be13d4\" class=\"markdown-heading\"><a name=\"be13d4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>本地上传图片附件</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">端午</span>](<span class=\"hljs-link\">/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG</span>)</code></pre><p class=\"line\"><img src=\"/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG\" title=\"null\" alt=\"端午\"></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"fv4iuz\" class=\"markdown-heading\"><a name=\"fv4iuz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objbpcof\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objycpof\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objxc3xr\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objusu23\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objiaouj\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj9shcj\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objbp4yl\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj7znmh\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objcyo5j\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objbpcof)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objycpof)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objxc3xr)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objusu23)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objiaouj)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj9shcj)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objbp4yl)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj7znmh)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objcyo5j)\" style=\"\"></path></svg></div><h2 id=\"8d6ftk\" class=\"markdown-heading\"><a name=\"8d6ftk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-17 00:55:45',2,1568652944,0),(19,'modify','修改文档',7,'markdown语法演示',0,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n \n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n### 网络图片\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n### 本地上传图片附件\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<h1 id=\"g3ziog\" class=\"markdown-heading\"><a name=\"g3ziog\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"kdeqd\" class=\"markdown-heading\"><a name=\"kdeqd\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"9i7za\" class=\"markdown-heading\"><a name=\"9i7za\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"17qvh9\" class=\"markdown-heading\"><a name=\"17qvh9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"9plyg0\" class=\"markdown-heading\"><a name=\"9plyg0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"6w5otx\" class=\"markdown-heading\"><a name=\"6w5otx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"fe7yy3\" class=\"markdown-heading\"><a name=\"fe7yy3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"eopv5v\" class=\"markdown-heading\"><a name=\"eopv5v\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><h3 id=\"c2k17t\" class=\"markdown-heading\"><a name=\"c2k17t\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>网络图片</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<h3 id=\"a4hbcd\" class=\"markdown-heading\"><a name=\"a4hbcd\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>本地上传图片附件</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">端午</span>](<span class=\"hljs-link\">/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG</span>)</code></pre><p class=\"line\"><img src=\"/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG\" title=\"null\" alt=\"端午\"></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"4un4zt\" class=\"markdown-heading\"><a name=\"4un4zt\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objyzpd9\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objsmotk\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objrudxj\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objuf0uw\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objbb35e\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obja36fb\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objpsk4d\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objkzi09\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj9jmti\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objyzpd9)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objsmotk)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objrudxj)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objuf0uw)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objbb35e)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obja36fb)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objpsk4d)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objkzi09)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj9jmti)\" style=\"\"></path></svg></div><h2 id=\"7z5du0\" class=\"markdown-heading\"><a name=\"7z5du0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>',1,'2019-09-17 00:59:46',2,1568653185,0),(20,'modify','修改文档',10,'自动更新详解',0,'','',2,'2019-09-17 15:32:26',2,1568705546,0),(21,'modify','修改文档',13,'封神召唤师服务器本机配置说明',0,'','',2,'2019-09-17 15:39:25',2,1568705964,0),(22,'modify','修改文档',13,'封神召唤师服务器本机配置说明',0,'# 封神召唤师服务器本机配置说明\n\n## 安装MySql\n>32位系统:  mysql-5.1.41-win32\n64位系统:  mysql-5.1.41-winx64\n\n## 安装数据库:\n* 用SQLyogEnt导入以下server \\server\\sql 文件夹下的 sql文件\n>**game_db.sql**\n**log_db.sql**\n**logon_db.sql**\n\n* 修改服务器相关配置文件\n>文件路径**server\\server\\settings\\\nconnecting_config.ini\ndb_config.ini**\n\n\n## 服务器所需工具\n* DES Tool.exe\n>数据库密码加密工具用于db_config.ini文件中 pwd字段的加密\n\n* SQLyog\n>数据库工具用于研发查看对应数据\n\n* Windbg\n>安装后\n1.需要将ADplus.bat修改\n2.需要把adplus.vbs替换到windbg安装路径  \nC:\\Program Files\\Debugging Tools for Windows (x64)','<h1 id=\"7k03sl\" class=\"markdown-heading\"><a name=\"7k03sl\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>封神召唤师服务器本机配置说明</h1><h2 id=\"6t0ro6\" class=\"markdown-heading\"><a name=\"6t0ro6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>安装MySql</h2><blockquote class=\"default\">\n<p class=\"line\">32位系统:  mysql-5.1.41-win32<br>64位系统:  mysql-5.1.41-winx64</p>\n</blockquote>\n<h2 id=\"5h3r5i\" class=\"markdown-heading\"><a name=\"5h3r5i\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>安装数据库:</h2><ul>\n<li><p class=\"line\">用SQLyogEnt导入以下server \\server\\sql 文件夹下的 sql文件</p>\n<blockquote class=\"default\">\n<p class=\"line\"><strong>game_db.sql</strong><br><strong>log_db.sql</strong><br><strong>logon_db.sql</strong></p>\n</blockquote>\n</li><li><p class=\"line\">修改服务器相关配置文件</p>\n<blockquote class=\"default\">\n<p class=\"line\">文件路径<strong>server\\server\\settings<br>connecting_config.ini<br>db_config.ini</strong></p>\n</blockquote>\n</li></ul>\n<h2 id=\"7l4s4i\" class=\"markdown-heading\"><a name=\"7l4s4i\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>服务器所需工具</h2><ul>\n<li><p class=\"line\">DES Tool.exe</p>\n<blockquote class=\"default\">\n<p class=\"line\">数据库密码加密工具用于db_config.ini文件中 pwd字段的加密</p>\n</blockquote>\n</li><li><p class=\"line\">SQLyog</p>\n<blockquote class=\"default\">\n<p class=\"line\">数据库工具用于研发查看对应数据</p>\n</blockquote>\n</li><li><p class=\"line\">Windbg</p>\n<blockquote class=\"default\">\n<p class=\"line\">安装后<br>1.需要将ADplus.bat修改<br>2.需要把adplus.vbs替换到windbg安装路径<br>C:\\Program Files\\Debugging Tools for Windows (x64)</p>\n</blockquote>\n</li></ul>\n',2,'2019-09-17 15:41:13',2,1568706072,0),(23,'modify','修改文档',13,'封神召唤师服务器本机配置说明',0,'# 封神召唤师服务器本机配置说明\n\n## 安装MySql\n>32位系统:  mysql-5.1.41-win32\n64位系统:  mysql-5.1.41-winx64\n\n## 安装数据库:\n* 用SQLyogEnt导入以下server \\server\\sql 文件夹下的 sql文件\n>**game_db.sql**\n**log_db.sql**\n**logon_db.sql**\n\n* 修改服务器相关配置文件\n>文件路径**server\\server\\settings\\\nconnecting_config.ini\n![](/data/uploads/programmer_common/images/m_cbe3cfac835155a3a33fb7d77368de98_r.png)\ndb_config.ini**\n![](/data/uploads/programmer_common/images/m_9ace96c47be6db3a5c61d46db44b9c49_r.png)\n\n## 服务器所需工具\n* DES Tool.exe\n>数据库密码加密工具用于db_config.ini文件中 pwd字段的加密\n\n* SQLyog\n>数据库工具用于研发查看对应数据\n\n* Windbg\n>安装后\n1.需要将ADplus.bat修改\n![](/data/uploads/programmer_common/images/m_e2928300ea9c529551631c425f9e50d4_r.png)\n2.需要把adplus.vbs替换到windbg安装路径  \nC:\\Program Files\\Debugging Tools for Windows (x64)','<h1 id=\"215jgj\" class=\"markdown-heading\"><a name=\"215jgj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>封神召唤师服务器本机配置说明</h1><h2 id=\"9t9efu\" class=\"markdown-heading\"><a name=\"9t9efu\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>安装MySql</h2><blockquote class=\"default\">\n<p class=\"line\">32位系统:  mysql-5.1.41-win32<br>64位系统:  mysql-5.1.41-winx64</p>\n</blockquote>\n<h2 id=\"4nbe54\" class=\"markdown-heading\"><a name=\"4nbe54\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>安装数据库:</h2><ul>\n<li><p class=\"line\">用SQLyogEnt导入以下server \\server\\sql 文件夹下的 sql文件</p>\n<blockquote class=\"default\">\n<p class=\"line\"><strong>game_db.sql</strong><br><strong>log_db.sql</strong><br><strong>logon_db.sql</strong></p>\n</blockquote>\n</li><li><p class=\"line\">修改服务器相关配置文件</p>\n<blockquote class=\"default\">\n<p class=\"line\">文件路径<strong>server\\server\\settings<br>connecting_config.ini<br><img src=\"/data/uploads/programmer_common/images/m_cbe3cfac835155a3a33fb7d77368de98_r.png\" title=\"null\" alt=\"\"><br>db_config.ini</strong><br><img src=\"/data/uploads/programmer_common/images/m_9ace96c47be6db3a5c61d46db44b9c49_r.png\" title=\"null\" alt=\"\"></p>\n</blockquote>\n</li></ul>\n<h2 id=\"4o50ew\" class=\"markdown-heading\"><a name=\"4o50ew\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>服务器所需工具</h2><ul>\n<li><p class=\"line\">DES Tool.exe</p>\n<blockquote class=\"default\">\n<p class=\"line\">数据库密码加密工具用于db_config.ini文件中 pwd字段的加密</p>\n</blockquote>\n</li><li><p class=\"line\">SQLyog</p>\n<blockquote class=\"default\">\n<p class=\"line\">数据库工具用于研发查看对应数据</p>\n</blockquote>\n</li><li><p class=\"line\">Windbg</p>\n<blockquote class=\"default\">\n<p class=\"line\">安装后<br>1.需要将ADplus.bat修改<br><img src=\"/data/uploads/programmer_common/images/m_e2928300ea9c529551631c425f9e50d4_r.png\" title=\"null\" alt=\"\"><br>2.需要把adplus.vbs替换到windbg安装路径<br>C:\\Program Files\\Debugging Tools for Windows (x64)</p>\n</blockquote>\n</li></ul>\n',2,'2019-09-17 15:47:26',2,1568706446,0),(24,'modify','修改文档',14,'程序工作规范',0,'','',2,'2019-09-17 16:30:44',2,1568709044,0),(25,'modify','修改文档',14,'程序工作规范',0,'# 目录\n\n* [源码书写格式](#page1)\n\n* [规定执行的规范](#page2)\n\n* [建议的风格](#page3)\n\n* [工作流程](#page4)\n\n* [客户端工作路径设置](#page5)\n\n* [外部依赖项目](#page6)\n\n* [源码路径设置](#page7)\n\n* [新建项目属性设置注意](#page8)\n\n* [编辑输出目录和调试工作目录设置](#page9)\n\n[](@page1)\n## 源码书写格式\n[](@page2)\n### 规定执行的规范\n\n* 在公共模块的接口class 和接口函数声明处(或者是在函数定义前), 必须有Doxygen风格的注释;\n![](/data/uploads/programmer_common/images/m_c006dacc0b0c78b8d144c38dcc0e81aa_r.png)\n\n* 定义结构：\n\n	```\n	struct tagScore\n	{\n	DWORD dwKatty,\n	DWORD dwTommy,\n	DWORD dwLucy,\n	....\n	};\n	```\n		\n	>[info]上面例子强调使用tag前缀;\n\n* 枚举：\n\n	```\n	enum Eweek\n	{\n	EW\\_Monday,\n	EW\\_Tuesday,\n	EW\\_Wednesday,\n	....\n	};\n	```\n\n	>[info]上面例子强调使用大写E前缀，以及EW\\_前缀(W代表Week)\n\n	```\n	enum Eplanet\n	{\n			   EP\\_Mercurial,\n			EP\\_Hesperus,\n			EP\\_Earth,\n			....\n	};\n	```\n\n	>[info]上面例子强调使用大写E前缀，以及EP\\_前缀(P代表Planet)\n\n\n* 定义常量：\nconst DWORD PERSON\\_NUM = 10; (**常量名用大写**)\n如果非要使用define的话\n```\n#define PERSON\\_NUM 10\n```\n\n* 前缀：\n>全局变量：`g_`(如`g_nScreenWidth`)\n类的成员变量：`m_`(如`m_eWeek`)\n\n* 跨越函数范围的变量的前缀(对于函数内部的变量建议参考)\n>指针：p(如`pRect`)\n枚举成员：e(如`eWeek`)\nBOOL(bool)：b(如`bSwitch`)\nINT(int)：n(如`nPerson`)\nLONG：l(如`lSize`)\nFLOAT(float)：f(如`fTime`)\nDWORD：dw(如`dwTick`)\nWORD：w(如`wHeight`)\nBYTE：by(如`byRed`)\nchar：c(如`cLetter`)\nTCHAR[]：sz(如`szFileName`)\nLPCTSTR\\LPTSTR：`lpsz`(`sz`也可)\n\n[](@page3)\n## 建议的风格\n\n* 前缀：\n>文件作用域内的变量：`f_`\n静态变量：`s_`\n句柄：`h`\nSTL:\nstring：`str`(如`strFileName`)\nvector：`vec`(如`vecArray`)\nlist：`list`(如`listScore`)\nmap：`map`(如`mapCSV`)\n\n* 字符以及字符串：\n>建议使用`TCHAR`, `LPCTSTR`, `LPTSTR`等\n\n* 注释\n	>* 每40行代码至少有1行注释\n	>* 因为某原因将一段程序注释掉后，最好写上注释的原因\n		\n* 关于程序文件结构\n	>* 尽量利用预编译头文件\n	>* 普通头文件中尽量不包含除基类头文件或常量定义头文件外的其他头文件\n\n[](@page4)\n## 工作流程\n\n* 项目程序应指定一个总负责人，另外客户端、服务器各指定一个主程序；\n* 项目的整体架构设计应该经过核心程序团队充分讨论，并制定架构文档；\n* 架构设计完成之后，可以进行模块分工，每个模块可以指定一个负责人；\n* 模块设计应先详细了解策划案，并与策划充分讨论，若有不同意见，可与程序负责人、策划讨论修改意见；\n* 模块设计可由模块负责人或者主程序完成，并形成文档，要求文档至少要包含UML静态结构图，以及关键流程、核心算法的序列图或状态图，或者流程图或者文字描述；\n* 模块设计完成之后，应由主程序复审。主程序应从架构，以及设计质量等方面详细考察设计方案，并指出不恰当的地方予以修正；\n* 模块设计确认之后，可以进行编码实现。在编码完成的同时要求完成单元测试代码，对于界面可以使用交互式测试框架，对于游戏逻辑代码可以使用自动运行的测试代码；\n* 模块负责人完成全部代码，并且通过单元测试之后，应提交主程序进行代码复审，此工作也可由另外一位程序员来做；\n* 上述工作完成之后，可以将模块整合进整个游戏，并根据策划案设计整合测试用例，进行整合测试。\n\n[](@page5)\n# 客户端工作路径设置\n\n[](@page6)\n## 外部依赖项目\n\n\n\n\n[](@page7)\n## 源码路径设置\n\n\n\nWork目录结构说明：\n\n Work目录包含两个 **主要解决方案**** KungfuClient.sln , QuantaClient.sln **, 一个工程** 输出目录 **\\** bin **.每个解决方案又分别包含多个工程.  所有工程都应将** 工作目录**设置为d:\\Work\\bin\n\n结构如下:\n\n  KungfuClient.sln :\n\n     a)  FWorldEditor   游戏世界编辑器\n\n     b)  GameFrame    客户端游戏框架\n\n     c)  KungfuClient   游戏客户端程序\n\n  QuantaClient.sln\n\n     a)  F3D           客户端游戏引擎\n\n     b)  F3dView       图片浏览工具\n\n     c)  FterrainEditor   地形编辑器\n\n     d)  lua            LUA脚本语言解释器\n\n### 新建项目属性设置注意\n\n\n\n### 编辑输出目录和调试工作目录设置','<h1 id=\"dzxrx1\" class=\"markdown-heading\"><a name=\"dzxrx1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>目录</h1><ul>\n<li><p class=\"line\"><a href=\"#page1\">源码书写格式</a></p>\n</li><li><p class=\"line\"><a href=\"#page2\">规定执行的规范</a></p>\n</li><li><p class=\"line\"><a href=\"#page3\">建议的风格</a></p>\n</li><li><p class=\"line\"><a href=\"#page4\">工作流程</a></p>\n</li><li><p class=\"line\"><a href=\"#page5\">客户端工作路径设置</a></p>\n</li><li><p class=\"line\"><a href=\"#page6\">外部依赖项目</a></p>\n</li><li><p class=\"line\"><a href=\"#page7\">源码路径设置</a></p>\n</li><li><p class=\"line\"><a href=\"#page8\">新建项目属性设置注意</a></p>\n</li><li><p class=\"line\"><a href=\"#page9\">编辑输出目录和调试工作目录设置</a></p>\n</li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"71a76n\" class=\"markdown-heading\"><a name=\"71a76n\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>源码书写格式</h2><p class=\"line\"><a name=\"page2\"></a></p>\n<h3 id=\"718cee\" class=\"markdown-heading\"><a name=\"718cee\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>规定执行的规范</h3><ul>\n<li><p class=\"line\">在公共模块的接口class 和接口函数声明处(或者是在函数定义前), 必须有Doxygen风格的注释;<br><img src=\"/data/uploads/programmer_common/images/m_c006dacc0b0c78b8d144c38dcc0e81aa_r.png\" title=\"null\" alt=\"\"></p>\n</li><li><p class=\"line\">定义结构：</p>\n<pre class=\"hljs nginx\"><code>  <span class=\"hljs-attribute\">struct</span> tagScore\n  {\n  <span class=\"hljs-attribute\">DWORD</span> dwKatty,\n  DWORD dwTommy,\n  DWORD dwLucy,\n  ....\n  };</code></pre><blockquote class=\"info\">\n<p class=\"line\">上面例子强调使用tag前缀;</p>\n</blockquote>\n</li><li><p class=\"line\">枚举：</p>\n<pre class=\"hljs cpp\"><code>  <span class=\"hljs-keyword\">enum</span> Eweek\n  {\n  EW\\_Monday,\n  EW\\_Tuesday,\n  EW\\_Wednesday,\n  ....\n  };</code></pre><blockquote class=\"info\">\n<p class=\"line\">上面例子强调使用大写E前缀，以及EW_前缀(W代表Week)</p>\n</blockquote>\n<pre class=\"hljs cpp\"><code>  <span class=\"hljs-keyword\">enum</span> Eplanet\n  {\n             EP\\_Mercurial,\n          EP\\_Hesperus,\n          EP\\_Earth,\n          ....\n  };</code></pre><blockquote class=\"info\">\n<p class=\"line\">上面例子强调使用大写E前缀，以及EP_前缀(P代表Planet)</p>\n</blockquote>\n</li></ul>\n<ul>\n<li><p class=\"line\">定义常量：<br>const DWORD PERSON_NUM = 10; (<strong>常量名用大写</strong>)<br>如果非要使用define的话</p>\n<pre class=\"hljs cpp\"><code><span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">define</span> PERSON\\_NUM 10</span></code></pre></li><li><p class=\"line\">前缀：</p>\n<blockquote class=\"default\">\n<p class=\"line\">全局变量：<code>g_</code>(如<code>g_nScreenWidth</code>)<br>类的成员变量：<code>m_</code>(如<code>m_eWeek</code>)</p>\n</blockquote>\n</li><li><p class=\"line\">跨越函数范围的变量的前缀(对于函数内部的变量建议参考)</p>\n<blockquote class=\"default\">\n<p class=\"line\">指针：p(如<code>pRect</code>)<br>枚举成员：e(如<code>eWeek</code>)<br>BOOL(bool)：b(如<code>bSwitch</code>)<br>INT(int)：n(如<code>nPerson</code>)<br>LONG：l(如<code>lSize</code>)<br>FLOAT(float)：f(如<code>fTime</code>)<br>DWORD：dw(如<code>dwTick</code>)<br>WORD：w(如<code>wHeight</code>)<br>BYTE：by(如<code>byRed</code>)<br>char：c(如<code>cLetter</code>)<br>TCHAR[]：sz(如<code>szFileName</code>)<br>LPCTSTR\\LPTSTR：<code>lpsz</code>(<code>sz</code>也可)</p>\n</blockquote>\n</li></ul>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"21te8l\" class=\"markdown-heading\"><a name=\"21te8l\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>建议的风格</h2><ul>\n<li><p class=\"line\">前缀：</p>\n<blockquote class=\"default\">\n<p class=\"line\">文件作用域内的变量：<code>f_</code><br>静态变量：<code>s_</code><br>句柄：<code>h</code><br>STL:<br>string：<code>str</code>(如<code>strFileName</code>)<br>vector：<code>vec</code>(如<code>vecArray</code>)<br>list：<code>list</code>(如<code>listScore</code>)<br>map：<code>map</code>(如<code>mapCSV</code>)</p>\n</blockquote>\n</li><li><p class=\"line\">字符以及字符串：</p>\n<blockquote class=\"default\">\n<p class=\"line\">建议使用<code>TCHAR</code>, <code>LPCTSTR</code>, <code>LPTSTR</code>等</p>\n</blockquote>\n</li><li><p class=\"line\">注释</p>\n<blockquote class=\"default\">\n<ul>\n<li>每40行代码至少有1行注释</li><li>因为某原因将一段程序注释掉后，最好写上注释的原因</li></ul>\n</blockquote>\n</li><li><p class=\"line\">关于程序文件结构</p>\n<blockquote class=\"default\">\n<ul>\n<li>尽量利用预编译头文件</li><li>普通头文件中尽量不包含除基类头文件或常量定义头文件外的其他头文件</li></ul>\n</blockquote>\n</li></ul>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"6dczqf\" class=\"markdown-heading\"><a name=\"6dczqf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>工作流程</h2><ul>\n<li>项目程序应指定一个总负责人，另外客户端、服务器各指定一个主程序；</li><li>项目的整体架构设计应该经过核心程序团队充分讨论，并制定架构文档；</li><li>架构设计完成之后，可以进行模块分工，每个模块可以指定一个负责人；</li><li>模块设计应先详细了解策划案，并与策划充分讨论，若有不同意见，可与程序负责人、策划讨论修改意见；</li><li>模块设计可由模块负责人或者主程序完成，并形成文档，要求文档至少要包含UML静态结构图，以及关键流程、核心算法的序列图或状态图，或者流程图或者文字描述；</li><li>模块设计完成之后，应由主程序复审。主程序应从架构，以及设计质量等方面详细考察设计方案，并指出不恰当的地方予以修正；</li><li>模块设计确认之后，可以进行编码实现。在编码完成的同时要求完成单元测试代码，对于界面可以使用交互式测试框架，对于游戏逻辑代码可以使用自动运行的测试代码；</li><li>模块负责人完成全部代码，并且通过单元测试之后，应提交主程序进行代码复审，此工作也可由另外一位程序员来做；</li><li>上述工作完成之后，可以将模块整合进整个游戏，并根据策划案设计整合测试用例，进行整合测试。</li></ul>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h1 id=\"ekbvt6\" class=\"markdown-heading\"><a name=\"ekbvt6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>客户端工作路径设置</h1><p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"41ntt7\" class=\"markdown-heading\"><a name=\"41ntt7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>外部依赖项目</h2><p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"eukkpa\" class=\"markdown-heading\"><a name=\"eukkpa\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>源码路径设置</h2><p class=\"line\">Work目录结构说明：</p>\n<p class=\"line\"> Work目录包含两个 <strong>主要解决方案**</strong> KungfuClient.sln , QuantaClient.sln <strong>, 一个工程</strong> 输出目录 <strong>\\</strong> bin <strong>.每个解决方案又分别包含多个工程.  所有工程都应将</strong> 工作目录**设置为d:\\Work\\bin</p>\n<p class=\"line\">结构如下:</p>\n<p class=\"line\">  KungfuClient.sln :</p>\n<pre class=\"hljs\"><code> a)  FWorldEditor   游戏世界编辑器\n\n b)  GameFrame    客户端游戏框架\n\n c)  KungfuClient   游戏客户端程序</code></pre><p class=\"line\">  QuantaClient.sln</p>\n<pre class=\"hljs\"><code> a)  F3D           客户端游戏引擎\n\n b)  F3dView       图片浏览工具\n\n c)  FterrainEditor   地形编辑器\n\n d)  lua            LUA脚本语言解释器</code></pre><h3 id=\"4uq9nx\" class=\"markdown-heading\"><a name=\"4uq9nx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>新建项目属性设置注意</h3><h3 id=\"3zilfx\" class=\"markdown-heading\"><a name=\"3zilfx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>编辑输出目录和调试工作目录设置</h3>',2,'2019-09-17 16:41:31',2,1568709690,0),(26,'modify','修改文档',14,'程序工作规范',0,'# 目录\n\n* [源码书写格式](#page1)\n\n* [规定执行的规范](#page2)\n\n* [建议的风格](#page3)\n\n* [工作流程](#page4)\n\n* [客户端工作路径设置](#page5)\n\n* [外部依赖项目](#page6)\n\n* [源码路径设置](#page7)\n\n* [新建项目属性设置注意](#page8)\n\n* [编辑输出目录和调试工作目录设置](#page9)\n\n[](@page1)\n## 源码书写格式\n[](@page2)\n### 规定执行的规范\n\n* 在公共模块的接口class 和接口函数声明处(或者是在函数定义前), 必须有Doxygen风格的注释;\n![](/data/uploads/programmer_common/images/m_c006dacc0b0c78b8d144c38dcc0e81aa_r.png)\n\n* 定义结构：\n\n	```\n	struct tagScore\n	{\n	DWORD dwKatty,\n	DWORD dwTommy,\n	DWORD dwLucy,\n	....\n	};\n	```\n		\n	>[info]上面例子强调使用tag前缀;\n\n* 枚举：\n\n	```\n	enum Eweek\n	{\n	EW\\_Monday,\n	EW\\_Tuesday,\n	EW\\_Wednesday,\n	....\n	};\n	```\n\n	>[info]上面例子强调使用大写E前缀，以及EW\\_前缀(W代表Week)\n\n	```\n	enum Eplanet\n	{\n			   EP\\_Mercurial,\n			EP\\_Hesperus,\n			EP\\_Earth,\n			....\n	};\n	```\n\n	>[info]上面例子强调使用大写E前缀，以及EP\\_前缀(P代表Planet)\n\n\n* 定义常量：\nconst DWORD PERSON\\_NUM = 10; (**常量名用大写**)\n如果非要使用define的话\n```\n#define PERSON\\_NUM 10\n```\n\n* 前缀：\n>全局变量：`g_`(如`g_nScreenWidth`)\n类的成员变量：`m_`(如`m_eWeek`)\n\n* 跨越函数范围的变量的前缀(对于函数内部的变量建议参考)\n>指针：p(如`pRect`)\n枚举成员：e(如`eWeek`)\nBOOL(bool)：b(如`bSwitch`)\nINT(int)：n(如`nPerson`)\nLONG：l(如`lSize`)\nFLOAT(float)：f(如`fTime`)\nDWORD：dw(如`dwTick`)\nWORD：w(如`wHeight`)\nBYTE：by(如`byRed`)\nchar：c(如`cLetter`)\nTCHAR[]：sz(如`szFileName`)\nLPCTSTR\\LPTSTR：`lpsz`(`sz`也可)\n\n[](@page3)\n## 建议的风格\n\n* 前缀：\n>文件作用域内的变量：`f_`\n静态变量：`s_`\n句柄：`h`\nSTL:\nstring：`str`(如`strFileName`)\nvector：`vec`(如`vecArray`)\nlist：`list`(如`listScore`)\nmap：`map`(如`mapCSV`)\n\n* 字符以及字符串：\n>建议使用`TCHAR`, `LPCTSTR`, `LPTSTR`等\n\n* 注释\n	>* 每40行代码至少有1行注释\n	>* 因为某原因将一段程序注释掉后，最好写上注释的原因\n		\n* 关于程序文件结构\n	>* 尽量利用预编译头文件\n	>* 普通头文件中尽量不包含除基类头文件或常量定义头文件外的其他头文件\n\n[](@page4)\n## 工作流程\n\n* 项目程序应指定一个总负责人，另外客户端、服务器各指定一个主程序；\n* 项目的整体架构设计应该经过核心程序团队充分讨论，并制定架构文档；\n* 架构设计完成之后，可以进行模块分工，每个模块可以指定一个负责人；\n* 模块设计应先详细了解策划案，并与策划充分讨论，若有不同意见，可与程序负责人、策划讨论修改意见；\n* 模块设计可由模块负责人或者主程序完成，并形成文档，要求文档至少要包含UML静态结构图，以及关键流程、核心算法的序列图或状态图，或者流程图或者文字描述；\n* 模块设计完成之后，应由主程序复审。主程序应从架构，以及设计质量等方面详细考察设计方案，并指出不恰当的地方予以修正；\n* 模块设计确认之后，可以进行编码实现。在编码完成的同时要求完成单元测试代码，对于界面可以使用交互式测试框架，对于游戏逻辑代码可以使用自动运行的测试代码；\n* 模块负责人完成全部代码，并且通过单元测试之后，应提交主程序进行代码复审，此工作也可由另外一位程序员来做；\n* 上述工作完成之后，可以将模块整合进整个游戏，并根据策划案设计整合测试用例，进行整合测试。\n\n[](@page5)\n# 客户端工作路径设置\n\n[](@page6)\n## 外部依赖项目\n![](/data/uploads/programmer_common/images/m_57ff35aa348560b1c27d330afbd05336_r.png)\n\n![](/data/uploads/programmer_common/images/m_4cbb567c7828a635cf50e54cb867a26f_r.png)\n\n[](@page7)\n## 源码路径设置\n![](/data/uploads/programmer_common/images/m_fbb785f1d345c95027ab8f7eced252cf_r.png)\n\n\n* Work目录结构说明：\n>Work目录包含两个 **主要解决方案** `KungfuClient.sln` , `QuantaClient.sln` , 一个工程输出目录 `\\bin`.每个解决方案又分别包含多个工程.  所有工程都应将**工作目录**设置为`d:\\Work\\bin`\n>结构如下:\n	* KungfuClient.sln :\n		* FWorldEditor   游戏世界编辑器\n		* GameFrame    客户端游戏框架\n		* KungfuClient   游戏客户端程序\n	* QuantaClient.sln\n		* F3D           客户端游戏引擎\n		* F3dView       图片浏览工具\n		* FterrainEditor   地形编辑器\n		* lua            LUA脚本语言解释器\n\n[](@page8)\n## 新建项目属性设置注意\n![](/data/uploads/programmer_common/images/m_d31599babf086acaf3a0c4212e3a02b7_r.png)\n\n[](@page9)\n### 编辑输出目录和调试工作目录设置\n![](/data/uploads/programmer_common/images/m_4468a03fb07bef165284cccf0b06e3ec_r.png)\n\n![](/data/uploads/programmer_common/images/m_228d6e6727dc51921f8d05642a578700_r.png)','<h1 id=\"4xd79\" class=\"markdown-heading\"><a name=\"4xd79\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>目录</h1><ul>\n<li><p class=\"line\"><a href=\"#page1\">源码书写格式</a></p>\n</li><li><p class=\"line\"><a href=\"#page2\">规定执行的规范</a></p>\n</li><li><p class=\"line\"><a href=\"#page3\">建议的风格</a></p>\n</li><li><p class=\"line\"><a href=\"#page4\">工作流程</a></p>\n</li><li><p class=\"line\"><a href=\"#page5\">客户端工作路径设置</a></p>\n</li><li><p class=\"line\"><a href=\"#page6\">外部依赖项目</a></p>\n</li><li><p class=\"line\"><a href=\"#page7\">源码路径设置</a></p>\n</li><li><p class=\"line\"><a href=\"#page8\">新建项目属性设置注意</a></p>\n</li><li><p class=\"line\"><a href=\"#page9\">编辑输出目录和调试工作目录设置</a></p>\n</li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"g0qth1\" class=\"markdown-heading\"><a name=\"g0qth1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>源码书写格式</h2><p class=\"line\"><a name=\"page2\"></a></p>\n<h3 id=\"1g5edd\" class=\"markdown-heading\"><a name=\"1g5edd\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>规定执行的规范</h3><ul>\n<li><p class=\"line\">在公共模块的接口class 和接口函数声明处(或者是在函数定义前), 必须有Doxygen风格的注释;<br><img src=\"/data/uploads/programmer_common/images/m_c006dacc0b0c78b8d144c38dcc0e81aa_r.png\" title=\"null\" alt=\"\"></p>\n</li><li><p class=\"line\">定义结构：</p>\n<pre class=\"hljs nginx\"><code>  <span class=\"hljs-attribute\">struct</span> tagScore\n  {\n  <span class=\"hljs-attribute\">DWORD</span> dwKatty,\n  DWORD dwTommy,\n  DWORD dwLucy,\n  ....\n  };</code></pre><blockquote class=\"info\">\n<p class=\"line\">上面例子强调使用tag前缀;</p>\n</blockquote>\n</li><li><p class=\"line\">枚举：</p>\n<pre class=\"hljs cpp\"><code>  <span class=\"hljs-keyword\">enum</span> Eweek\n  {\n  EW\\_Monday,\n  EW\\_Tuesday,\n  EW\\_Wednesday,\n  ....\n  };</code></pre><blockquote class=\"info\">\n<p class=\"line\">上面例子强调使用大写E前缀，以及EW_前缀(W代表Week)</p>\n</blockquote>\n<pre class=\"hljs cpp\"><code>  <span class=\"hljs-keyword\">enum</span> Eplanet\n  {\n             EP\\_Mercurial,\n          EP\\_Hesperus,\n          EP\\_Earth,\n          ....\n  };</code></pre><blockquote class=\"info\">\n<p class=\"line\">上面例子强调使用大写E前缀，以及EP_前缀(P代表Planet)</p>\n</blockquote>\n</li></ul>\n<ul>\n<li><p class=\"line\">定义常量：<br>const DWORD PERSON_NUM = 10; (<strong>常量名用大写</strong>)<br>如果非要使用define的话</p>\n<pre class=\"hljs cpp\"><code><span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">define</span> PERSON\\_NUM 10</span></code></pre></li><li><p class=\"line\">前缀：</p>\n<blockquote class=\"default\">\n<p class=\"line\">全局变量：<code>g_</code>(如<code>g_nScreenWidth</code>)<br>类的成员变量：<code>m_</code>(如<code>m_eWeek</code>)</p>\n</blockquote>\n</li><li><p class=\"line\">跨越函数范围的变量的前缀(对于函数内部的变量建议参考)</p>\n<blockquote class=\"default\">\n<p class=\"line\">指针：p(如<code>pRect</code>)<br>枚举成员：e(如<code>eWeek</code>)<br>BOOL(bool)：b(如<code>bSwitch</code>)<br>INT(int)：n(如<code>nPerson</code>)<br>LONG：l(如<code>lSize</code>)<br>FLOAT(float)：f(如<code>fTime</code>)<br>DWORD：dw(如<code>dwTick</code>)<br>WORD：w(如<code>wHeight</code>)<br>BYTE：by(如<code>byRed</code>)<br>char：c(如<code>cLetter</code>)<br>TCHAR[]：sz(如<code>szFileName</code>)<br>LPCTSTR\\LPTSTR：<code>lpsz</code>(<code>sz</code>也可)</p>\n</blockquote>\n</li></ul>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"9jshdn\" class=\"markdown-heading\"><a name=\"9jshdn\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>建议的风格</h2><ul>\n<li><p class=\"line\">前缀：</p>\n<blockquote class=\"default\">\n<p class=\"line\">文件作用域内的变量：<code>f_</code><br>静态变量：<code>s_</code><br>句柄：<code>h</code><br>STL:<br>string：<code>str</code>(如<code>strFileName</code>)<br>vector：<code>vec</code>(如<code>vecArray</code>)<br>list：<code>list</code>(如<code>listScore</code>)<br>map：<code>map</code>(如<code>mapCSV</code>)</p>\n</blockquote>\n</li><li><p class=\"line\">字符以及字符串：</p>\n<blockquote class=\"default\">\n<p class=\"line\">建议使用<code>TCHAR</code>, <code>LPCTSTR</code>, <code>LPTSTR</code>等</p>\n</blockquote>\n</li><li><p class=\"line\">注释</p>\n<blockquote class=\"default\">\n<ul>\n<li>每40行代码至少有1行注释</li><li>因为某原因将一段程序注释掉后，最好写上注释的原因</li></ul>\n</blockquote>\n</li><li><p class=\"line\">关于程序文件结构</p>\n<blockquote class=\"default\">\n<ul>\n<li>尽量利用预编译头文件</li><li>普通头文件中尽量不包含除基类头文件或常量定义头文件外的其他头文件</li></ul>\n</blockquote>\n</li></ul>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"69f6eq\" class=\"markdown-heading\"><a name=\"69f6eq\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>工作流程</h2><ul>\n<li>项目程序应指定一个总负责人，另外客户端、服务器各指定一个主程序；</li><li>项目的整体架构设计应该经过核心程序团队充分讨论，并制定架构文档；</li><li>架构设计完成之后，可以进行模块分工，每个模块可以指定一个负责人；</li><li>模块设计应先详细了解策划案，并与策划充分讨论，若有不同意见，可与程序负责人、策划讨论修改意见；</li><li>模块设计可由模块负责人或者主程序完成，并形成文档，要求文档至少要包含UML静态结构图，以及关键流程、核心算法的序列图或状态图，或者流程图或者文字描述；</li><li>模块设计完成之后，应由主程序复审。主程序应从架构，以及设计质量等方面详细考察设计方案，并指出不恰当的地方予以修正；</li><li>模块设计确认之后，可以进行编码实现。在编码完成的同时要求完成单元测试代码，对于界面可以使用交互式测试框架，对于游戏逻辑代码可以使用自动运行的测试代码；</li><li>模块负责人完成全部代码，并且通过单元测试之后，应提交主程序进行代码复审，此工作也可由另外一位程序员来做；</li><li>上述工作完成之后，可以将模块整合进整个游戏，并根据策划案设计整合测试用例，进行整合测试。</li></ul>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h1 id=\"2qxg2d\" class=\"markdown-heading\"><a name=\"2qxg2d\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>客户端工作路径设置</h1><p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"bat0ap\" class=\"markdown-heading\"><a name=\"bat0ap\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>外部依赖项目</h2><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_57ff35aa348560b1c27d330afbd05336_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_4cbb567c7828a635cf50e54cb867a26f_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"7zrror\" class=\"markdown-heading\"><a name=\"7zrror\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>源码路径设置</h2><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_fbb785f1d345c95027ab8f7eced252cf_r.png\" title=\"null\" alt=\"\"></p>\n<ul>\n<li>Work目录结构说明：<blockquote class=\"default\">\n<p class=\"line\">Work目录包含两个 <strong>主要解决方案</strong> <code>KungfuClient.sln</code> , <code>QuantaClient.sln</code> , 一个工程输出目录 <code>\\bin</code>.每个解决方案又分别包含多个工程.  所有工程都应将<strong>工作目录</strong>设置为<code>d:\\Work\\bin</code><br>结构如下:</p>\n<ul>\n<li>KungfuClient.sln :<ul>\n<li>FWorldEditor   游戏世界编辑器</li><li>GameFrame    客户端游戏框架</li><li>KungfuClient   游戏客户端程序</li></ul>\n</li><li>QuantaClient.sln<ul>\n<li>F3D           客户端游戏引擎</li><li>F3dView       图片浏览工具</li><li>FterrainEditor   地形编辑器</li><li>lua            LUA脚本语言解释器</li></ul>\n</li></ul>\n</blockquote>\n</li></ul>\n<p class=\"line\"><a name=\"page8\"></a></p>\n<h2 id=\"2dafz8\" class=\"markdown-heading\"><a name=\"2dafz8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>新建项目属性设置注意</h2><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_d31599babf086acaf3a0c4212e3a02b7_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\"><a name=\"page9\"></a></p>\n<h3 id=\"bqux2w\" class=\"markdown-heading\"><a name=\"bqux2w\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>编辑输出目录和调试工作目录设置</h3><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_4468a03fb07bef165284cccf0b06e3ec_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_228d6e6727dc51921f8d05642a578700_r.png\" title=\"null\" alt=\"\"></p>\n',2,'2019-09-17 16:43:47',2,1568709827,0),(27,'modify','修改文档',15,'服务器脚本系统说明文档',0,'','',2,'2019-09-17 17:15:36',2,1568711735,0),(28,'modify','修改文档',16,'服务器相关文档',0,'','',2,'2019-09-17 18:28:33',2,1568716113,0),(29,'modify','修改文档',5,'自动更新详解',3,'## **自动更新机制** ##\n\n- 苹果和安卓的沙盒机制：苹果和安卓在安装APP的时候，会建立一个APP对应的目录，在非越狱或者非ROOT的情况下，APP只能访问此目录，不能访问到别的APP所在目录\n\n- 此目录下一部分子目录只读不可以写，一部分可读可写，APP的整包会安装在不可写目录(IOS称之为Bundle目录)，所以应用一旦安装，APP自己就不可更改里面的内容，除非用户使用操作系统去删除或者更新它\n\n- 自动更新的基本机制是在APP目录中的可写子目录里(IOS称之为Document目录)下载最新的需要更新的文件，然后打成一个EPK放到laucher目录(此目录也在可写目录下,即launcher目录在Document目录下)\n\n- 游戏启动后，访问任何文件优先访问Document\\launcher目录下这个epk,如果此epk包里面没有需要访问的文件，再去读取APP整包(Bundle目录)中的EPK\n\n\n\n## **自动更新主体流程** ##\n\n1. 尝试在APP可写目录下(Document)创建launcher目录(如果目录已经存在会自动忽略)\n2. 尝试删除Document\\launcher目录下remote_version.ini,server.ini,notice.ini三个文件\n3. 从更新服务器上下载上述三个文件到Document\\launcher目录\n4. 进入 版本比对流程,参考下面版本比对流程\n5. 如果版本已经是最新直接进入游戏\n6. 如果上述ini文件读取失败，重新进入2号步骤\n7. 如果需要整包更新，直接退出自动更新，进入登录界面，在登录界面会先连接平台，让平台处理整包更新，如果平台处理不了，登录界面会走自己的更新流程，例如跳转和APK下载安装\n8. 如果版本号不匹配，会往下开始自动更新\n9. 在launcher目录下创建最新版本号匹配的目录，例如最新版本号是1.0.8.1，则在launcher目录下创建1.0.8.1目录，以下用此版本举例\n10. 将更新服务器的EPK的头部下载到Document\\launcher\\1.0.8.1\\table.pos(32字节大小)\n11. 根据table.pos文件内的信息下载EPK的table(文件表信息)到launcher\\1.0.8.1\\table.dat(此文件大小=更新服务器EPK中所含文件数*40字节)\n12. 用这个刚下载的table.dat去比对Document\\launcher\\data0.epk和Bundle\\data0.epk的表，检查哪些文件是这个两个epk中没有的，或者MD5不一样的，由此生成一个需要下载的文件清单\n13. 根据此清单从服务器的EPK中多线程下载每个文件(这些文件都是已经用LZO算法压缩过的），每个线程在下载完后会比对MD5，如果下载文件的MD5与table.pos文件中记录的MD5不一样，则会重新下载这个文件\n14. 文件全部下载完后，会将这些文件跟Document\\launcher\\data0.epk中的文件合并重新打成一个epk放入Document\\launcher\\1.0.8.1\\\n15. 删除Document\\launcher\\data0.epk\n16. 将Document\\launcher\\1.0.8.1\\data0.epk拷贝到Document\\launcher\\\n17. 将Document\\launcher\\version.ini中的游戏版本号更新到最新\n18. 删除Document\\launcher\\1.0.8.1\\下所有文件\n19. 进入游戏(登录界面)\n\n\n\n## **版本比对流程** ##\n1. 先检查Document\\launcher\\version.ini是否存在，如果不存在，读取整包(Bundle)目录下config\\version.ini中的game_version,并跳到步骤4\n2. 读取整包(Bundle)目录下config\\version.ini,检查config\\version.ini中game_version是否等于launcher\\version.ini中的inner_version\n3. 如果不相等，删除launcher\\data0.epk,并将config\\version.ini中game_version写入到launcher\\version.ini中的inner_version和game_version\n4. 检查下载的launcher\\remote_version.ini中的game_version,与launcher\\version.ini中的game_version比对，看是否需要更新\n\n\n> 解释：步骤2和3目的：如果原先记录的整包版本号和目前实际整包版本号不一致，说明用户通过AppStore更新了新的版本的整包，这种情况需要清除launcher下的所有信息，以新整包的版本重新更新','<h2 id=\"dzj0co\" class=\"markdown-heading\"><a name=\"dzj0co\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>自动更新机制</strong></h2><ul>\n<li><p class=\"line\">苹果和安卓的沙盒机制：苹果和安卓在安装APP的时候，会建立一个APP对应的目录，在非越狱或者非ROOT的情况下，APP只能访问此目录，不能访问到别的APP所在目录</p>\n</li><li><p class=\"line\">此目录下一部分子目录只读不可以写，一部分可读可写，APP的整包会安装在不可写目录(IOS称之为Bundle目录)，所以应用一旦安装，APP自己就不可更改里面的内容，除非用户使用操作系统去删除或者更新它</p>\n</li><li><p class=\"line\">自动更新的基本机制是在APP目录中的可写子目录里(IOS称之为Document目录)下载最新的需要更新的文件，然后打成一个EPK放到laucher目录(此目录也在可写目录下,即launcher目录在Document目录下)</p>\n</li><li><p class=\"line\">游戏启动后，访问任何文件优先访问Document\\launcher目录下这个epk,如果此epk包里面没有需要访问的文件，再去读取APP整包(Bundle目录)中的EPK</p>\n</li></ul>\n<h2 id=\"6m21kz\" class=\"markdown-heading\"><a name=\"6m21kz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>自动更新主体流程</strong></h2><ol>\n<li>尝试在APP可写目录下(Document)创建launcher目录(如果目录已经存在会自动忽略)</li><li>尝试删除Document\\launcher目录下remote_version.ini,server.ini,notice.ini三个文件</li><li>从更新服务器上下载上述三个文件到Document\\launcher目录</li><li>进入 版本比对流程,参考下面版本比对流程</li><li>如果版本已经是最新直接进入游戏</li><li>如果上述ini文件读取失败，重新进入2号步骤</li><li>如果需要整包更新，直接退出自动更新，进入登录界面，在登录界面会先连接平台，让平台处理整包更新，如果平台处理不了，登录界面会走自己的更新流程，例如跳转和APK下载安装</li><li>如果版本号不匹配，会往下开始自动更新</li><li>在launcher目录下创建最新版本号匹配的目录，例如最新版本号是1.0.8.1，则在launcher目录下创建1.0.8.1目录，以下用此版本举例</li><li>将更新服务器的EPK的头部下载到Document\\launcher\\1.0.8.1\\table.pos(32字节大小)</li><li>根据table.pos文件内的信息下载EPK的table(文件表信息)到launcher\\1.0.8.1\\table.dat(此文件大小=更新服务器EPK中所含文件数*40字节)</li><li>用这个刚下载的table.dat去比对Document\\launcher\\data0.epk和Bundle\\data0.epk的表，检查哪些文件是这个两个epk中没有的，或者MD5不一样的，由此生成一个需要下载的文件清单</li><li>根据此清单从服务器的EPK中多线程下载每个文件(这些文件都是已经用LZO算法压缩过的），每个线程在下载完后会比对MD5，如果下载文件的MD5与table.pos文件中记录的MD5不一样，则会重新下载这个文件</li><li>文件全部下载完后，会将这些文件跟Document\\launcher\\data0.epk中的文件合并重新打成一个epk放入Document\\launcher\\1.0.8.1\\</li><li>删除Document\\launcher\\data0.epk</li><li>将Document\\launcher\\1.0.8.1\\data0.epk拷贝到Document\\launcher\\</li><li>将Document\\launcher\\version.ini中的游戏版本号更新到最新</li><li>删除Document\\launcher\\1.0.8.1\\下所有文件</li><li>进入游戏(登录界面)</li></ol>\n<h2 id=\"7xktbq\" class=\"markdown-heading\"><a name=\"7xktbq\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>版本比对流程</strong></h2><ol>\n<li>先检查Document\\launcher\\version.ini是否存在，如果不存在，读取整包(Bundle)目录下config\\version.ini中的game_version,并跳到步骤4</li><li>读取整包(Bundle)目录下config\\version.ini,检查config\\version.ini中game_version是否等于launcher\\version.ini中的inner_version</li><li>如果不相等，删除launcher\\data0.epk,并将config\\version.ini中game_version写入到launcher\\version.ini中的inner_version和game_version</li><li>检查下载的launcher\\remote_version.ini中的game_version,与launcher\\version.ini中的game_version比对，看是否需要更新</li></ol>\n<blockquote class=\"default\">\n<p class=\"line\">解释：步骤2和3目的：如果原先记录的整包版本号和目前实际整包版本号不一致，说明用户通过AppStore更新了新的版本的整包，这种情况需要清除launcher下的所有信息，以新整包的版本重新更新</p>\n</blockquote>\n',2,'2019-09-17 18:30:54',2,1568716254,0),(30,'modify','修改文档',5,'自动更新详解',3,'## **自动更新机制** ##\n\n- 苹果和安卓的沙盒机制：苹果和安卓在安装APP的时候，会建立一个APP对应的目录，在非越狱或者非ROOT的情况下，APP只能访问此目录，不能访问到别的APP所在目录\n\n- 此目录下一部分子目录只读不可以写，一部分可读可写，APP的整包会安装在不可写目录(IOS称之为Bundle目录)，所以应用一旦安装，APP自己就不可更改里面的内容，除非用户使用操作系统去删除或者更新它\n\n- 自动更新的基本机制是在APP目录中的可写子目录里(IOS称之为Document目录)下载最新的需要更新的文件，然后打成一个EPK放到laucher目录(此目录也在可写目录下,即launcher目录在Document目录下)\n\n- 游戏启动后，访问任何文件优先访问Document\\launcher目录下这个epk,如果此epk包里面没有需要访问的文件，再去读取APP整包(Bundle目录)中的EPK\n\n\n\n## **自动更新主体流程** ##\n\n1. 尝试在APP可写目录下(Document)创建launcher目录(如果目录已经存在会自动忽略)\n2. 尝试删除Document\\launcher目录下remote_version.ini,server.ini,notice.ini三个文件\n3. 从更新服务器上下载上述三个文件到Document\\launcher目录\n4. 进入 版本比对流程,参考下面版本比对流程\n5. 如果版本已经是最新直接进入游戏\n6. 如果上述ini文件读取失败，重新进入2号步骤\n7. 如果需要整包更新，直接退出自动更新，进入登录界面，在登录界面会先连接平台，让平台处理整包更新，如果平台处理不了，登录界面会走自己的更新流程，例如跳转和APK下载安装\n8. 如果版本号不匹配，会往下开始自动更新\n9. 在launcher目录下创建最新版本号匹配的目录，例如最新版本号是1.0.8.1，则在launcher目录下创建1.0.8.1目录，以下用此版本举例\n10. 将更新服务器的EPK的头部下载到Document\\launcher\\1.0.8.1\\table.pos(32字节大小)\n11. 根据table.pos文件内的信息下载EPK的table(文件表信息)到launcher\\1.0.8.1\\table.dat(此文件大小=更新服务器EPK中所含文件数*40字节)\n12. 用这个刚下载的table.dat去比对Document\\launcher\\data0.epk和Bundle\\data0.epk的表，检查哪些文件是这个两个epk中没有的，或者MD5不一样的，由此生成一个需要下载的文件清单\n13. 根据此清单从服务器的EPK中多线程下载每个文件(这些文件都是已经用LZO算法压缩过的），每个线程在下载完后会比对MD5，如果下载文件的MD5与table.pos文件中记录的MD5不一样，则会重新下载这个文件\n14. 文件全部下载完后，会将这些文件跟Document\\launcher\\data0.epk中的文件合并重新打成一个epk放入Document\\launcher\\1.0.8.1\\\n15. 删除Document\\launcher\\data0.epk\n16. 将Document\\launcher\\1.0.8.1\\data0.epk拷贝到Document\\launcher\\\n17. 将Document\\launcher\\version.ini中的游戏版本号更新到最新\n18. 删除Document\\launcher\\1.0.8.1\\下所有文件\n19. 进入游戏(登录界面)\n\n\n\n## **版本比对流程** ##\n1. 先检查Document\\launcher\\version.ini是否存在，如果不存在，读取整包(Bundle)目录下config\\version.ini中的game_version,并跳到步骤4\n2. 读取整包(Bundle)目录下config\\version.ini,检查config\\version.ini中game_version是否等于launcher\\version.ini中的inner_version\n3. 如果不相等，删除launcher\\data0.epk,并将config\\version.ini中game_version写入到launcher\\version.ini中的inner_version和game_version\n4. 检查下载的launcher\\remote_version.ini中的game_version,与launcher\\version.ini中的game_version比对，看是否需要更新\n\n\n>[] 解释：步骤2和3目的：如果原先记录的整包版本号和目前实际整包版本号不一致，说明用户通过AppStore更新了新的版本的整包，这种情况需要清除launcher下的所有信息，以新整包的版本重新更新','<h2 id=\"f90p0g\" class=\"markdown-heading\"><a name=\"f90p0g\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>自动更新机制</strong></h2><ul>\n<li><p class=\"line\">苹果和安卓的沙盒机制：苹果和安卓在安装APP的时候，会建立一个APP对应的目录，在非越狱或者非ROOT的情况下，APP只能访问此目录，不能访问到别的APP所在目录</p>\n</li><li><p class=\"line\">此目录下一部分子目录只读不可以写，一部分可读可写，APP的整包会安装在不可写目录(IOS称之为Bundle目录)，所以应用一旦安装，APP自己就不可更改里面的内容，除非用户使用操作系统去删除或者更新它</p>\n</li><li><p class=\"line\">自动更新的基本机制是在APP目录中的可写子目录里(IOS称之为Document目录)下载最新的需要更新的文件，然后打成一个EPK放到laucher目录(此目录也在可写目录下,即launcher目录在Document目录下)</p>\n</li><li><p class=\"line\">游戏启动后，访问任何文件优先访问Document\\launcher目录下这个epk,如果此epk包里面没有需要访问的文件，再去读取APP整包(Bundle目录)中的EPK</p>\n</li></ul>\n<h2 id=\"2fzudi\" class=\"markdown-heading\"><a name=\"2fzudi\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>自动更新主体流程</strong></h2><ol>\n<li>尝试在APP可写目录下(Document)创建launcher目录(如果目录已经存在会自动忽略)</li><li>尝试删除Document\\launcher目录下remote_version.ini,server.ini,notice.ini三个文件</li><li>从更新服务器上下载上述三个文件到Document\\launcher目录</li><li>进入 版本比对流程,参考下面版本比对流程</li><li>如果版本已经是最新直接进入游戏</li><li>如果上述ini文件读取失败，重新进入2号步骤</li><li>如果需要整包更新，直接退出自动更新，进入登录界面，在登录界面会先连接平台，让平台处理整包更新，如果平台处理不了，登录界面会走自己的更新流程，例如跳转和APK下载安装</li><li>如果版本号不匹配，会往下开始自动更新</li><li>在launcher目录下创建最新版本号匹配的目录，例如最新版本号是1.0.8.1，则在launcher目录下创建1.0.8.1目录，以下用此版本举例</li><li>将更新服务器的EPK的头部下载到Document\\launcher\\1.0.8.1\\table.pos(32字节大小)</li><li>根据table.pos文件内的信息下载EPK的table(文件表信息)到launcher\\1.0.8.1\\table.dat(此文件大小=更新服务器EPK中所含文件数*40字节)</li><li>用这个刚下载的table.dat去比对Document\\launcher\\data0.epk和Bundle\\data0.epk的表，检查哪些文件是这个两个epk中没有的，或者MD5不一样的，由此生成一个需要下载的文件清单</li><li>根据此清单从服务器的EPK中多线程下载每个文件(这些文件都是已经用LZO算法压缩过的），每个线程在下载完后会比对MD5，如果下载文件的MD5与table.pos文件中记录的MD5不一样，则会重新下载这个文件</li><li>文件全部下载完后，会将这些文件跟Document\\launcher\\data0.epk中的文件合并重新打成一个epk放入Document\\launcher\\1.0.8.1\\</li><li>删除Document\\launcher\\data0.epk</li><li>将Document\\launcher\\1.0.8.1\\data0.epk拷贝到Document\\launcher\\</li><li>将Document\\launcher\\version.ini中的游戏版本号更新到最新</li><li>删除Document\\launcher\\1.0.8.1\\下所有文件</li><li>进入游戏(登录界面)</li></ol>\n<h2 id=\"bt3bf2\" class=\"markdown-heading\"><a name=\"bt3bf2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>版本比对流程</strong></h2><ol>\n<li>先检查Document\\launcher\\version.ini是否存在，如果不存在，读取整包(Bundle)目录下config\\version.ini中的game_version,并跳到步骤4</li><li>读取整包(Bundle)目录下config\\version.ini,检查config\\version.ini中game_version是否等于launcher\\version.ini中的inner_version</li><li>如果不相等，删除launcher\\data0.epk,并将config\\version.ini中game_version写入到launcher\\version.ini中的inner_version和game_version</li><li>检查下载的launcher\\remote_version.ini中的game_version,与launcher\\version.ini中的game_version比对，看是否需要更新</li></ol>\n<blockquote class=\"default\">\n<p class=\"line\">[] 解释：步骤2和3目的：如果原先记录的整包版本号和目前实际整包版本号不一致，说明用户通过AppStore更新了新的版本的整包，这种情况需要清除launcher下的所有信息，以新整包的版本重新更新</p>\n</blockquote>\n',2,'2019-09-17 18:31:04',2,1568716263,0),(31,'modify','修改文档',17,'国内版本服务器需求',3,'','',2,'2019-09-17 18:31:27',2,1568716287,0),(32,'modify','修改文档',17,'国内版本服务器需求',3,'项目	用途	亚马逊相近型号	CPU	内存	数据盘	操作系统	数量	带宽	分区要求	备注\n封神	游戏服	r3.xlarge	8核	32GB	300GB	win2008R2_x64简体中文版或英文版	n台	10Mb/s	C盘50GB   D盘:300GB	 \n 	测试服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	审核服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	程序监控服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<p class=\"line\">项目    用途    亚马逊相近型号    CPU    内存    数据盘    操作系统    数量    带宽    分区要求    备注<br>封神    游戏服    r3.xlarge    8核    32GB    300GB    win2008R2_x64简体中文版或英文版    n台    10Mb/s    C盘50GB   D盘:300GB<br>     测试服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     审核服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     程序监控服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     跨服服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     列表&amp;CDN源服务器    带宽大,待定    2核    4GB    200GB    CentOS-6.x-x86_64-minimal    1台    1Gb/s 或100Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>     SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡<br>     SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间<br>     数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001<br>     数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>开放端口:14000 10000<br>     GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间     </p>\n',2,'2019-09-17 18:32:27',2,1568716347,0),(33,'modify','修改文档',17,'国内版本服务器需求',3,'|--|--|--|--|--|--|\n|项目	用途	亚马逊相近型号	CPU	内存	数据盘	操作系统	数量	带宽	分区要求	备注\n封神	游戏服	r3.xlarge	8核	32GB	300GB	win2008R2_x64简体中文版或英文版	n台	10Mb/s	C盘50GB   D盘:300GB	 \n 	测试服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	审核服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	程序监控服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<p class=\"line\">|–|–|–|–|–|–|<br>|项目    用途    亚马逊相近型号    CPU    内存    数据盘    操作系统    数量    带宽    分区要求    备注<br>封神    游戏服    r3.xlarge    8核    32GB    300GB    win2008R2_x64简体中文版或英文版    n台    10Mb/s    C盘50GB   D盘:300GB<br>     测试服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     审核服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     程序监控服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     跨服服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     列表&amp;CDN源服务器    带宽大,待定    2核    4GB    200GB    CentOS-6.x-x86_64-minimal    1台    1Gb/s 或100Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>     SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡<br>     SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间<br>     数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001<br>     数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>开放端口:14000 10000<br>     GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间     </p>\n',2,'2019-09-17 18:32:57',2,1568716377,0),(34,'modify','修改文档',17,'国内版本服务器需求',3,'|--|--|--|--|--|--|\n|项目|	用途|	亚马逊相近型号|	CPU|	内存|	数据盘|	操作系统|	数量|	带宽|	分区要求|	备注|\n封神	游戏服	r3.xlarge	8核	32GB	300GB	win2008R2_x64简体中文版或英文版	n台	10Mb/s	C盘50GB   D盘:300GB	 \n 	测试服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	审核服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	程序监控服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<p class=\"line\">|–|–|–|–|–|–|<br>|项目|    用途|    亚马逊相近型号|    CPU|    内存|    数据盘|    操作系统|    数量|    带宽|    分区要求|    备注|<br>封神    游戏服    r3.xlarge    8核    32GB    300GB    win2008R2_x64简体中文版或英文版    n台    10Mb/s    C盘50GB   D盘:300GB<br>     测试服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     审核服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     程序监控服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     跨服服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     列表&amp;CDN源服务器    带宽大,待定    2核    4GB    200GB    CentOS-6.x-x86_64-minimal    1台    1Gb/s 或100Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>     SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡<br>     SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间<br>     数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001<br>     数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>开放端口:14000 10000<br>     GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间     </p>\n',2,'2019-09-17 18:33:27',2,1568716407,0),(35,'modify','修改文档',17,'国内版本服务器需求',3,'|--|--|--|--|--|--|--|--|--|--|--|\n|项目|	用途|	亚马逊相近型号|	CPU|	内存|	数据盘|	操作系统|	数量|	带宽|	分区要求|	备注|\n封神	游戏服	r3.xlarge	8核	32GB	300GB	win2008R2_x64简体中文版或英文版	n台	10Mb/s	C盘50GB   D盘:300GB	 \n 	测试服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	审核服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	程序监控服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<p class=\"line\">|–|–|–|–|–|–|–|–|–|–|–|<br>|项目|    用途|    亚马逊相近型号|    CPU|    内存|    数据盘|    操作系统|    数量|    带宽|    分区要求|    备注|<br>封神    游戏服    r3.xlarge    8核    32GB    300GB    win2008R2_x64简体中文版或英文版    n台    10Mb/s    C盘50GB   D盘:300GB<br>     测试服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     审核服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     程序监控服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     跨服服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     列表&amp;CDN源服务器    带宽大,待定    2核    4GB    200GB    CentOS-6.x-x86_64-minimal    1台    1Gb/s 或100Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>     SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡<br>     SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间<br>     数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001<br>     数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>开放端口:14000 10000<br>     GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间     </p>\n',2,'2019-09-17 18:33:57',2,1568716437,0),(36,'modify','修改文档',17,'国内版本服务器需求',3,'|---|---|---|---|---|---|---|---|---|---|---|\n|项目|	用途|	亚马逊相近型号|	CPU|	内存|	数据盘|	操作系统|	数量|	带宽|	分区要求|	备注|\n\n封神	游戏服	r3.xlarge	8核	32GB	300GB	win2008R2_x64简体中文版或英文版	n台	10Mb/s	C盘50GB   D盘:300GB	 \n 	测试服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	审核服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	程序监控服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<p class=\"line\">|—|—|—|—|—|—|—|—|—|—|—|<br>|项目|    用途|    亚马逊相近型号|    CPU|    内存|    数据盘|    操作系统|    数量|    带宽|    分区要求|    备注|</p>\n<p class=\"line\">封神    游戏服    r3.xlarge    8核    32GB    300GB    win2008R2_x64简体中文版或英文版    n台    10Mb/s    C盘50GB   D盘:300GB<br>     测试服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     审核服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     程序监控服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     跨服服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     列表&amp;CDN源服务器    带宽大,待定    2核    4GB    200GB    CentOS-6.x-x86_64-minimal    1台    1Gb/s 或100Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>     SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡<br>     SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间<br>     数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001<br>     数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>开放端口:14000 10000<br>     GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间     </p>\n',2,'2019-09-17 18:34:27',2,1568716467,0),(37,'modify','修改文档',17,'国内版本服务器需求',3,'| --- | --- | --- | --- | --- | --- | --- | --- | --- | ---|---|\n|项目|	用途|	亚马逊相近型号|	CPU|	内存|	数据盘|	操作系统|	数量|	带宽|	分区要求|	备注|\n\n封神	游戏服	r3.xlarge	8核	32GB	300GB	win2008R2_x64简体中文版或英文版	n台	10Mb/s	C盘50GB   D盘:300GB	 \n 	测试服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	审核服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	程序监控服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<p class=\"line\">| — | — | — | — | — | — | — | — | — | —|—|<br>|项目|    用途|    亚马逊相近型号|    CPU|    内存|    数据盘|    操作系统|    数量|    带宽|    分区要求|    备注|</p>\n<p class=\"line\">封神    游戏服    r3.xlarge    8核    32GB    300GB    win2008R2_x64简体中文版或英文版    n台    10Mb/s    C盘50GB   D盘:300GB<br>     测试服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     审核服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     程序监控服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     跨服服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     列表&amp;CDN源服务器    带宽大,待定    2核    4GB    200GB    CentOS-6.x-x86_64-minimal    1台    1Gb/s 或100Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>     SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡<br>     SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间<br>     数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001<br>     数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>开放端口:14000 10000<br>     GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间     </p>\n',2,'2019-09-17 18:34:57',2,1568716497,0),(38,'modify','修改文档',17,'国内版本服务器需求',3,'| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n\n封神	游戏服	r3.xlarge	8核	32GB	300GB	win2008R2_x64简体中文版或英文版	n台	10Mb/s	C盘50GB   D盘:300GB	 \n 	测试服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	审核服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	程序监控服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<p class=\"line\">| — | — | — | — | — | — | — | — | — | — | — |<br>| 项目 |    用途 |    亚马逊相近型号 |    CPU |    内存 |    数据盘 |    操作系统 |    数量 |    带宽 |    分区要求 |    备注 |</p>\n<p class=\"line\">封神    游戏服    r3.xlarge    8核    32GB    300GB    win2008R2_x64简体中文版或英文版    n台    10Mb/s    C盘50GB   D盘:300GB<br>     测试服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     审核服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     程序监控服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     跨服服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     列表&amp;CDN源服务器    带宽大,待定    2核    4GB    200GB    CentOS-6.x-x86_64-minimal    1台    1Gb/s 或100Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>     SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡<br>     SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间<br>     数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001<br>     数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>开放端口:14000 10000<br>     GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间     </p>\n',2,'2019-09-17 18:35:27',2,1568716527,0),(39,'modify','修改文档',17,'国内版本服务器需求',3,'| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n封神	游戏服	r3.xlarge	8核	32GB	300GB	win2008R2_x64简体中文版或英文版	n台	10Mb/s	C盘50GB   D盘:300GB	 \n\n 	测试服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	审核服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	程序监控服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<p class=\"line\">| — | — | — | — | — | — | — | — | — | — | — |<br>| 项目 |    用途 |    亚马逊相近型号 |    CPU |    内存 |    数据盘 |    操作系统 |    数量 |    带宽 |    分区要求 |    备注 |<br>封神    游戏服    r3.xlarge    8核    32GB    300GB    win2008R2_x64简体中文版或英文版    n台    10Mb/s    C盘50GB   D盘:300GB     </p>\n<pre class=\"hljs coffeescript\"><code> 测试服    m3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    win2008R2_x64简体中文版或英文版    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb/s    C盘<span class=\"hljs-number\">50</span>GB   D盘:<span class=\"hljs-number\">200</span>GB     \n 审核服    m3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    win2008R2_x64简体中文版或英文版    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb/s    C盘<span class=\"hljs-number\">50</span>GB   D盘:<span class=\"hljs-number\">200</span>GB     \n 程序监控服务器    m3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    win2008R2_x64简体中文版或英文版    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb/s    C盘<span class=\"hljs-number\">50</span>GB   D盘:<span class=\"hljs-number\">200</span>GB     \n 跨服服务器    m3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    win2008R2_x64简体中文版或英文版    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb/s    C盘<span class=\"hljs-number\">50</span>GB   D盘:<span class=\"hljs-number\">200</span>GB     \n 列表&amp;CDN源服务器    带宽大,待定    <span class=\"hljs-number\">2</span>核    <span class=\"hljs-number\">4</span>GB    <span class=\"hljs-number\">200</span>GB    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">1</span>Gb<span class=\"hljs-regexp\">/s 或100Mb/s    /boot 1GB  swap  4G  /</span> 剩余所有空间     \n SDK服务器    c3<span class=\"hljs-number\">.2</span>xlarge    <span class=\"hljs-number\">8</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">2</span>台    <span class=\"hljs-number\">10</span>Mb<span class=\"hljs-regexp\">/s    /boot 1GB  swap 16G  /</span> 剩余所有空间    需要负载均衡\n SDK数据服务器    c3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">8</span>GB    <span class=\"hljs-number\">500</span>GB    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb<span class=\"hljs-regexp\">/s    /boot 1GB  swap 16G  /</span> 剩余所有空间     \n 数据采集服务器    c3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">4</span>GB    <span class=\"hljs-number\">300</span>GB    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb<span class=\"hljs-regexp\">/s    /boot 1GB  swap  4G  /</span> 剩余所有空间    开放端口：<span class=\"hljs-number\">8001</span>\n 数据服务器    c3.xlarge    <span class=\"hljs-number\">6</span>C12T    <span class=\"hljs-number\">32</span>GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少<span class=\"hljs-number\">40</span>T    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb<span class=\"hljs-regexp\">/s    /boot 1GB  swap  4G  /</span> 剩余所有空间    </code></pre><p class=\"line\">开放端口:14000 10000<br>     GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间     </p>\n',2,'2019-09-17 18:35:57',2,1568716557,0),(40,'modify','修改文档',17,'国内版本服务器需求',3,'| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB    D盘:300GB	 \n\n 	测试服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	审核服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	程序监控服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<p class=\"line\">| — | — | — | — | — | — | — | — | — | — | — |<br>| 项目 |    用途 |    亚马逊相近型号 |    CPU |    内存 |    数据盘 |    操作系统 |    数量 |    带宽 |    分区要求 |    备注 |<br>| 封神    | 游戏服 |    r3.xlarge |    8核 |    32GB |    300GB |    win2008R2_x64简体中文版或英文版 |    n台 |    10Mb/s |    C盘50GB   D盘:300GB     </p>\n<pre class=\"hljs coffeescript\"><code> 测试服    m3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    win2008R2_x64简体中文版或英文版    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb/s    C盘<span class=\"hljs-number\">50</span>GB   D盘:<span class=\"hljs-number\">200</span>GB     \n 审核服    m3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    win2008R2_x64简体中文版或英文版    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb/s    C盘<span class=\"hljs-number\">50</span>GB   D盘:<span class=\"hljs-number\">200</span>GB     \n 程序监控服务器    m3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    win2008R2_x64简体中文版或英文版    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb/s    C盘<span class=\"hljs-number\">50</span>GB   D盘:<span class=\"hljs-number\">200</span>GB     \n 跨服服务器    m3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    win2008R2_x64简体中文版或英文版    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb/s    C盘<span class=\"hljs-number\">50</span>GB   D盘:<span class=\"hljs-number\">200</span>GB     \n 列表&amp;CDN源服务器    带宽大,待定    <span class=\"hljs-number\">2</span>核    <span class=\"hljs-number\">4</span>GB    <span class=\"hljs-number\">200</span>GB    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">1</span>Gb<span class=\"hljs-regexp\">/s 或100Mb/s    /boot 1GB  swap  4G  /</span> 剩余所有空间     \n SDK服务器    c3<span class=\"hljs-number\">.2</span>xlarge    <span class=\"hljs-number\">8</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">2</span>台    <span class=\"hljs-number\">10</span>Mb<span class=\"hljs-regexp\">/s    /boot 1GB  swap 16G  /</span> 剩余所有空间    需要负载均衡\n SDK数据服务器    c3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">8</span>GB    <span class=\"hljs-number\">500</span>GB    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb<span class=\"hljs-regexp\">/s    /boot 1GB  swap 16G  /</span> 剩余所有空间     \n 数据采集服务器    c3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">4</span>GB    <span class=\"hljs-number\">300</span>GB    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb<span class=\"hljs-regexp\">/s    /boot 1GB  swap  4G  /</span> 剩余所有空间    开放端口：<span class=\"hljs-number\">8001</span>\n 数据服务器    c3.xlarge    <span class=\"hljs-number\">6</span>C12T    <span class=\"hljs-number\">32</span>GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少<span class=\"hljs-number\">40</span>T    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb<span class=\"hljs-regexp\">/s    /boot 1GB  swap  4G  /</span> 剩余所有空间    </code></pre><p class=\"line\">开放端口:14000 10000<br>     GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间     </p>\n',2,'2019-09-17 18:36:27',2,1568716587,0),(41,'modify','修改文档',17,'国内版本服务器需求',3,'| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB |   D盘:300GB	|  | \n\n 	测试服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	审核服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	程序监控服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<p class=\"line\">| — | — | — | — | — | — | — | — | — | — | — |<br>| 项目 |    用途 |    亚马逊相近型号 |    CPU |    内存 |    数据盘 |    操作系统 |    数量 |    带宽 |    分区要求 |    备注 |<br>| 封神    | 游戏服 |    r3.xlarge |    8核 |    32GB |    300GB |    win2008R2_x64简体中文版或英文版 |    n台 |    10Mb/s |    C盘50GB |   D盘:300GB    |  | </p>\n<pre class=\"hljs coffeescript\"><code> 测试服    m3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    win2008R2_x64简体中文版或英文版    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb/s    C盘<span class=\"hljs-number\">50</span>GB   D盘:<span class=\"hljs-number\">200</span>GB     \n 审核服    m3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    win2008R2_x64简体中文版或英文版    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb/s    C盘<span class=\"hljs-number\">50</span>GB   D盘:<span class=\"hljs-number\">200</span>GB     \n 程序监控服务器    m3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    win2008R2_x64简体中文版或英文版    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb/s    C盘<span class=\"hljs-number\">50</span>GB   D盘:<span class=\"hljs-number\">200</span>GB     \n 跨服服务器    m3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    win2008R2_x64简体中文版或英文版    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb/s    C盘<span class=\"hljs-number\">50</span>GB   D盘:<span class=\"hljs-number\">200</span>GB     \n 列表&amp;CDN源服务器    带宽大,待定    <span class=\"hljs-number\">2</span>核    <span class=\"hljs-number\">4</span>GB    <span class=\"hljs-number\">200</span>GB    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">1</span>Gb<span class=\"hljs-regexp\">/s 或100Mb/s    /boot 1GB  swap  4G  /</span> 剩余所有空间     \n SDK服务器    c3<span class=\"hljs-number\">.2</span>xlarge    <span class=\"hljs-number\">8</span>核    <span class=\"hljs-number\">16</span>GB    <span class=\"hljs-number\">200</span>GB    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">2</span>台    <span class=\"hljs-number\">10</span>Mb<span class=\"hljs-regexp\">/s    /boot 1GB  swap 16G  /</span> 剩余所有空间    需要负载均衡\n SDK数据服务器    c3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">8</span>GB    <span class=\"hljs-number\">500</span>GB    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb<span class=\"hljs-regexp\">/s    /boot 1GB  swap 16G  /</span> 剩余所有空间     \n 数据采集服务器    c3.xlarge    <span class=\"hljs-number\">4</span>核    <span class=\"hljs-number\">4</span>GB    <span class=\"hljs-number\">300</span>GB    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb<span class=\"hljs-regexp\">/s    /boot 1GB  swap  4G  /</span> 剩余所有空间    开放端口：<span class=\"hljs-number\">8001</span>\n 数据服务器    c3.xlarge    <span class=\"hljs-number\">6</span>C12T    <span class=\"hljs-number\">32</span>GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少<span class=\"hljs-number\">40</span>T    CentOS<span class=\"hljs-number\">-6.</span>x-x86_64-minimal    <span class=\"hljs-number\">1</span>台    <span class=\"hljs-number\">10</span>Mb<span class=\"hljs-regexp\">/s    /boot 1GB  swap  4G  /</span> 剩余所有空间    </code></pre><p class=\"line\">开放端口:14000 10000<br>     GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间     </p>\n',2,'2019-09-17 18:36:57',2,1568716617,0),(42,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n\n 测试服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	审核服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	程序监控服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n</tbody></table>\n<p class=\"line\"> 测试服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     审核服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     程序监控服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     跨服服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB<br>     列表&amp;CDN源服务器    带宽大,待定    2核    4GB    200GB    CentOS-6.x-x86_64-minimal    1台    1Gb/s 或100Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>     SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡<br>     SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间<br>     数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001<br>     数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间<br>开放端口:14000 10000<br>     GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间     </p>\n',2,'2019-09-17 18:37:27',2,1568716647,0),(43,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n|测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n 	审核服	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	程序监控服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>审核服    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>程序监控服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>跨服服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>列表&amp;CDN源服务器    带宽大,待定    2核    4GB    200GB    CentOS-6.x-x86_64-minimal    1台    1Gb/s 或100Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>开放端口:14000 10000</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:37:57',2,1568716677,0),(44,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	程序监控服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>程序监控服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>跨服服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>列表&amp;CDN源服务器    带宽大,待定    2核    4GB    200GB    CentOS-6.x-x86_64-minimal    1台    1Gb/s 或100Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>开放端口:14000 10000</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:38:27',2,1568716707,0),(45,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	跨服服务器	m3.xlarge	4核	16GB	200GB	win2008R2_x64简体中文版或英文版	1台	10Mb/s	C盘50GB   D盘:200GB	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>跨服服务器    m3.xlarge    4核    16GB    200GB    win2008R2_x64简体中文版或英文版    1台    10Mb/s    C盘50GB   D盘:200GB</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>列表&amp;CDN源服务器    带宽大,待定    2核    4GB    200GB    CentOS-6.x-x86_64-minimal    1台    1Gb/s 或100Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>开放端口:14000 10000</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:38:57',2,1568716737,0),(46,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n 	列表&CDN源服务器	带宽大,待定	2核	4GB	200GB	CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td>列表&amp;CDN源服务器    带宽大,待定    2核    4GB    200GB    CentOS-6.x-x86_64-minimal    1台    1Gb/s 或100Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>开放端口:14000 10000</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:39:27',2,1568716767,0),(47,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal	1台	1Gb/s 或100Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	 \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>1台    1Gb/s 或100Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>开放端口:14000 10000</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:39:57',2,1568716797,0),(48,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n 	SDK服务器	c3.2xlarge	8核	16GB	200GB	CentOS-6.x-x86_64-minimal	2台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	需要负载均衡\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td>SDK服务器    c3.2xlarge    8核    16GB    200GB    CentOS-6.x-x86_64-minimal    2台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间    需要负载均衡</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>开放端口:14000 10000</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:40:27',2,1568716827,0),(49,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n | |	SDK服务器 |	c3.2xlarge |	8核 |	16GB |	200GB |	CentOS-6.x-x86_64-minimal |	2台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	需要负载均衡 |\n 	SDK数据服务器	c3.xlarge	4核	8GB	500GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap 16G  / 剩余所有空间	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td>需要负载均衡</td>\n</tr>\n<tr>\n<td>SDK数据服务器    c3.xlarge    4核    8GB    500GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>开放端口:14000 10000</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:40:57',2,1568716857,0),(50,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n | |	SDK服务器 |	c3.2xlarge |	8核 |	16GB |	200GB |	CentOS-6.x-x86_64-minimal |	2台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	`需要负载均衡` |\n | |	SDK数据服务器 |	c3.xlarge |	4核 |	8GB	500GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	 \n 	数据采集服务器	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td><code>需要负载均衡</code></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK数据服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>8GB    500GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据采集服务器    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>开放端口:14000 10000</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:41:27',2,1568716887,0),(51,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n | |	SDK服务器 |	c3.2xlarge |	8核 |	16GB |	200GB |	CentOS-6.x-x86_64-minimal |	2台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	`需要负载均衡` |\n | |	SDK数据服务器 |	c3.xlarge |	4核 |	8GB |	500GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	 \n | |	数据采集服务器 |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	开放端口：8001\n 	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td><code>需要负载均衡</code></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK数据服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>8GB</td>\n<td>500GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>数据采集服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间    开放端口：8001</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>开放端口:14000 10000</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:41:57',2,1568716917,0),(52,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n | |	SDK服务器 |	c3.2xlarge |	8核 |	16GB |	200GB |	CentOS-6.x-x86_64-minimal |	2台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	`需要负载均衡` |\n | |	SDK数据服务器 |	c3.xlarge |	4核 |	8GB |	500GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	 \n | |	数据采集服务器 |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口：8001` |\n | |	数据服务器	c3.xlarge	6C12T	32GB	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td><code>需要负载均衡</code></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK数据服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>8GB</td>\n<td>500GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>数据采集服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口：8001</code></td>\n</tr>\n<tr>\n<td></td>\n<td>数据服务器    c3.xlarge    6C12T    32GB    硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>开放端口:14000 10000</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:42:27',2,1568716947,0),(53,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n | |	SDK服务器 |	c3.2xlarge |	8核 |	16GB |	200GB |	CentOS-6.x-x86_64-minimal |	2台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	`需要负载均衡` |\n | |	SDK数据服务器 |	c3.xlarge |	4核 |	8GB |	500GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	 \n | |	数据采集服务器 |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口：8001` |\n |   |	数据服务器 |	c3.xlarge |	6C12T |	32GB |	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T |	CentOS-6.x-x86_64-minimal 	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间	\n开放端口:14000 10000\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td><code>需要负载均衡</code></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK数据服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>8GB</td>\n<td>500GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>数据采集服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口：8001</code></td>\n</tr>\n<tr>\n<td></td>\n<td>数据服务器</td>\n<td>c3.xlarge</td>\n<td>6C12T</td>\n<td>32GB</td>\n<td>硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>开放端口:14000 10000</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:42:57',2,1568716977,0),(54,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n | |	SDK服务器 |	c3.2xlarge |	8核 |	16GB |	200GB |	CentOS-6.x-x86_64-minimal |	2台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	`需要负载均衡` |\n | |	SDK数据服务器 |	c3.xlarge |	4核 |	8GB |	500GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	 \n | |	数据采集服务器 |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口：8001` |\n |   |	数据服务器 |	c3.xlarge |	6C12T |	32GB |	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	\n`开放端口:14000 10000` |\n 	GMT	c3.xlarge	4核	4GB	300GB	CentOS-6.x-x86_64-minimal	1台	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td><code>需要负载均衡</code></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK数据服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>8GB</td>\n<td>500GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>数据采集服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口：8001</code></td>\n</tr>\n<tr>\n<td></td>\n<td>数据服务器</td>\n<td>c3.xlarge</td>\n<td>6C12T</td>\n<td>32GB</td>\n<td>硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td><code>开放端口:14000 10000</code></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GMT    c3.xlarge    4核    4GB    300GB    CentOS-6.x-x86_64-minimal    1台    10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:43:57',2,1568717037,0),(55,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n | |	SDK服务器 |	c3.2xlarge |	8核 |	16GB |	200GB |	CentOS-6.x-x86_64-minimal |	2台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	`需要负载均衡` |\n | |	SDK数据服务器 |	c3.xlarge |	4核 |	8GB |	500GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	 \n | |	数据采集服务器 |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口：8001` |\n |   |	数据服务器 |	c3.xlarge |	6C12T |	32GB |	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口:14000 10000` |\n |  | GMT |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s	/boot 1GB  swap  4G  / 剩余所有空间','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td><code>需要负载均衡</code></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK数据服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>8GB</td>\n<td>500GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>数据采集服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口：8001</code></td>\n</tr>\n<tr>\n<td></td>\n<td>数据服务器</td>\n<td>c3.xlarge</td>\n<td>6C12T</td>\n<td>32GB</td>\n<td>硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口:14000 10000</code></td>\n</tr>\n<tr>\n<td></td>\n<td>GMT</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s    /boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:44:27',2,1568717067,0),(56,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n | |	SDK服务器 |	c3.2xlarge |	8核 |	16GB |	200GB |	CentOS-6.x-x86_64-minimal |	2台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	`需要负载均衡` |\n | |	SDK数据服务器 |	c3.xlarge |	4核 |	8GB |	500GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	 \n | |	数据采集服务器 |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口：8001` |\n |   |	数据服务器 |	c3.xlarge |	6C12T |	32GB |	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口:14000 10000` |\n |  | GMT |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td><code>需要负载均衡</code></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK数据服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>8GB</td>\n<td>500GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>数据采集服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口：8001</code></td>\n</tr>\n<tr>\n<td></td>\n<td>数据服务器</td>\n<td>c3.xlarge</td>\n<td>6C12T</td>\n<td>32GB</td>\n<td>硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口:14000 10000</code></td>\n</tr>\n<tr>\n<td></td>\n<td>GMT</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n</tbody></table>\n',2,'2019-09-17 18:44:57',2,1568717097,0),(57,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n | |	SDK服务器 |	c3.2xlarge |	8核 |	16GB |	200GB |	CentOS-6.x-x86_64-minimal |	2台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	`需要负载均衡` |\n | |	SDK数据服务器 |	c3.xlarge |	4核 |	8GB |	500GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	 \n | |	数据采集服务器 |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口：8001` |\n |   |	数据服务器 |	c3.xlarge |	6C12T |	32GB |	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口:14000 10000` |\n |  | GMT |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |\n\n>[warning]注意：1台服务器只能开1个服,单台服务器不支持开多服\n所有机器均需要内外网IP,内网能互通','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td><code>需要负载均衡</code></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK数据服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>8GB</td>\n<td>500GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>数据采集服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口：8001</code></td>\n</tr>\n<tr>\n<td></td>\n<td>数据服务器</td>\n<td>c3.xlarge</td>\n<td>6C12T</td>\n<td>32GB</td>\n<td>硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口:14000 10000</code></td>\n</tr>\n<tr>\n<td></td>\n<td>GMT</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">注意：1台服务器只能开1个服,单台服务器不支持开多服<br>所有机器均需要内外网IP,内网能互通</p>\n</blockquote>\n',2,'2019-09-17 18:45:27',2,1568717127,0),(58,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n | |	SDK服务器 |	c3.2xlarge |	8核 |	16GB |	200GB |	CentOS-6.x-x86_64-minimal |	2台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	`需要负载均衡` |\n | |	SDK数据服务器 |	c3.xlarge |	4核 |	8GB |	500GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	 \n | |	数据采集服务器 |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口：8001` |\n |   |	数据服务器 |	c3.xlarge |	6C12T |	32GB |	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口:14000 10000` |\n |  | GMT |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |\n\n>[warning]注意：1台服务器只能开1个服,单台服务器不支持开多服\n所有机器均需要内外网IP,内网能互通\n带宽: 每台机器均需要`10Mb/s`外网带宽\n\n>[dan]','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td><code>需要负载均衡</code></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK数据服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>8GB</td>\n<td>500GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>数据采集服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口：8001</code></td>\n</tr>\n<tr>\n<td></td>\n<td>数据服务器</td>\n<td>c3.xlarge</td>\n<td>6C12T</td>\n<td>32GB</td>\n<td>硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口:14000 10000</code></td>\n</tr>\n<tr>\n<td></td>\n<td>GMT</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">注意：1台服务器只能开1个服,单台服务器不支持开多服<br>所有机器均需要内外网IP,内网能互通<br>带宽: 每台机器均需要<code>10Mb/s</code>外网带宽</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">[]</p>\n</blockquote>\n',2,'2019-09-17 18:45:41',2,1568717141,0),(59,'modify','修改文档',17,'国内版本服务器需求',3,'| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n | |	SDK服务器 |	c3.2xlarge |	8核 |	16GB |	200GB |	CentOS-6.x-x86_64-minimal |	2台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	`需要负载均衡` |\n | |	SDK数据服务器 |	c3.xlarge |	4核 |	8GB |	500GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	 \n | |	数据采集服务器 |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口：8001` |\n |   |	数据服务器 |	c3.xlarge |	6C12T |	32GB |	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口:14000 10000` |\n |  | GMT |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |\n\n>[warning]注意：1台服务器只能开1个服,单台服务器不支持开多服\n所有机器均需要内外网IP,内网能互通\n带宽: 每台机器均需要`10Mb/s`外网带宽\n\n>[danger]如果\"列表&CDN源服务器\"和其它机器在同一内网,可以和\"管理机Linux\"合并,配置按\"列表&CDN源服务器\"提供','<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td><code>需要负载均衡</code></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK数据服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>8GB</td>\n<td>500GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>数据采集服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口：8001</code></td>\n</tr>\n<tr>\n<td></td>\n<td>数据服务器</td>\n<td>c3.xlarge</td>\n<td>6C12T</td>\n<td>32GB</td>\n<td>硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口:14000 10000</code></td>\n</tr>\n<tr>\n<td></td>\n<td>GMT</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">注意：1台服务器只能开1个服,单台服务器不支持开多服<br>所有机器均需要内外网IP,内网能互通<br>带宽: 每台机器均需要<code>10Mb/s</code>外网带宽</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">如果”列表&amp;CDN源服务器”和其它机器在同一内网,可以和”管理机Linux”合并,配置按”列表&amp;CDN源服务器”提供</p>\n</blockquote>\n',2,'2019-09-17 18:46:27',2,1568717187,0),(60,'modify','修改文档',17,'国内版本服务器需求',3,'# f\n\n| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n | |	SDK服务器 |	c3.2xlarge |	8核 |	16GB |	200GB |	CentOS-6.x-x86_64-minimal |	2台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	`需要负载均衡` |\n | |	SDK数据服务器 |	c3.xlarge |	4核 |	8GB |	500GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	 \n | |	数据采集服务器 |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口：8001` |\n |   |	数据服务器 |	c3.xlarge |	6C12T |	32GB |	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口:14000 10000` |\n |  | GMT |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |\n\n>[warning]注意：1台服务器只能开1个服,单台服务器不支持开多服\n所有机器均需要内外网IP,内网能互通\n带宽: 每台机器均需要`10Mb/s`外网带宽\n\n>[danger]如果\"列表&CDN源服务器\"和其它机器在同一内网,可以和\"管理机Linux\"合并,配置按\"列表&CDN源服务器\"提供','<p class=\"line\"># </p>\n<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td><code>需要负载均衡</code></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK数据服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>8GB</td>\n<td>500GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>数据采集服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口：8001</code></td>\n</tr>\n<tr>\n<td></td>\n<td>数据服务器</td>\n<td>c3.xlarge</td>\n<td>6C12T</td>\n<td>32GB</td>\n<td>硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口:14000 10000</code></td>\n</tr>\n<tr>\n<td></td>\n<td>GMT</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">注意：1台服务器只能开1个服,单台服务器不支持开多服<br>所有机器均需要内外网IP,内网能互通<br>带宽: 每台机器均需要<code>10Mb/s</code>外网带宽</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">如果”列表&amp;CDN源服务器”和其它机器在同一内网,可以和”管理机Linux”合并,配置按”列表&amp;CDN源服务器”提供</p>\n</blockquote>\n',2,'2019-09-17 18:46:40',2,1568717200,0),(61,'modify','修改文档',18,'客户端脚本书写规范',0,'','',2,'2019-09-17 18:59:19',2,1568717958,0),(62,'modify','修改文档',18,'客户端脚本书写规范',0,'# 客户端脚本书写规范\n\n\n## 脚本类型和前缀对应表\n\n### Frame框架类对应脚本：\n|前缀名| 功能 |\n|-- | -- |\n| `ui_`  |   界面脚本 |\n| `scene_` |		场景脚本		|\n| `ai_` |		角色AI脚本 |\n| `session_` |	主要注册网络消息的脚本 |\n| `frame_` |		普通框架脚本 |\n\n### 各种方法类脚本\n|前缀名| 功能 |\n|-- | -- |\n| `util_`| 		方法类脚本 |\n| `db_` |		存储游戏数据的脚本 |\n| `container_` |	容器类脚本，存储背包英雄等数据的脚本 |\n| `enum_` |		枚举类脚本 |\n\n### 各种对象模块脚本\n|前缀名| 功能 |\n|-- | -- |\n| `object_` |		对象脚本|\n| `ctrl_` |		控制器脚本|\n\n\n## 脚本函数规则\n脚本函数和C++接口函数命名要有所区分，方便识别C++脚本接口\n全局函数以_开头全部小写的方式（为了和原来用法习惯保持不变），如 _createframe\n\n成员函数以单词首字母大写连写的方式命名，如 `GetFrameName`\n\n### Lua全局接口:\n* global_functions.lua中的函数以单词首字母大写连写的方式命名，如 GetEntry\n* global_enums.lua中枚举命名以服务器枚举命名规则为准，自己添加的枚举首字母大写\n* global_string.lua中的字符串名称首字母大写\n\n>[info]三个全局接口加载顺序依次是enums->strings->functions，分别对应枚举，字符串和函数，所以每个文件不要有不相符的内容\n\n\n### Lua框架类脚本\n* C++回调函数以单词首字母大写连写方式命名，如Init\n* 局部函数以V_开头，单词首字母大写连写方式命名，如V_InitUI\n* 事件处理函数以OnEvent_开头，如OnEvent_OpenDialog\n* 网络消息处理函数以OnNet_开头，如OnNet_ChangeName\n控件事件处理函数以“控件名_On操作”，如bt_close_OnClick\n\n### Lua方法类和对象类脚本\n* 接口函数采用小写单词用下划线分割的方式，如get_player_info\n* 局部函数以v_为开头小写单词用下划线分割的方式，如v_get_player_name\n* 对象成员函数采用小写单词用下划线分割的方式，如get_player_info\n\n## 变量命名规则\n变量都已小写单词用下划线分割的方式\n* 文件级的局部变量以`f_`开头，如`local f_name`\n* 函数级的局部变量以`l_`开头，如`local l_name`\n* 函数的参数以`_`为开头，如 `function OnEvent(_event)`\n* 定义的常量以`x_`开头，枚举以`e_`开头\n* 全局变量只用于常量或者枚举\n\n```\n框架类脚本结构:\n//-----------------------------------------------------------------\n// 脚本方法模块声明\n//-----------------------------------------------------------------\nlocal f_string 	= require(\"util_string\")\n\n//-----------------------------------------------------------------\n// 局部变量声明\n//-----------------------------------------------------------------\nlocal f_name	= \"\"\n\n//-----------------------------------------------------------------\n// 局部函数声明\n//-----------------------------------------------------------------\nlocal V_InitUI\n\n//-----------------------------------------------------------------\n// C++回调函数\n//-----------------------------------------------------------------\nfunction Init(_param)\n	// 注册UI事件	\n	this:RegUIEvent(bt_close, \"Close\", \"bt_close_OnClick()\")\n	\n	// 注册游戏事件\n	this:RegGameEvent(\"OpenWindow\", \"OnEvent_OpenWindow\")\n\n	// 注册网络事件\n	this:RegNetCmd(\"MS_OpenWindow\", OnNet_OpenWindow)	\n\n\n	V_InitUI()			\nend\n\n//-----------------------------------------------------------------\n// 控件事件处理函数\n//-----------------------------------------------------------------\nfunction bt_close_OnClick()\n\nend\n\n//-----------------------------------------------------------------\n// 游戏事件处理函数\n//-----------------------------------------------------------------\nfunction OnEvent_OpenWindow(_name, _event)\n\nend\n\n//-----------------------------------------------------------------\n// 网络消息处理函数\n//-----------------------------------------------------------------\nfunction OnNet_OpenWindow(_name, _cmd)\n\nend\n\n//-----------------------------------------------------------------\n// 局部函数\n//-----------------------------------------------------------------\nfunction V_InitUI()\n\nend\n\n\n\n方法类脚本结构:\n//-----------------------------------------------------------------\n// 脚本方法模块声明\n//-----------------------------------------------------------------\nmodule(\"util_string\", package.seeall)\n\n//-----------------------------------------------------------------\n// 局部变量声明\n//-----------------------------------------------------------------\nlocal f_string = \"\"\n\n//-----------------------------------------------------------------\n// 局部函数声明\n//-----------------------------------------------------------------\nlocal v_get_string\n\n//-----------------------------------------------------------------\n// 接口函数\n//-----------------------------------------------------------------\nfunction parse_token(_string)\n\nend\n\n//-----------------------------------------------------------------\n// 局部函数\n//-----------------------------------------------------------------\nfunction v_get_string()\n	\nend\n\n对象类脚本\n//-----------------------------------------------------------------\n// 脚本方法模块声明\n//-----------------------------------------------------------------\nmodule(\"object_hero\", package.seeall)\n\nlocal f_enum            = require(\"enum_combat\")\n\n//-----------------------------------------------------------------\n// 局部变量声明\n//-----------------------------------------------------------------\nlocal f_hero		= {}\n\n//-----------------------------------------------------------------\n// 局部函数声明\n//-----------------------------------------------------------------\nlocal v_init_spell\n\n//-----------------------------------------------------------------\n// 接口函数\n//-----------------------------------------------------------------\nfunction new_hero(_location, _entry_id, _fashion_id, _scene)\n\nend\n\n//-----------------------------------------------------------------\n// 对象成员函数\n//-----------------------------------------------------------------\nfunction f_hero.attack(_hero, _target)\n\nend\n\n//-----------------------------------------------------------------\n// 局部函数\n//-----------------------------------------------------------------\nfunction v_init_spell()\n\nend\n```','<h1 id=\"cf0cqi\" class=\"markdown-heading\"><a name=\"cf0cqi\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>客户端脚本书写规范</h1><h2 id=\"6knzhc\" class=\"markdown-heading\"><a name=\"6knzhc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本类型和前缀对应表</h2><h3 id=\"788x3q\" class=\"markdown-heading\"><a name=\"788x3q\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Frame框架类对应脚本：</h3><table>\n<thead>\n<tr>\n<th>前缀名</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>ui_</code></td>\n<td>界面脚本</td>\n</tr>\n<tr>\n<td><code>scene_</code></td>\n<td>场景脚本</td>\n</tr>\n<tr>\n<td><code>ai_</code></td>\n<td>角色AI脚本</td>\n</tr>\n<tr>\n<td><code>session_</code></td>\n<td>主要注册网络消息的脚本</td>\n</tr>\n<tr>\n<td><code>frame_</code></td>\n<td>普通框架脚本</td>\n</tr>\n</tbody></table>\n<h3 id=\"d2mmjc\" class=\"markdown-heading\"><a name=\"d2mmjc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>各种方法类脚本</h3><table>\n<thead>\n<tr>\n<th>前缀名</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>util_</code></td>\n<td>方法类脚本</td>\n</tr>\n<tr>\n<td><code>db_</code></td>\n<td>存储游戏数据的脚本</td>\n</tr>\n<tr>\n<td><code>container_</code></td>\n<td>容器类脚本，存储背包英雄等数据的脚本</td>\n</tr>\n<tr>\n<td><code>enum_</code></td>\n<td>枚举类脚本</td>\n</tr>\n</tbody></table>\n<h3 id=\"3opu6h\" class=\"markdown-heading\"><a name=\"3opu6h\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>各种对象模块脚本</h3><table>\n<thead>\n<tr>\n<th>前缀名</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>object_</code></td>\n<td>对象脚本</td>\n</tr>\n<tr>\n<td><code>ctrl_</code></td>\n<td>控制器脚本</td>\n</tr>\n</tbody></table>\n<h2 id=\"22bxx8\" class=\"markdown-heading\"><a name=\"22bxx8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本函数规则</h2><p class=\"line\">脚本函数和C++接口函数命名要有所区分，方便识别C++脚本接口<br>全局函数以_开头全部小写的方式（为了和原来用法习惯保持不变），如 _createframe</p>\n<p class=\"line\">成员函数以单词首字母大写连写的方式命名，如 <code>GetFrameName</code></p>\n<h3 id=\"98zjfw\" class=\"markdown-heading\"><a name=\"98zjfw\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Lua全局接口:</h3><ul>\n<li>global_functions.lua中的函数以单词首字母大写连写的方式命名，如 GetEntry</li><li>global_enums.lua中枚举命名以服务器枚举命名规则为准，自己添加的枚举首字母大写</li><li>global_string.lua中的字符串名称首字母大写</li></ul>\n<blockquote class=\"info\">\n<p class=\"line\">三个全局接口加载顺序依次是enums-&gt;strings-&gt;functions，分别对应枚举，字符串和函数，所以每个文件不要有不相符的内容</p>\n</blockquote>\n<h3 id=\"g1xc2e\" class=\"markdown-heading\"><a name=\"g1xc2e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Lua框架类脚本</h3><ul>\n<li>C++回调函数以单词首字母大写连写方式命名，如Init</li><li>局部函数以V_开头，单词首字母大写连写方式命名，如V_InitUI</li><li>事件处理函数以OnEvent_开头，如OnEvent_OpenDialog</li><li>网络消息处理函数以OnNet_开头，如OnNet_ChangeName<br>控件事件处理函数以“控件名<em>On操作”，如bt</em>close_OnClick</li></ul>\n<h3 id=\"3x2qsg\" class=\"markdown-heading\"><a name=\"3x2qsg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Lua方法类和对象类脚本</h3><ul>\n<li>接口函数采用小写单词用下划线分割的方式，如get_player_info</li><li>局部函数以v_为开头小写单词用下划线分割的方式，如v_get_player_name</li><li>对象成员函数采用小写单词用下划线分割的方式，如get_player_info</li></ul>\n<h2 id=\"1vyec1\" class=\"markdown-heading\"><a name=\"1vyec1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>变量命名规则</h2><p class=\"line\">变量都已小写单词用下划线分割的方式</p>\n<ul>\n<li>文件级的局部变量以<code>f_</code>开头，如<code>local f_name</code></li><li>函数级的局部变量以<code>l_</code>开头，如<code>local l_name</code></li><li>函数的参数以<code>_</code>为开头，如 <code>function OnEvent(_event)</code></li><li>定义的常量以<code>x_</code>开头，枚举以<code>e_</code>开头</li><li>全局变量只用于常量或者枚举</li></ul>\n<pre class=\"hljs java\"><code>框架类脚本结构:\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 脚本方法模块声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal f_string     = require(<span class=\"hljs-string\">\"util_string\"</span>)\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部变量声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal f_name    = <span class=\"hljs-string\">\"\"</span>\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal V_InitUI\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// C++回调函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-function\">function <span class=\"hljs-title\">Init</span><span class=\"hljs-params\">(_param)</span>\n    <span class=\"hljs-comment\">// 注册UI事件    </span>\n    <span class=\"hljs-keyword\">this</span>:<span class=\"hljs-title\">RegUIEvent</span><span class=\"hljs-params\">(bt_close, <span class=\"hljs-string\">\"Close\"</span>, <span class=\"hljs-string\">\"bt_close_OnClick()\"</span>)</span>\n\n    <span class=\"hljs-comment\">// 注册游戏事件</span>\n    <span class=\"hljs-keyword\">this</span>:<span class=\"hljs-title\">RegGameEvent</span><span class=\"hljs-params\">(<span class=\"hljs-string\">\"OpenWindow\"</span>, <span class=\"hljs-string\">\"OnEvent_OpenWindow\"</span>)</span>\n\n    <span class=\"hljs-comment\">// 注册网络事件</span>\n    <span class=\"hljs-keyword\">this</span>:<span class=\"hljs-title\">RegNetCmd</span><span class=\"hljs-params\">(<span class=\"hljs-string\">\"MS_OpenWindow\"</span>, OnNet_OpenWindow)</span>    \n\n\n    <span class=\"hljs-title\">V_InitUI</span><span class=\"hljs-params\">()</span>            \nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 控件事件处理函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction <span class=\"hljs-title\">bt_close_OnClick</span><span class=\"hljs-params\">()</span>\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 游戏事件处理函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction <span class=\"hljs-title\">OnEvent_OpenWindow</span><span class=\"hljs-params\">(_name, _event)</span>\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 网络消息处理函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction <span class=\"hljs-title\">OnNet_OpenWindow</span><span class=\"hljs-params\">(_name, _cmd)</span>\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction <span class=\"hljs-title\">V_InitUI</span><span class=\"hljs-params\">()</span>\n\nend\n\n\n\n方法类脚本结构:\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 脚本方法模块声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-title\">module</span><span class=\"hljs-params\">(<span class=\"hljs-string\">\"util_string\"</span>, <span class=\"hljs-keyword\">package</span>.seeall)</span>\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部变量声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal f_string </span>= <span class=\"hljs-string\">\"\"</span>\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal v_get_string\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 接口函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-function\">function <span class=\"hljs-title\">parse_token</span><span class=\"hljs-params\">(_string)</span>\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction <span class=\"hljs-title\">v_get_string</span><span class=\"hljs-params\">()</span>\n\nend\n\n对象类脚本\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 脚本方法模块声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-title\">module</span><span class=\"hljs-params\">(<span class=\"hljs-string\">\"object_hero\"</span>, <span class=\"hljs-keyword\">package</span>.seeall)</span>\n\nlocal f_enum            </span>= require(<span class=\"hljs-string\">\"enum_combat\"</span>)\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部变量声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal f_hero        = {}\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal v_init_spell\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 接口函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-function\">function <span class=\"hljs-title\">new_hero</span><span class=\"hljs-params\">(_location, _entry_id, _fashion_id, _scene)</span>\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 对象成员函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction f_hero.<span class=\"hljs-title\">attack</span><span class=\"hljs-params\">(_hero, _target)</span>\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction <span class=\"hljs-title\">v_init_spell</span><span class=\"hljs-params\">()</span>\n\nend</span></code></pre>',2,'2019-09-17 19:00:58',2,1568718057,0),(63,'modify','修改文档',19,'客户端版本更新说明',0,'','',2,'2019-09-17 20:20:28',2,1568722828,0),(64,'modify','修改文档',20,'svn日常操作流程',0,'','',2,'2019-09-17 22:54:44',2,1568732084,0),(65,'modify','修改文档',12,'SVN日常操作流程文档',0,'','',2,'2019-09-17 22:56:00',2,1568732160,0),(66,'modify','修改文档',11,'SVN日常操作流程文档',0,'','',2,'2019-09-17 22:56:35',2,1568732195,0),(67,'modify','修改文档',21,'lua优化',0,'','',2,'2019-09-17 23:02:06',2,1568732526,0),(68,'modify','修改文档',21,'lua优化',0,'# lua优化\n\n## 局部与全局变量\n\nLua 使用了一个基于寄存器的虚拟机。这些「寄存器」跟 CPU 中真实的寄存器并无关联，因为这种关联既无可移植性，也受限于可用的寄存器数量。Lua 使用一个栈（由一个数组加上一些索引实现）来存放它的寄存器。每个活动的（active）函数都有一份活动记录（activation record），活动记录占用栈的一小块，存放着这个函数对应的寄存器。因此，每个函数都有其自己的寄存器。由于每条指令只有 8 个 bit 用来指定寄存器，每个函数便可以使用多至 250 个寄存器。\n\nLua 的寄存器如此之多，预编译时便能将所有的局部变量存到寄存器中。所以，在 Lua 中访问局部变量是很快的。举个例子， 如果 a 和 b 是局部变量，语句 `a = a + b` 只生成一条指令：`ADD 0 0 1`（假设 a 和 b 分别在寄存器 0 和 1 中）。对比之下，如果 a 和 b 是全局变量，生成上述加法运算的指令便会如下：\n\n```\nGETGLOBAL    00     ; a\n\nGETGLOBAL    11     ; b\n\nADD          001\n\nSETGLOBAL    00     ; a\n```\n\n所以，不难证明，要想改进 Lua 程序的性能，最重要的一条原则就是： **使用局部变量（use locals）！**\n\n除了一些明显的地方外，另有几处也可使用局部变量，可以助你挤出更多的性能。比如，如果在很长的循环里调用函数，可以先将这个函数赋值给一个局部变量。\n\n>[danger]这个代码：\n\n```lua\nfor i = 1, 1000000 do\n\n  local x = math.sin(i)\n\nend\n```\n\n>[success]比如下代码慢 30%：\n\n```\nlocal sin = math.sin\n\nfor i = 1, 1000000 do\n\n  local x = sin(i)\n\nend\n```\n\n访问外层局部变量（也就是外一层函数的局部变量）并没有访问局部变量快，但是仍然比访问全局变量快。考虑如下代码：\n\n**function**** foo**(x)\n\n  **for** i = 1, 1000000 **do**\n\n    x = x + math.sin(i)\n\n  **end**\n\n  **return** x\n\n**end**\n\nprint(foo(10))\n\n我们可以通过在 foo 函数外面定义一个 sin 来优化它：\n\n**local** sin = math.sin\n\n**function**** foo**(x)\n\n  **for** i = 1, 1000000 **do**\n\n    x = x + sin(i)\n\n  **end**\n\n  **return** x\n\n**end**\n\nprint(foo(10))\n\n第二段代码比第一段快 30%。\n\n## 表\n\nLua table(表)是 Lua的一种强大的数据结构, 它用来帮助我们创建不同的数据类型,如:数字、字典等。通常，使用表（table）时并不需要知道它的实现细节。事实上，Lua 尽力避免把实现细节暴露给用户。然而这些细节还是在表操作的性能中暴露出来了。所以，为了高效地使用表，了解一些 Lua 实现表的方法，不无益处。\n\nLua 实现表的算法颇为巧妙。每个表包含两部分：数组（array）部分和哈希（hash）部分，数组部分保存的项（entry）以整数为键（key），从 1 到某个特定的 n，（稍后会讨论 n 是怎么计算的。）所有其他的项（包括整数键超出范围的）则保存在哈希部分。\n\n当 Lua 想在表中插入一个新的键值而哈希数组已满时，Lua 会做一次重新哈希（rehash）。重新哈希的第一步是决定新的数组部分和哈希部分的大小。所以 Lua 遍历所有的项，并加以计数和分类，然后取一个使数组部分用量过半的最大的 2 的指数值，作为数组部分的大小。而哈希部分的大小则是一个容得下剩余项（即那些不适合放在数组部分的项）的最小的 2 的指数值。\n\n当 Lua 创建一个空表时，数组部分和哈希部分的大小都是 0，因此也就没有为它们分配数组空间。看看如下代码运行时会发生些什么：\n\n**local** a = {}\n\n**for** i = 1, 3 **do**\n\n  a[i] = true\n\n**end**\n\n一开始创建一个空表。循环的第一次迭代时，赋值语句 a[1] = true 触发了一次重新哈希；Lua 将表中的数组部分大小设为 1，而哈希部分仍为空。循环的第二次迭代时，赋值语句 a[2] = true 又触发了一次重新哈希，现在，表中的数组部分大小为 2。最后，第三次迭代还是触发了一次重新哈希，数组部分的大小增至 4。\n\n像下面这样的代码：\n\na = {}\n\na.x = 1; a.y = 2; a.z = 3\n\n做的事情类似，大小增长的却是表的哈希部分。\n\n如果你用的是 Lua，可以通过构造器（constructors）来避免那些初始的重新哈希。当你写下 {true, true, true} 时，Lua 就会事先知道新表的数组部分需要 3 个空位，并创建一个相应大小的表。与此类似，当你写下 {x = 1, y = 2, z = 3} 时，Lua 就创建一个哈希部分包含 4 个空位的表。举例来说，下面的循环运行了 2.0 秒：\n\n**for** i = 1, 1000000 **do**\n\n  **local** a = {}\n\n  a[1] = 1; a[2] = 2; a[3] = 3\n\n**end**\n\n如果以正确的大小来创建这个表，运行时间就降到了 0.7 秒：\n\n**for** i = 1, 1000000 **do**\n\n  **local** a = {true, true, true}\n\n  a[1] = 1; a[2] = 2; a[3] = 3\n\n**end**\n\nLua为表的数组和哈希部分遍历提供了不同的接口。ipairs只能遍历表的数据部分,而pairs则可以遍历表中所有的Key(数组和哈希部分) 。\n\n当需要获得一个表的大小时。Lua中的#操作符实际上返回的是table中数据部分的大小。如果需要获取一个table中数据和哈希部分的总大小, 比较高效的做法是在table中添加一个size值, 在插入数据的时候+1, 在删除数据的时候-1。\n\n表的两个部分的大小只在表重新哈希时计算，而重新哈希只在表已全满而又需要插入新元素时才会发生。因此，当你遍历一个表并把个中元素逐一删除时（即设它们为 nil），表并不会缩小。你得往表里插些新的元素，然后表才会真正去调整大小。通常这不是一个问题：当你持续地删除和插入元素时（很多程序的典型情况），表的大小将保持稳定。所以，想要重表里删除一些数据来减少内存使用是不可能的。正确的做法是在表使用完以后, 让它 = nil或 = { } (一个新的table), 这样原来的table发现已经没有变量继续引用它, lua的内存回收机制就会GC的原来table的内存。\n\n## 字符串\n\nLua 实现字符串的方式和大多数其他的脚本语言有两点重要的区别。其一，Lua 的字符串都是内化的（internalized）；这意味着字符串在 Lua 中都只有一份拷贝。每当一个新字符串出现时，Lua 会先检查这个字符串是否已经有一份拷贝，如果有，就重用这份拷贝。内化（internalization）使字符串比较及表索引这样的操作变得非常快，但是字符串的创建会变慢。\n\n其二，Lua 的字符串变量从来不会包含字符串本身，包含的只是字符串的引用。这种实现加快了某些字符串操作。\n\n**Local strA = &quot;aaa&quot;**\n\n**Local strB = strA**\n\n而对 Lua 来说，对于这样的strB = strA赋值语句只不过复制了一个指向实际字符串的指针, 并不需要申请新的内存。\n\n当需要在字符串后添加新的内容时, Lua并不是直接把新的字符串添加到旧的字符串后面。由于Lua并没有提供字符串缓冲区, 所以实际上Lua生成了一个新的字符串, 并把原有内容和新内容拷贝到新字符串中。如果字符串很长，这一操作代价将非常高。例如用lua读取文本文件。\n\n我们可以通过使用一个显式的缓冲区的方式优化这类操作。例如以下循环读 5MB 的文件。Local t = {}这个临时表缓存了读取的文件的每行内容, 期间并不需要对字符串进行连接操作。当文件读取完毕后使用table.concat 对t数组中的字符串进行连接, 由于concat函数对字符串连接进行了优化，即使进行大量的连接操作，也不会消耗多少时间。\n\n**local** t = {}\n\n**for** line **in** io.lines() **do**\n\n  t[#t + 1] = line\n\n**end**\n\ns = table.concat(t,&quot;\\n&quot;)\n\n## lua和C++之间相互调用\n\nLua和C++ 的交互机制的基础在于Lua提供了一个虚拟栈，C++ 和Lua之间的所有类型的数据交换都通过这个栈完成。无论何时C++想从Lua中调用一个值，被请求的值将会被压入栈，无论何时C++想要传递一个值给Lua，首先将整个值压栈，然后就可以在Lua中调用。由于这种跨语言调用要比语言内自己调用慢。 所以好的C++或Lua接口是减少这种相互调用的次数。例如lua需要调用C++的一个接口获取排行榜前100的玩家ID\n\n**local** playerID = {}\n\n**for** i = 1, 100 **do**\n\n  playerID[i] = rank.GetRank(i)                -- C++接口, 获取某个排名的玩家ID\n\n**end**\n\n以上这种写法会使Lua调用100次C++ 的函数, 而好的写法是只调用一次C++接口,并返回排名100的玩家ID。\n\n**local** playerID = rank.GetRank(1, 100) **       ** -- C++接口, 获取某个指定范围内的玩家ID\n\n## 减少，重用\n\n减少（reduce）是最简单的一种途径。有几种方法可以避免创建对象。例如，如果你的程序使用了大量的表，或许可以考虑改变它的数据表示。举个简单的例子，假如你的程序需要处理折线（polyline）。在 Lua 里，折线最自然的表示是使用一个点的列表，像这样：\n\npolyline = {\n\n  { x = 10.3, y = 98.5 },\n\n  { x = 10.3, y = 18.3 },\n\n  { x = 15.0, y = 98.5 },\n\n  ...\n\n}\n\n这种表示虽然自然，折线较大时却不经济，因为每个点都要用一个表。下面这种表示改用数组，内存略为节省：\n\npolyline = {\n\n  { 10.3, 98.5 },\n\n  { 10.3, 18.3 },\n\n  { 15.0, 98.5 },\n\n  ...\n\n}\n\n对于一条有一百万个点的折线，这种改变使内存用量从 95KB 降到 65KB。当然，作为代价，程序的可读性有所损失：p[i].x 要比 p[i][4] 易懂得多。\n\n还有一个更经济的方法，用两个列表，一个存 x 坐标的值，一个存 y 坐标的值：\n\npolyline = {\n\n  x = { 10.3, 10.3, 15.0, ...},\n\n  y = { 98.5, 18.3, 98.5, ...}\n\n}\n\n之前的 p[i].x 现在就是 p.x[i]。使用这种方式，一条有一百万个点的折线只需 24KB 的内存。\n\n循环是寻找降低不必要资源创建的好地方。例如，如果在循环中创建了一个常量的（constant）表，便可以把表移到循环之外，或者甚至可以移到外围函数之外。比较如下两段代码：\n\n**function**** foo**(...)\n\n  **for** i = 1, n **do**\n\n    **local** t = {1, 2, 3, &quot;hi&quot;}\n\n    -- 做一些不改变 t 的操作\n\n    ...\n\n  **end**\n\n**end**\n\n**local** t = {1, 2, 3, &quot;hi&quot;} -- 一次性地创建 t\n\n**function**** foo**(...)\n\n  **for** i = 1, n **do**\n\n    -- 做一些不改变 t 的操作\n\n    ...\n\n  **end**\n\n**end**\n\n很多字符串的处理，都可以通过在现有字符串上使用下标，来避免创建不必要的新字符串。例如，函数 string.find 返回的是给定模式出现的位置，而不是一个与之匹配的字符串。返回下标，就避免了在成功匹配时创建一个新的（子）字符串。若有需要，可以再通过函数 string.sub 来获取匹配的子字符串。\n\n即使不能避免使用新的对象，也可以通过 **重用（reuse）** 来避免创建新的对象。对字符串来说，重用是没有必要的，因为 Lua 已经替我们这样做了：所有的字符串都是内化的（internalized），因此只要可能就会重用。对表来说，重用就显得卓有成效了。举一个常见的例子，让我们回到在循环内创建表的情况。不同的是，这次的表是可变的（not constant）。不过，往往只需简单的改变内容，还是可以在所有的迭代中重用同一个表的。考虑以下代码：\n\n**local** t = {}\n\n**for** i = 1970, 2000 **do**\n\n  t[i] = os.time({year = i, month = 6, day = 14})\n\n**end**\n\n以下代码与之等价，但是重用了表：\n\n**local** t = {}\n\n**local** aux = {year = nil, month = 6, day = 14}\n\n**for** i = 1970, 2000 **do**\n\n  aux.year = i\n\n  t[i] = os.time(aux)\n\n**end**\n\n实现重用的一种特别有效的方法是记忆化（memoizing）。基本想法非常简单：对于一个给定的输入，保存其计算结果，当遇到同样的输入时，程序只需重用之前保存的结果。\n\n## 结语\n\n我们应该在写代码时,按照高标准去写,尽量避免在事后进行优化。','<h1 id=\"dg7eos\" class=\"markdown-heading\"><a name=\"dg7eos\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>lua优化</h1><h2 id=\"zgy4q\" class=\"markdown-heading\"><a name=\"zgy4q\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>局部与全局变量</h2><p class=\"line\">Lua 使用了一个基于寄存器的虚拟机。这些「寄存器」跟 CPU 中真实的寄存器并无关联，因为这种关联既无可移植性，也受限于可用的寄存器数量。Lua 使用一个栈（由一个数组加上一些索引实现）来存放它的寄存器。每个活动的（active）函数都有一份活动记录（activation record），活动记录占用栈的一小块，存放着这个函数对应的寄存器。因此，每个函数都有其自己的寄存器。由于每条指令只有 8 个 bit 用来指定寄存器，每个函数便可以使用多至 250 个寄存器。</p>\n<p class=\"line\">Lua 的寄存器如此之多，预编译时便能将所有的局部变量存到寄存器中。所以，在 Lua 中访问局部变量是很快的。举个例子， 如果 a 和 b 是局部变量，语句 <code>a = a + b</code> 只生成一条指令：<code>ADD 0 0 1</code>（假设 a 和 b 分别在寄存器 0 和 1 中）。对比之下，如果 a 和 b 是全局变量，生成上述加法运算的指令便会如下：</p>\n<pre class=\"hljs\"><code>GETGLOBAL    00     ; a\n\nGETGLOBAL    11     ; b\n\nADD          001\n\nSETGLOBAL    00     ; a</code></pre><p class=\"line\">所以，不难证明，要想改进 Lua 程序的性能，最重要的一条原则就是： <strong>使用局部变量（use locals）！</strong></p>\n<p class=\"line\">除了一些明显的地方外，另有几处也可使用局部变量，可以助你挤出更多的性能。比如，如果在很长的循环里调用函数，可以先将这个函数赋值给一个局部变量。</p>\n<blockquote class=\"danger\">\n<p class=\"line\">这个代码：</p>\n</blockquote>\n<pre class=\"hljs bash\"><code class=\"language-lua\"><span class=\"hljs-keyword\">for</span> i = 1, 1000000 <span class=\"hljs-keyword\">do</span>\n\n  <span class=\"hljs-built_in\">local</span> x = math.sin(i)\n\nend</code></pre>\n<blockquote class=\"success\">\n<p class=\"line\">比如下代码慢 30%：</p>\n</blockquote>\n<pre class=\"hljs perl\"><code><span class=\"hljs-keyword\">local</span> <span class=\"hljs-keyword\">sin</span> = math.sin\n\n<span class=\"hljs-keyword\">for</span> i = <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">1000000</span> <span class=\"hljs-keyword\">do</span>\n\n  <span class=\"hljs-keyword\">local</span> <span class=\"hljs-keyword\">x</span> = <span class=\"hljs-keyword\">sin</span>(i)\n\nend</code></pre><p class=\"line\">访问外层局部变量（也就是外一层函数的局部变量）并没有访问局部变量快，但是仍然比访问全局变量快。考虑如下代码：</p>\n<p class=\"line\"><strong>function**</strong> foo**(x)</p>\n<p class=\"line\">  <strong>for</strong> i = 1, 1000000 <strong>do</strong></p>\n<pre class=\"hljs ini\"><code><span class=\"hljs-attr\">x</span> = x + math.sin(i)</code></pre><p class=\"line\">  <strong>end</strong></p>\n<p class=\"line\">  <strong>return</strong> x</p>\n<p class=\"line\"><strong>end</strong></p>\n<p class=\"line\">print(foo(10))</p>\n<p class=\"line\">我们可以通过在 foo 函数外面定义一个 sin 来优化它：</p>\n<p class=\"line\"><strong>local</strong> sin = math.sin</p>\n<p class=\"line\"><strong>function**</strong> foo**(x)</p>\n<p class=\"line\">  <strong>for</strong> i = 1, 1000000 <strong>do</strong></p>\n<pre class=\"hljs ini\"><code><span class=\"hljs-attr\">x</span> = x + sin(i)</code></pre><p class=\"line\">  <strong>end</strong></p>\n<p class=\"line\">  <strong>return</strong> x</p>\n<p class=\"line\"><strong>end</strong></p>\n<p class=\"line\">print(foo(10))</p>\n<p class=\"line\">第二段代码比第一段快 30%。</p>\n<h2 id=\"398bpe\" class=\"markdown-heading\"><a name=\"398bpe\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>表</h2><p class=\"line\">Lua table(表)是 Lua的一种强大的数据结构, 它用来帮助我们创建不同的数据类型,如:数字、字典等。通常，使用表（table）时并不需要知道它的实现细节。事实上，Lua 尽力避免把实现细节暴露给用户。然而这些细节还是在表操作的性能中暴露出来了。所以，为了高效地使用表，了解一些 Lua 实现表的方法，不无益处。</p>\n<p class=\"line\">Lua 实现表的算法颇为巧妙。每个表包含两部分：数组（array）部分和哈希（hash）部分，数组部分保存的项（entry）以整数为键（key），从 1 到某个特定的 n，（稍后会讨论 n 是怎么计算的。）所有其他的项（包括整数键超出范围的）则保存在哈希部分。</p>\n<p class=\"line\">当 Lua 想在表中插入一个新的键值而哈希数组已满时，Lua 会做一次重新哈希（rehash）。重新哈希的第一步是决定新的数组部分和哈希部分的大小。所以 Lua 遍历所有的项，并加以计数和分类，然后取一个使数组部分用量过半的最大的 2 的指数值，作为数组部分的大小。而哈希部分的大小则是一个容得下剩余项（即那些不适合放在数组部分的项）的最小的 2 的指数值。</p>\n<p class=\"line\">当 Lua 创建一个空表时，数组部分和哈希部分的大小都是 0，因此也就没有为它们分配数组空间。看看如下代码运行时会发生些什么：</p>\n<p class=\"line\"><strong>local</strong> a = {}</p>\n<p class=\"line\"><strong>for</strong> i = 1, 3 <strong>do</strong></p>\n<p class=\"line\">  a[i] = true</p>\n<p class=\"line\"><strong>end</strong></p>\n<p class=\"line\">一开始创建一个空表。循环的第一次迭代时，赋值语句 a[1] = true 触发了一次重新哈希；Lua 将表中的数组部分大小设为 1，而哈希部分仍为空。循环的第二次迭代时，赋值语句 a[2] = true 又触发了一次重新哈希，现在，表中的数组部分大小为 2。最后，第三次迭代还是触发了一次重新哈希，数组部分的大小增至 4。</p>\n<p class=\"line\">像下面这样的代码：</p>\n<p class=\"line\">a = {}</p>\n<p class=\"line\">a.x = 1; a.y = 2; a.z = 3</p>\n<p class=\"line\">做的事情类似，大小增长的却是表的哈希部分。</p>\n<p class=\"line\">如果你用的是 Lua，可以通过构造器（constructors）来避免那些初始的重新哈希。当你写下 {true, true, true} 时，Lua 就会事先知道新表的数组部分需要 3 个空位，并创建一个相应大小的表。与此类似，当你写下 {x = 1, y = 2, z = 3} 时，Lua 就创建一个哈希部分包含 4 个空位的表。举例来说，下面的循环运行了 2.0 秒：</p>\n<p class=\"line\"><strong>for</strong> i = 1, 1000000 <strong>do</strong></p>\n<p class=\"line\">  <strong>local</strong> a = {}</p>\n<p class=\"line\">  a[1] = 1; a[2] = 2; a[3] = 3</p>\n<p class=\"line\"><strong>end</strong></p>\n<p class=\"line\">如果以正确的大小来创建这个表，运行时间就降到了 0.7 秒：</p>\n<p class=\"line\"><strong>for</strong> i = 1, 1000000 <strong>do</strong></p>\n<p class=\"line\">  <strong>local</strong> a = {true, true, true}</p>\n<p class=\"line\">  a[1] = 1; a[2] = 2; a[3] = 3</p>\n<p class=\"line\"><strong>end</strong></p>\n<p class=\"line\">Lua为表的数组和哈希部分遍历提供了不同的接口。ipairs只能遍历表的数据部分,而pairs则可以遍历表中所有的Key(数组和哈希部分) 。</p>\n<p class=\"line\">当需要获得一个表的大小时。Lua中的#操作符实际上返回的是table中数据部分的大小。如果需要获取一个table中数据和哈希部分的总大小, 比较高效的做法是在table中添加一个size值, 在插入数据的时候+1, 在删除数据的时候-1。</p>\n<p class=\"line\">表的两个部分的大小只在表重新哈希时计算，而重新哈希只在表已全满而又需要插入新元素时才会发生。因此，当你遍历一个表并把个中元素逐一删除时（即设它们为 nil），表并不会缩小。你得往表里插些新的元素，然后表才会真正去调整大小。通常这不是一个问题：当你持续地删除和插入元素时（很多程序的典型情况），表的大小将保持稳定。所以，想要重表里删除一些数据来减少内存使用是不可能的。正确的做法是在表使用完以后, 让它 = nil或 = { } (一个新的table), 这样原来的table发现已经没有变量继续引用它, lua的内存回收机制就会GC的原来table的内存。</p>\n<h2 id=\"5az2xb\" class=\"markdown-heading\"><a name=\"5az2xb\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>字符串</h2><p class=\"line\">Lua 实现字符串的方式和大多数其他的脚本语言有两点重要的区别。其一，Lua 的字符串都是内化的（internalized）；这意味着字符串在 Lua 中都只有一份拷贝。每当一个新字符串出现时，Lua 会先检查这个字符串是否已经有一份拷贝，如果有，就重用这份拷贝。内化（internalization）使字符串比较及表索引这样的操作变得非常快，但是字符串的创建会变慢。</p>\n<p class=\"line\">其二，Lua 的字符串变量从来不会包含字符串本身，包含的只是字符串的引用。这种实现加快了某些字符串操作。</p>\n<p class=\"line\"><strong>Local strA = \"aaa\"</strong></p>\n<p class=\"line\"><strong>Local strB = strA</strong></p>\n<p class=\"line\">而对 Lua 来说，对于这样的strB = strA赋值语句只不过复制了一个指向实际字符串的指针, 并不需要申请新的内存。</p>\n<p class=\"line\">当需要在字符串后添加新的内容时, Lua并不是直接把新的字符串添加到旧的字符串后面。由于Lua并没有提供字符串缓冲区, 所以实际上Lua生成了一个新的字符串, 并把原有内容和新内容拷贝到新字符串中。如果字符串很长，这一操作代价将非常高。例如用lua读取文本文件。</p>\n<p class=\"line\">我们可以通过使用一个显式的缓冲区的方式优化这类操作。例如以下循环读 5MB 的文件。Local t = {}这个临时表缓存了读取的文件的每行内容, 期间并不需要对字符串进行连接操作。当文件读取完毕后使用table.concat 对t数组中的字符串进行连接, 由于concat函数对字符串连接进行了优化，即使进行大量的连接操作，也不会消耗多少时间。</p>\n<p class=\"line\"><strong>local</strong> t = {}</p>\n<p class=\"line\"><strong>for</strong> line <strong>in</strong> io.lines() <strong>do</strong></p>\n<p class=\"line\">  t[#t + 1] = line</p>\n<p class=\"line\"><strong>end</strong></p>\n<p class=\"line\">s = table.concat(t,\"\\n\")</p>\n<h2 id=\"fwwct1\" class=\"markdown-heading\"><a name=\"fwwct1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>lua和C++之间相互调用</h2><p class=\"line\">Lua和C++ 的交互机制的基础在于Lua提供了一个虚拟栈，C++ 和Lua之间的所有类型的数据交换都通过这个栈完成。无论何时C++想从Lua中调用一个值，被请求的值将会被压入栈，无论何时C++想要传递一个值给Lua，首先将整个值压栈，然后就可以在Lua中调用。由于这种跨语言调用要比语言内自己调用慢。 所以好的C++或Lua接口是减少这种相互调用的次数。例如lua需要调用C++的一个接口获取排行榜前100的玩家ID</p>\n<p class=\"line\"><strong>local</strong> playerID = {}</p>\n<p class=\"line\"><strong>for</strong> i = 1, 100 <strong>do</strong></p>\n<p class=\"line\">  playerID[i] = rank.GetRank(i)                – C++接口, 获取某个排名的玩家ID</p>\n<p class=\"line\"><strong>end</strong></p>\n<p class=\"line\">以上这种写法会使Lua调用100次C++ 的函数, 而好的写法是只调用一次C++接口,并返回排名100的玩家ID。</p>\n<p class=\"line\"><strong>local</strong> playerID = rank.GetRank(1, 100) **       ** – C++接口, 获取某个指定范围内的玩家ID</p>\n<h2 id=\"cvym3z\" class=\"markdown-heading\"><a name=\"cvym3z\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>减少，重用</h2><p class=\"line\">减少（reduce）是最简单的一种途径。有几种方法可以避免创建对象。例如，如果你的程序使用了大量的表，或许可以考虑改变它的数据表示。举个简单的例子，假如你的程序需要处理折线（polyline）。在 Lua 里，折线最自然的表示是使用一个点的列表，像这样：</p>\n<p class=\"line\">polyline = {</p>\n<p class=\"line\">  { x = 10.3, y = 98.5 },</p>\n<p class=\"line\">  { x = 10.3, y = 18.3 },</p>\n<p class=\"line\">  { x = 15.0, y = 98.5 },</p>\n<p class=\"line\">  …</p>\n<p class=\"line\">}</p>\n<p class=\"line\">这种表示虽然自然，折线较大时却不经济，因为每个点都要用一个表。下面这种表示改用数组，内存略为节省：</p>\n<p class=\"line\">polyline = {</p>\n<p class=\"line\">  { 10.3, 98.5 },</p>\n<p class=\"line\">  { 10.3, 18.3 },</p>\n<p class=\"line\">  { 15.0, 98.5 },</p>\n<p class=\"line\">  …</p>\n<p class=\"line\">}</p>\n<p class=\"line\">对于一条有一百万个点的折线，这种改变使内存用量从 95KB 降到 65KB。当然，作为代价，程序的可读性有所损失：p[i].x 要比 p[i][4] 易懂得多。</p>\n<p class=\"line\">还有一个更经济的方法，用两个列表，一个存 x 坐标的值，一个存 y 坐标的值：</p>\n<p class=\"line\">polyline = {</p>\n<p class=\"line\">  x = { 10.3, 10.3, 15.0, …},</p>\n<p class=\"line\">  y = { 98.5, 18.3, 98.5, …}</p>\n<p class=\"line\">}</p>\n<p class=\"line\">之前的 p[i].x 现在就是 p.x[i]。使用这种方式，一条有一百万个点的折线只需 24KB 的内存。</p>\n<p class=\"line\">循环是寻找降低不必要资源创建的好地方。例如，如果在循环中创建了一个常量的（constant）表，便可以把表移到循环之外，或者甚至可以移到外围函数之外。比较如下两段代码：</p>\n<p class=\"line\"><strong>function**</strong> foo**(…)</p>\n<p class=\"line\">  <strong>for</strong> i = 1, n <strong>do</strong></p>\n<pre class=\"hljs bash\"><code>**<span class=\"hljs-built_in\">local</span>** t = {1, 2, 3, &amp;quot;hi&amp;quot;}\n\n-- 做一些不改变 t 的操作\n\n...</code></pre><p class=\"line\">  <strong>end</strong></p>\n<p class=\"line\"><strong>end</strong></p>\n<p class=\"line\"><strong>local</strong> t = {1, 2, 3, \"hi\"} – 一次性地创建 t</p>\n<p class=\"line\"><strong>function**</strong> foo**(…)</p>\n<p class=\"line\">  <strong>for</strong> i = 1, n <strong>do</strong></p>\n<pre class=\"hljs diff\"><code><span class=\"hljs-deletion\">-- 做一些不改变 t 的操作</span>\n\n...</code></pre><p class=\"line\">  <strong>end</strong></p>\n<p class=\"line\"><strong>end</strong></p>\n<p class=\"line\">很多字符串的处理，都可以通过在现有字符串上使用下标，来避免创建不必要的新字符串。例如，函数 string.find 返回的是给定模式出现的位置，而不是一个与之匹配的字符串。返回下标，就避免了在成功匹配时创建一个新的（子）字符串。若有需要，可以再通过函数 string.sub 来获取匹配的子字符串。</p>\n<p class=\"line\">即使不能避免使用新的对象，也可以通过 <strong>重用（reuse）</strong> 来避免创建新的对象。对字符串来说，重用是没有必要的，因为 Lua 已经替我们这样做了：所有的字符串都是内化的（internalized），因此只要可能就会重用。对表来说，重用就显得卓有成效了。举一个常见的例子，让我们回到在循环内创建表的情况。不同的是，这次的表是可变的（not constant）。不过，往往只需简单的改变内容，还是可以在所有的迭代中重用同一个表的。考虑以下代码：</p>\n<p class=\"line\"><strong>local</strong> t = {}</p>\n<p class=\"line\"><strong>for</strong> i = 1970, 2000 <strong>do</strong></p>\n<p class=\"line\">  t[i] = os.time({year = i, month = 6, day = 14})</p>\n<p class=\"line\"><strong>end</strong></p>\n<p class=\"line\">以下代码与之等价，但是重用了表：</p>\n<p class=\"line\"><strong>local</strong> t = {}</p>\n<p class=\"line\"><strong>local</strong> aux = {year = nil, month = 6, day = 14}</p>\n<p class=\"line\"><strong>for</strong> i = 1970, 2000 <strong>do</strong></p>\n<p class=\"line\">  aux.year = i</p>\n<p class=\"line\">  t[i] = os.time(aux)</p>\n<p class=\"line\"><strong>end</strong></p>\n<p class=\"line\">实现重用的一种特别有效的方法是记忆化（memoizing）。基本想法非常简单：对于一个给定的输入，保存其计算结果，当遇到同样的输入时，程序只需重用之前保存的结果。</p>\n<h2 id=\"46win2\" class=\"markdown-heading\"><a name=\"46win2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>结语</h2><p class=\"line\">我们应该在写代码时,按照高标准去写,尽量避免在事后进行优化。</p>\n',2,'2019-09-18 15:02:32',2,1568790151,0),(69,'modify','修改文档',6,'gm工具平台接入文档',0,'','',2,'2019-09-18 15:12:32',2,1568790751,0),(70,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n## 目录\n\n1.玩家角色信息查询接口： |\n| --- |\n| 2.角色禁言与解禁接口： |\n| 3.角色封停和解封接口： |\n| 4.邮件发送接口（可附带物品）： |\n| 5.钻石数量扣除接口： |\n| 6.角色物品数量扣除接口： |\n| 7.跑马灯公告通知接口： |\n| 8.服务器文本指令发送接口： |\n| 9.玩家角色基本信息查询接口： |\n| 10.IP白名单接口： |\n| 11.服务器查询接口： |\n| 12.服务器状态编辑接口： |\n| |\n\n1. 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; roleInfoList &quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{&quot;type&quot;:1, &quot;sub\\_type&quot;:1, &quot;num&quot;:10}, {&quot;type&quot;:2, &quot;sub\\_type&quot;:1000002, &quot;num&quot;:10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为&quot;YYYY-MM-DD hh:mm:ss&quot;。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; data&quot;:{&quot;total&quot;:100, &quot;list&quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},… |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{ {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;world\\_config&quot;：{…}，&quot;server\\_status&quot;：1，&quot;curr\\_server\\_id&quot;：1， &quot;description&quot;：&quot;服务器维护&quot;， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{&quot;total&quot;:1,&quot;data&quot;:{&quot;world\\_config&quot;:{},&quot;server\\_status&quot;:&quot;&quot;}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;}','<h1 id=\"dd18vd\" class=\"markdown-heading\"><a name=\"dd18vd\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<h2 id=\"cem8v2\" class=\"markdown-heading\"><a name=\"cem8v2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>目录</h2><table>\n<thead>\n<tr>\n<th>1.玩家角色信息查询接口：</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2.角色禁言与解禁接口：</td>\n</tr>\n<tr>\n<td>3.角色封停和解封接口：</td>\n</tr>\n<tr>\n<td>4.邮件发送接口（可附带物品）：</td>\n</tr>\n<tr>\n<td>5.钻石数量扣除接口：</td>\n</tr>\n<tr>\n<td>6.角色物品数量扣除接口：</td>\n</tr>\n<tr>\n<td>7.跑马灯公告通知接口：</td>\n</tr>\n<tr>\n<td>8.服务器文本指令发送接口：</td>\n</tr>\n<tr>\n<td>9.玩家角色基本信息查询接口：</td>\n</tr>\n<tr>\n<td>10.IP白名单接口：</td>\n</tr>\n<tr>\n<td>11.服务器查询接口：</td>\n</tr>\n<tr>\n<td>12.服务器状态编辑接口：</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n</tbody></table>\n<ol>\n<li>1.玩家角色信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{\"type\":1, \"sub_type\":1, \"num\":10}, {\"type\":2, \"sub_type\":1000002, \"num\":10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{\"ip\":213232132,\"remark\":\"说明\"},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"world_config\"：{…}，\"server_status\"：1，\"curr_server_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world_config\":{},\"server_status\":\"\"}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\"}</p>\n',2,'2019-09-18 15:13:02',2,1568790781,0),(71,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n## 目录\n\n*[1.玩家角色信息查询接口](#page1)\n| 2.角色禁言与解禁接口： |\n| 3.角色封停和解封接口： |\n| 4.邮件发送接口（可附带物品）： |\n| 5.钻石数量扣除接口： |\n| 6.角色物品数量扣除接口： |\n| 7.跑马灯公告通知接口： |\n| 8.服务器文本指令发送接口： |\n| 9.玩家角色基本信息查询接口： |\n| 10.IP白名单接口： |\n| 11.服务器查询接口： |\n| 12.服务器状态编辑接口： |\n| |\n\n1. 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; roleInfoList &quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{&quot;type&quot;:1, &quot;sub\\_type&quot;:1, &quot;num&quot;:10}, {&quot;type&quot;:2, &quot;sub\\_type&quot;:1000002, &quot;num&quot;:10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为&quot;YYYY-MM-DD hh:mm:ss&quot;。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; data&quot;:{&quot;total&quot;:100, &quot;list&quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},… |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{ {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;world\\_config&quot;：{…}，&quot;server\\_status&quot;：1，&quot;curr\\_server\\_id&quot;：1， &quot;description&quot;：&quot;服务器维护&quot;， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{&quot;total&quot;:1,&quot;data&quot;:{&quot;world\\_config&quot;:{},&quot;server\\_status&quot;:&quot;&quot;}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;}','<h1 id=\"9d1jdg\" class=\"markdown-heading\"><a name=\"9d1jdg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<h2 id=\"7zbceb\" class=\"markdown-heading\"><a name=\"7zbceb\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>目录</h2><ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a><br>| 2.角色禁言与解禁接口： |<br>| 3.角色封停和解封接口： |<br>| 4.邮件发送接口（可附带物品）： |<br>| 5.钻石数量扣除接口： |<br>| 6.角色物品数量扣除接口： |<br>| 7.跑马灯公告通知接口： |<br>| 8.服务器文本指令发送接口： |<br>| 9.玩家角色基本信息查询接口： |<br>| 10.IP白名单接口： |<br>| 11.服务器查询接口： |<br>| 12.服务器状态编辑接口： |<br>| |</li></ul>\n<ol>\n<li>1.玩家角色信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{\"type\":1, \"sub_type\":1, \"num\":10}, {\"type\":2, \"sub_type\":1000002, \"num\":10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{\"ip\":213232132,\"remark\":\"说明\"},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"world_config\"：{…}，\"server_status\"：1，\"curr_server_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world_config\":{},\"server_status\":\"\"}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\"}</p>\n',2,'2019-09-18 15:13:32',2,1568790811,0),(72,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n## 目录\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n| 4.邮件发送接口（可附带物品）： |\n| 5.钻石数量扣除接口： |\n| 6.角色物品数量扣除接口： |\n| 7.跑马灯公告通知接口： |\n| 8.服务器文本指令发送接口： |\n| 9.玩家角色基本信息查询接口： |\n| 10.IP白名单接口： |\n| 11.服务器查询接口： |\n| 12.服务器状态编辑接口： |\n| |\n\n1. 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; roleInfoList &quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{&quot;type&quot;:1, &quot;sub\\_type&quot;:1, &quot;num&quot;:10}, {&quot;type&quot;:2, &quot;sub\\_type&quot;:1000002, &quot;num&quot;:10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为&quot;YYYY-MM-DD hh:mm:ss&quot;。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; data&quot;:{&quot;total&quot;:100, &quot;list&quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},… |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{ {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;world\\_config&quot;：{…}，&quot;server\\_status&quot;：1，&quot;curr\\_server\\_id&quot;：1， &quot;description&quot;：&quot;服务器维护&quot;， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{&quot;total&quot;:1,&quot;data&quot;:{&quot;world\\_config&quot;:{},&quot;server\\_status&quot;:&quot;&quot;}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;}','<h1 id=\"a1iabr\" class=\"markdown-heading\"><a name=\"a1iabr\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<h2 id=\"3ktni4\" class=\"markdown-heading\"><a name=\"3ktni4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>目录</h2><ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a><br>| 4.邮件发送接口（可附带物品）： |<br>| 5.钻石数量扣除接口： |<br>| 6.角色物品数量扣除接口： |<br>| 7.跑马灯公告通知接口： |<br>| 8.服务器文本指令发送接口： |<br>| 9.玩家角色基本信息查询接口： |<br>| 10.IP白名单接口： |<br>| 11.服务器查询接口： |<br>| 12.服务器状态编辑接口： |<br>| |</li></ul>\n<ol>\n<li>1.玩家角色信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{\"type\":1, \"sub_type\":1, \"num\":10}, {\"type\":2, \"sub_type\":1000002, \"num\":10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{\"ip\":213232132,\"remark\":\"说明\"},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"world_config\"：{…}，\"server_status\"：1，\"curr_server_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world_config\":{},\"server_status\":\"\"}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\"}</p>\n',2,'2019-09-18 15:14:02',2,1568790841,0),(73,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n## 目录\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n| 6.角色物品数量扣除接口： |\n| 7.跑马灯公告通知接口： |\n| 8.服务器文本指令发送接口： |\n| 9.玩家角色基本信息查询接口： |\n| 10.IP白名单接口： |\n| 11.服务器查询接口： |\n| 12.服务器状态编辑接口： |\n| |\n\n1. 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; roleInfoList &quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{&quot;type&quot;:1, &quot;sub\\_type&quot;:1, &quot;num&quot;:10}, {&quot;type&quot;:2, &quot;sub\\_type&quot;:1000002, &quot;num&quot;:10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为&quot;YYYY-MM-DD hh:mm:ss&quot;。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; data&quot;:{&quot;total&quot;:100, &quot;list&quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},… |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{ {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;world\\_config&quot;：{…}，&quot;server\\_status&quot;：1，&quot;curr\\_server\\_id&quot;：1， &quot;description&quot;：&quot;服务器维护&quot;， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{&quot;total&quot;:1,&quot;data&quot;:{&quot;world\\_config&quot;:{},&quot;server\\_status&quot;:&quot;&quot;}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;}','<h1 id=\"98bhtp\" class=\"markdown-heading\"><a name=\"98bhtp\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<h2 id=\"1hcswe\" class=\"markdown-heading\"><a name=\"1hcswe\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>目录</h2><ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a><br>| 6.角色物品数量扣除接口： |<br>| 7.跑马灯公告通知接口： |<br>| 8.服务器文本指令发送接口： |<br>| 9.玩家角色基本信息查询接口： |<br>| 10.IP白名单接口： |<br>| 11.服务器查询接口： |<br>| 12.服务器状态编辑接口： |<br>| |</li></ul>\n<ol>\n<li>1.玩家角色信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{\"type\":1, \"sub_type\":1, \"num\":10}, {\"type\":2, \"sub_type\":1000002, \"num\":10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{\"ip\":213232132,\"remark\":\"说明\"},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"world_config\"：{…}，\"server_status\"：1，\"curr_server_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world_config\":{},\"server_status\":\"\"}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\"}</p>\n',2,'2019-09-18 15:14:32',2,1568790871,0),(74,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n| 7.跑马灯公告通知接口： |\n| 8.服务器文本指令发送接口： |\n| 9.玩家角色基本信息查询接口： |\n| 10.IP白名单接口： |\n| 11.服务器查询接口： |\n| 12.服务器状态编辑接口： |\n| |\n\n1. 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; roleInfoList &quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{&quot;type&quot;:1, &quot;sub\\_type&quot;:1, &quot;num&quot;:10}, {&quot;type&quot;:2, &quot;sub\\_type&quot;:1000002, &quot;num&quot;:10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为&quot;YYYY-MM-DD hh:mm:ss&quot;。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; data&quot;:{&quot;total&quot;:100, &quot;list&quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},… |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{ {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;world\\_config&quot;：{…}，&quot;server\\_status&quot;：1，&quot;curr\\_server\\_id&quot;：1， &quot;description&quot;：&quot;服务器维护&quot;， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{&quot;total&quot;:1,&quot;data&quot;:{&quot;world\\_config&quot;:{},&quot;server\\_status&quot;:&quot;&quot;}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;}','<h1 id=\"2jydcv\" class=\"markdown-heading\"><a name=\"2jydcv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a><br>| 7.跑马灯公告通知接口： |<br>| 8.服务器文本指令发送接口： |<br>| 9.玩家角色基本信息查询接口： |<br>| 10.IP白名单接口： |<br>| 11.服务器查询接口： |<br>| 12.服务器状态编辑接口： |<br>| |</li></ul>\n<ol>\n<li>1.玩家角色信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{\"type\":1, \"sub_type\":1, \"num\":10}, {\"type\":2, \"sub_type\":1000002, \"num\":10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{\"ip\":213232132,\"remark\":\"说明\"},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"world_config\"：{…}，\"server_status\"：1，\"curr_server_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world_config\":{},\"server_status\":\"\"}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\"}</p>\n',2,'2019-09-18 15:15:02',2,1568790901,0),(75,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n-[ 9.玩家角色基本信息查询接口： |\n| 10.IP白名单接口： |\n| 11.服务器查询接口： |\n| 12.服务器状态编辑接口： |\n| |\n\n1. 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; roleInfoList &quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{&quot;type&quot;:1, &quot;sub\\_type&quot;:1, &quot;num&quot;:10}, {&quot;type&quot;:2, &quot;sub\\_type&quot;:1000002, &quot;num&quot;:10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为&quot;YYYY-MM-DD hh:mm:ss&quot;。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; data&quot;:{&quot;total&quot;:100, &quot;list&quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},… |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{ {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;world\\_config&quot;：{…}，&quot;server\\_status&quot;：1，&quot;curr\\_server\\_id&quot;：1， &quot;description&quot;：&quot;服务器维护&quot;， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{&quot;total&quot;:1,&quot;data&quot;:{&quot;world\\_config&quot;:{},&quot;server\\_status&quot;:&quot;&quot;}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;}','<h1 id=\"cfch69\" class=\"markdown-heading\"><a name=\"cfch69\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a><br>-[ 9.玩家角色基本信息查询接口： |<br>| 10.IP白名单接口： |<br>| 11.服务器查询接口： |<br>| 12.服务器状态编辑接口： |<br>| |</li></ul>\n<ol>\n<li>1.玩家角色信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{\"type\":1, \"sub_type\":1, \"num\":10}, {\"type\":2, \"sub_type\":1000002, \"num\":10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{\"ip\":213232132,\"remark\":\"说明\"},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"world_config\"：{…}，\"server_status\"：1，\"curr_server_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world_config\":{},\"server_status\":\"\"}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\"}</p>\n',2,'2019-09-18 15:15:32',2,1568790931,0),(76,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口(#)\n| 12.服务器状态编辑接口： |\n| |\n\n1. 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; roleInfoList &quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{&quot;type&quot;:1, &quot;sub\\_type&quot;:1, &quot;num&quot;:10}, {&quot;type&quot;:2, &quot;sub\\_type&quot;:1000002, &quot;num&quot;:10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为&quot;YYYY-MM-DD hh:mm:ss&quot;。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; data&quot;:{&quot;total&quot;:100, &quot;list&quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},… |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{ {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;world\\_config&quot;：{…}，&quot;server\\_status&quot;：1，&quot;curr\\_server\\_id&quot;：1， &quot;description&quot;：&quot;服务器维护&quot;， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{&quot;total&quot;:1,&quot;data&quot;:{&quot;world\\_config&quot;:{},&quot;server\\_status&quot;:&quot;&quot;}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;}','<h1 id=\"g5uscw\" class=\"markdown-heading\"><a name=\"g5uscw\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li>[11.服务器查询接口<br>| 12.服务器状态编辑接口： |<br>| |</li></ul>\n<ol>\n<li>1.玩家角色信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{\"type\":1, \"sub_type\":1, \"num\":10}, {\"type\":2, \"sub_type\":1000002, \"num\":10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{\"ip\":213232132,\"remark\":\"说明\"},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"world_config\"：{…}，\"server_status\"：1，\"curr_server_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world_config\":{},\"server_status\":\"\"}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\"}</p>\n',2,'2019-09-18 15:16:02',2,1568790961,0);
INSERT INTO `amazing_document_history` VALUES (77,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; roleInfoList &quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{&quot;type&quot;:1, &quot;sub\\_type&quot;:1, &quot;num&quot;:10}, {&quot;type&quot;:2, &quot;sub\\_type&quot;:1000002, &quot;num&quot;:10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为&quot;YYYY-MM-DD hh:mm:ss&quot;。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; data&quot;:{&quot;total&quot;:100, &quot;list&quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},… |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{ {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;world\\_config&quot;：{…}，&quot;server\\_status&quot;：1，&quot;curr\\_server\\_id&quot;：1， &quot;description&quot;：&quot;服务器维护&quot;， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{&quot;total&quot;:1,&quot;data&quot;:{&quot;world\\_config&quot;:{},&quot;server\\_status&quot;:&quot;&quot;}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;}','<h1 id=\"cmvzy0\" class=\"markdown-heading\"><a name=\"cmvzy0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<h2 id=\"bdrnlj\" class=\"markdown-heading\"><a name=\"bdrnlj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{\"type\":1, \"sub_type\":1, \"num\":10}, {\"type\":2, \"sub_type\":1000002, \"num\":10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{\"ip\":213232132,\"remark\":\"说明\"},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"world_config\"：{…}，\"server_status\"：1，\"curr_server_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world_config\":{},\"server_status\":\"\"}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\"}</p>\n',2,'2019-09-18 15:16:32',2,1568790991,0),(78,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; roleInfoList &quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{&quot;type&quot;:1, &quot;sub\\_type&quot;:1, &quot;num&quot;:10}, {&quot;type&quot;:2, &quot;sub\\_type&quot;:1000002, &quot;num&quot;:10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为&quot;YYYY-MM-DD hh:mm:ss&quot;。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; data&quot;:{&quot;total&quot;:100, &quot;list&quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},… |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{ {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;world\\_config&quot;：{…}，&quot;server\\_status&quot;：1，&quot;curr\\_server\\_id&quot;：1， &quot;description&quot;：&quot;服务器维护&quot;， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{&quot;total&quot;:1,&quot;data&quot;:{&quot;world\\_config&quot;:{},&quot;server\\_status&quot;:&quot;&quot;}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;}','<h1 id=\"4rxtpz\" class=\"markdown-heading\"><a name=\"4rxtpz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"4rthq8\" class=\"markdown-heading\"><a name=\"4rthq8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{\"type\":1, \"sub_type\":1, \"num\":10}, {\"type\":2, \"sub_type\":1000002, \"num\":10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{\"ip\":213232132,\"remark\":\"说明\"},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"world_config\"：{…}，\"server_status\"：1，\"curr_server_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world_config\":{},\"server_status\":\"\"}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\"}</p>\n',2,'2019-09-18 15:19:02',2,1568791141,0),(79,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | 查询成功&quot; | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; roleInfoList &quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{&quot;type&quot;:1, &quot;sub\\_type&quot;:1, &quot;num&quot;:10}, {&quot;type&quot;:2, &quot;sub\\_type&quot;:1000002, &quot;num&quot;:10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为&quot;YYYY-MM-DD hh:mm:ss&quot;。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;操作成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;操作成功&quot;}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;查询成功&quot;, &quot; data&quot;:{&quot;total&quot;:100, &quot;list&quot;:[｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝, ｛&quot;帐号&quot;：&quot;2371823123&quot;，&quot;角色ID&quot;：&quot;3242344&quot;，&quot;角色名&quot;：&quot;宇宙无敌&quot;， &quot;角色等级&quot;：&quot;34&quot;， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},… |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{ {&quot;ip&quot;:213232132,&quot;remark&quot;:&quot;说明&quot;},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛&quot;world\\_config&quot;：{…}，&quot;server\\_status&quot;：1，&quot;curr\\_server\\_id&quot;：1， &quot;description&quot;：&quot;服务器维护&quot;， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;,&quot;data&quot;:{&quot;total&quot;:1,&quot;data&quot;:{&quot;world\\_config&quot;:{},&quot;server\\_status&quot;:&quot;&quot;}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | &quot;查询成功&quot; | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{&quot; code &quot;: 0, &quot;msg&quot;: &quot;ok！&quot;}','<h1 id=\"7f4qhg\" class=\"markdown-heading\"><a name=\"7f4qhg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"devi8n\" class=\"markdown-heading\"><a name=\"devi8n\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{\"type\":1, \"sub_type\":1, \"num\":10}, {\"type\":2, \"sub_type\":1000002, \"num\":10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"操作成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"操作成功\"}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{\"ip\":213232132,\"remark\":\"说明\"},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛\"world_config\"：{…}，\"server_status\"：1，\"curr_server_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world_config\":{},\"server_status\":\"\"}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>\"查询成功\"</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{\" code \": 0, \"msg\": \"ok！\"}</p>\n',2,'2019-09-18 15:20:33',2,1568791232,0),(80,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | 查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"3kyx76\" class=\"markdown-heading\"><a name=\"3kyx76\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"9ss57a\" class=\"markdown-heading\"><a name=\"9ss57a\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ roleInfoList “:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ data”:{“total”:100, “list”:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{ {“ip”:213232132,”remark”:”说明”},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{“total”:1,”data”:{“world_config”:{},”server_status”:””}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:21:03',2,1568791262,0),(81,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"dwf2wt\" class=\"markdown-heading\"><a name=\"dwf2wt\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"daua8o\" class=\"markdown-heading\"><a name=\"daua8o\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"default\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ roleInfoList “:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ data”:{“total”:100, “list”:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{ {“ip”:213232132,”remark”:”说明”},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{“total”:1,”data”:{“world_config”:{},”server_status”:””}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:21:33',2,1568791292,0),(82,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"bshk77\" class=\"markdown-heading\"><a name=\"bshk77\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"eovdp2\" class=\"markdown-heading\"><a name=\"eovdp2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\"><code></code><br>{“ code “: 0, “msg”: “查询成功”, “ roleInfoList “:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ data”:{“total”:100, “list”:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{ {“ip”:213232132,”remark”:”说明”},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{“total”:1,”data”:{“world_config”:{},”server_status”:””}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:22:03',2,1568791322,0),(83,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n1. 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"1ydur8\" class=\"markdown-heading\"><a name=\"1ydur8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"bo3svj\" class=\"markdown-heading\"><a name=\"bo3svj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" roleInfoList \"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><ol>\n<li>2.角色禁言与解禁接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ data”:{“total”:100, “list”:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{ {“ip”:213232132,”remark”:”说明”},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{“total”:1,”data”:{“world_config”:{},”server_status”:””}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:23:03',2,1568791382,0),(84,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page2)\n## 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"fhh3d6\" class=\"markdown-heading\"><a name=\"fhh3d6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"1t7pad\" class=\"markdown-heading\"><a name=\"1t7pad\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" roleInfoList \"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"d3v6nn\" class=\"markdown-heading\"><a name=\"d3v6nn\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.角色禁言与解禁接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ data”:{“total”:100, “list”:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{ {“ip”:213232132,”remark”:”说明”},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{“total”:1,”data”:{“world_config”:{},”server_status”:””}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:23:33',2,1568791412,0),(85,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page2)\n## 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n`{\" code \": 0, \"msg\": \"操作成功\"}`\n\n1. 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"gc6jmo\" class=\"markdown-heading\"><a name=\"gc6jmo\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"4u3stz\" class=\"markdown-heading\"><a name=\"4u3stz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" roleInfoList \"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"6xhxda\" class=\"markdown-heading\"><a name=\"6xhxda\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.角色禁言与解禁接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\"><code>{\" code \": 0, \"msg\": \"操作成功\"}</code></p>\n<ol>\n<li>3.角色封停和解封接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ data”:{“total”:100, “list”:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{ {“ip”:213232132,”remark”:”说明”},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{“total”:1,”data”:{“world_config”:{},”server_status”:””}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:24:03',2,1568791442,0),(86,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page2)\n## 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n## 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"eab2n8\" class=\"markdown-heading\"><a name=\"eab2n8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"fri7a9\" class=\"markdown-heading\"><a name=\"fri7a9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" roleInfoList \"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"dqvf5l\" class=\"markdown-heading\"><a name=\"dqvf5l\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.角色禁言与解禁接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><h2 id=\"dl2lee\" class=\"markdown-heading\"><a name=\"dl2lee\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.角色封停和解封接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>4.邮件发送接口（可附带物品）：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ data”:{“total”:100, “list”:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{ {“ip”:213232132,”remark”:”说明”},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{“total”:1,”data”:{“world_config”:{},”server_status”:””}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:24:33',2,1568791472,0),(87,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page2)\n## 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page3)\n## 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page4)\n## 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"dd7jbk\" class=\"markdown-heading\"><a name=\"dd7jbk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"dhagwp\" class=\"markdown-heading\"><a name=\"dhagwp\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" roleInfoList \"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"azwh0v\" class=\"markdown-heading\"><a name=\"azwh0v\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.角色禁言与解禁接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"212aj0\" class=\"markdown-heading\"><a name=\"212aj0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.角色封停和解封接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"cwmu9d\" class=\"markdown-heading\"><a name=\"cwmu9d\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.邮件发送接口（可附带物品）：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>5.钻石数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ data”:{“total”:100, “list”:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{ {“ip”:213232132,”remark”:”说明”},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{“total”:1,”data”:{“world_config”:{},”server_status”:””}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:25:03',2,1568791502,0),(88,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page2)\n## 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page3)\n## 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page4)\n## 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page5)\n## 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"8ldleh\" class=\"markdown-heading\"><a name=\"8ldleh\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"5mbp04\" class=\"markdown-heading\"><a name=\"5mbp04\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" roleInfoList \"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"cmk9o9\" class=\"markdown-heading\"><a name=\"cmk9o9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.角色禁言与解禁接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"cxgur0\" class=\"markdown-heading\"><a name=\"cxgur0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.角色封停和解封接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"5yt9ie\" class=\"markdown-heading\"><a name=\"5yt9ie\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.邮件发送接口（可附带物品）：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"f4pc5j\" class=\"markdown-heading\"><a name=\"f4pc5j\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.钻石数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>6.角色物品数量扣除接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>7.跑马灯公告通知接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ data”:{“total”:100, “list”:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{ {“ip”:213232132,”remark”:”说明”},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{“total”:1,”data”:{“world_config”:{},”server_status”:””}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:25:33',2,1568791532,0),(89,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page2)\n## 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page3)\n## 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page4)\n## 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page5)\n## 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page6)\n## 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page7)\n## 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"操作成功\"}\n\n1. 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"gfsceh\" class=\"markdown-heading\"><a name=\"gfsceh\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"2b1oar\" class=\"markdown-heading\"><a name=\"2b1oar\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" roleInfoList \"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"1g8z43\" class=\"markdown-heading\"><a name=\"1g8z43\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.角色禁言与解禁接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"2bwl2q\" class=\"markdown-heading\"><a name=\"2bwl2q\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.角色封停和解封接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"3x8jyk\" class=\"markdown-heading\"><a name=\"3x8jyk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.邮件发送接口（可附带物品）：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"3wtm5w\" class=\"markdown-heading\"><a name=\"3wtm5w\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.钻石数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"66ea0w\" class=\"markdown-heading\"><a name=\"66ea0w\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.角色物品数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"80vb45\" class=\"markdown-heading\"><a name=\"80vb45\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.跑马灯公告通知接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>8.服务器文本指令发送接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “操作成功”}</p>\n<ol>\n<li>9.玩家角色基本信息查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ data”:{“total”:100, “list”:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{ {“ip”:213232132,”remark”:”说明”},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{“total”:1,”data”:{“world_config”:{},”server_status”:””}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:26:03',2,1568791562,0),(90,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page2)\n## 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page3)\n## 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page4)\n## 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page5)\n## 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page6)\n## 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page7)\n## 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page8)\n## 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](p)\n## 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"fwua7s\" class=\"markdown-heading\"><a name=\"fwua7s\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"ckzx6\" class=\"markdown-heading\"><a name=\"ckzx6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" roleInfoList \"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"2yngtg\" class=\"markdown-heading\"><a name=\"2yngtg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.角色禁言与解禁接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"g6d9a7\" class=\"markdown-heading\"><a name=\"g6d9a7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.角色封停和解封接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"36aejs\" class=\"markdown-heading\"><a name=\"36aejs\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.邮件发送接口（可附带物品）：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"bm8scj\" class=\"markdown-heading\"><a name=\"bm8scj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.钻石数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"13cmii\" class=\"markdown-heading\"><a name=\"13cmii\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.角色物品数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"4ja1d5\" class=\"markdown-heading\"><a name=\"4ja1d5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.跑马灯公告通知接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page8\"></a></p>\n<h2 id=\"a347g2\" class=\"markdown-heading\"><a name=\"a347g2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>8.服务器文本指令发送接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\">[]</p>\n<h2 id=\"5srrty\" class=\"markdown-heading\"><a name=\"5srrty\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>9.玩家角色基本信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ data”:{“total”:100, “list”:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{ {“ip”:213232132,”remark”:”说明”},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{“total”:1,”data”:{“world_config”:{},”server_status”:””}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:26:33',2,1568791592,0),(91,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page2)\n## 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page3)\n## 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page4)\n## 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page5)\n## 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page6)\n## 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page7)\n## 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page8)\n## 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](page9)\n## 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n\n1. 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n\n1. 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"1hhkzs\" class=\"markdown-heading\"><a name=\"1hhkzs\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"a9tnmh\" class=\"markdown-heading\"><a name=\"a9tnmh\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" roleInfoList \"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"4d4c87\" class=\"markdown-heading\"><a name=\"4d4c87\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.角色禁言与解禁接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"9q3tc8\" class=\"markdown-heading\"><a name=\"9q3tc8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.角色封停和解封接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"9j464u\" class=\"markdown-heading\"><a name=\"9j464u\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.邮件发送接口（可附带物品）：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"4z1avz\" class=\"markdown-heading\"><a name=\"4z1avz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.钻石数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"f61yf7\" class=\"markdown-heading\"><a name=\"f61yf7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.角色物品数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"9o9m8j\" class=\"markdown-heading\"><a name=\"9o9m8j\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.跑马灯公告通知接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page8\"></a></p>\n<h2 id=\"cf49ka\" class=\"markdown-heading\"><a name=\"cf49ka\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>8.服务器文本指令发送接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a href=\"page9\"></a></p>\n<h2 id=\"czp8u7\" class=\"markdown-heading\"><a name=\"czp8u7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>9.玩家角色基本信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “查询成功”, “ data”:{“total”:100, “list”:[｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝, ｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝]}</p>\n<ol>\n<li>10.IP白名单接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{ {“ip”:213232132,”remark”:”说明”},…}</p>\n<ol>\n<li>11.服务器查询接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{“total”:1,”data”:{“world_config”:{},”server_status”:””}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:27:03',2,1568791622,0),(92,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page2)\n## 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page3)\n## 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page4)\n## 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page5)\n## 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page6)\n## 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page7)\n## 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page8)\n## 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](page9)\n## 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page10)\n## 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n```\n\n## 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n\n1. 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"2p1ju2\" class=\"markdown-heading\"><a name=\"2p1ju2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"dwno5y\" class=\"markdown-heading\"><a name=\"dwno5y\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" roleInfoList \"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"pw4zr\" class=\"markdown-heading\"><a name=\"pw4zr\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.角色禁言与解禁接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"5ijc23\" class=\"markdown-heading\"><a name=\"5ijc23\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.角色封停和解封接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"4j3eqa\" class=\"markdown-heading\"><a name=\"4j3eqa\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.邮件发送接口（可附带物品）：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"dzycvd\" class=\"markdown-heading\"><a name=\"dzycvd\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.钻石数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"adjvaz\" class=\"markdown-heading\"><a name=\"adjvaz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.角色物品数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"8efpu5\" class=\"markdown-heading\"><a name=\"8efpu5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.跑马灯公告通知接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page8\"></a></p>\n<h2 id=\"2paxua\" class=\"markdown-heading\"><a name=\"2paxua\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>8.服务器文本指令发送接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a href=\"page9\"></a></p>\n<h2 id=\"b36p9e\" class=\"markdown-heading\"><a name=\"b36p9e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>9.玩家角色基本信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" data\"</span>:{<span class=\"hljs-attr\">\"total\"</span>:<span class=\"hljs-number\">100</span>, <span class=\"hljs-attr\">\"list\"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page10\"></a></p>\n<h2 id=\"fupczs\" class=\"markdown-heading\"><a name=\"fupczs\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>10.IP白名单接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs bash\"><code>{<span class=\"hljs-string\">\" code \"</span>: 0, <span class=\"hljs-string\">\"msg\"</span>: <span class=\"hljs-string\">\"ok！\"</span>,<span class=\"hljs-string\">\"data\"</span>:{ {<span class=\"hljs-string\">\"ip\"</span>:213232132,<span class=\"hljs-string\">\"remark\"</span>:<span class=\"hljs-string\">\"说明\"</span>},…}</code></pre><h2 id=\"6arhqq\" class=\"markdown-heading\"><a name=\"6arhqq\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>11.服务器查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”,”data”:{“total”:1,”data”:{“world_config”:{},”server_status”:””}}}</p>\n<ol>\n<li>12.服务器状态编辑接口：</li></ol>\n<ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:27:33',2,1568791652,0),(93,'modify','修改文档',6,'gm工具平台接入文档',0,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page2)\n## 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page3)\n## 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page4)\n## 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page5)\n## 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page6)\n## 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page7)\n## 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page8)\n## 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](page9)\n## 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page10)\n## 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n```\n\n[](@page11)\n## 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n```\n\n[](@page12)\n## 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n{\" code \": 0, \"msg\": \"ok！\"}','<h1 id=\"fybodg\" class=\"markdown-heading\"><a name=\"fybodg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"a58681\" class=\"markdown-heading\"><a name=\"a58681\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" roleInfoList \"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"28gn1\" class=\"markdown-heading\"><a name=\"28gn1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.角色禁言与解禁接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"6e54cd\" class=\"markdown-heading\"><a name=\"6e54cd\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.角色封停和解封接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"1lkdl5\" class=\"markdown-heading\"><a name=\"1lkdl5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.邮件发送接口（可附带物品）：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"8mvf1p\" class=\"markdown-heading\"><a name=\"8mvf1p\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.钻石数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"4pgt0c\" class=\"markdown-heading\"><a name=\"4pgt0c\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.角色物品数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"a2gm1v\" class=\"markdown-heading\"><a name=\"a2gm1v\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.跑马灯公告通知接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page8\"></a></p>\n<h2 id=\"6g05cp\" class=\"markdown-heading\"><a name=\"6g05cp\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>8.服务器文本指令发送接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a href=\"page9\"></a></p>\n<h2 id=\"dxcvzz\" class=\"markdown-heading\"><a name=\"dxcvzz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>9.玩家角色基本信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" data\"</span>:{<span class=\"hljs-attr\">\"total\"</span>:<span class=\"hljs-number\">100</span>, <span class=\"hljs-attr\">\"list\"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page10\"></a></p>\n<h2 id=\"6582s2\" class=\"markdown-heading\"><a name=\"6582s2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>10.IP白名单接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs bash\"><code>{<span class=\"hljs-string\">\" code \"</span>: 0, <span class=\"hljs-string\">\"msg\"</span>: <span class=\"hljs-string\">\"ok！\"</span>,<span class=\"hljs-string\">\"data\"</span>:{ {<span class=\"hljs-string\">\"ip\"</span>:213232132,<span class=\"hljs-string\">\"remark\"</span>:<span class=\"hljs-string\">\"说明\"</span>},…}</code></pre><p class=\"line\"><a name=\"page11\"></a></p>\n<h2 id=\"3sfn0p\" class=\"markdown-heading\"><a name=\"3sfn0p\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>11.服务器查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"ok！\"</span>,<span class=\"hljs-attr\">\"data\"</span>:{<span class=\"hljs-attr\">\"total\"</span>:<span class=\"hljs-number\">1</span>,<span class=\"hljs-attr\">\"data\"</span>:{<span class=\"hljs-attr\">\"world\\_config\"</span>:{},<span class=\"hljs-attr\">\"server\\_status\"</span>:<span class=\"hljs-string\">\"\"</span>}}}</code></pre><p class=\"line\"><a name=\"page12\"></a></p>\n<h2 id=\"2lsfd6\" class=\"markdown-heading\"><a name=\"2lsfd6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>12.服务器状态编辑接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<p class=\"line\">{“ code “: 0, “msg”: “ok！”}</p>\n',2,'2019-09-18 15:27:49',2,1568791668,0),(94,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'','',2,'2019-09-18 15:32:12',2,1568791931,0),(95,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n1. 1．脚本目录分类\n\n脚本目录interface合并到script目录\n\nscript/interface 以前的界面文件，存放ui界面脚本文件\n\nscript/frame 存放其他的frame脚本文件，比如scene，main\\_frame，play\\_session等等\n\nscript/base 存放通用模块和基础模块脚本\n\nscript/attribute 存放属性计算模块脚本\n\nscript/combat 存放战斗逻辑模块脚本\n\nscript/database 存放数据，容器等存储数据相关的模块脚本\n\nscript/define 存放枚举常量申明模块脚本\n\nscript/editor 存放编辑器相关脚本\n\nscript/netcmd 存放消息处理接口模块脚本\n\nscript/util 存放方法模块脚本\n\nscript/wnd 存放界面控件模块脚本\n\n\\*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n\\*添加新的目录需要在base/global\\_function.lua中的f\\_script\\_dir增加，不然require的时候会取不到。\n\n1. 2．VWnd增加模块机制\n\nVWnd增加了字段TemplateName和TemplateModule。\n\nTemplateName=wnd\\_simple模板名称，对应相应名字的ui/wnd\\_simple.xml和scirpt/wnd/wnd\\_simple.lua；\n\nTemplateModule=wnd\\_simple模板脚本名称 ，对应相应名字的script/wnd/wnd\\_simple.lua。\n\nC++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd\\_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd\\_simple.self:GetID()\n\nUI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd\\_bag，wnd\\_list，wnd\\_icon，wnd\\_text等等\n\nUI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"66c29k\" class=\"markdown-heading\"><a name=\"66c29k\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><ol>\n<li>1．脚本目录分类</li></ol>\n<p class=\"line\">脚本目录interface合并到script目录</p>\n<p class=\"line\">script/interface 以前的界面文件，存放ui界面脚本文件</p>\n<p class=\"line\">script/frame 存放其他的frame脚本文件，比如scene，main_frame，play_session等等</p>\n<p class=\"line\">script/base 存放通用模块和基础模块脚本</p>\n<p class=\"line\">script/attribute 存放属性计算模块脚本</p>\n<p class=\"line\">script/combat 存放战斗逻辑模块脚本</p>\n<p class=\"line\">script/database 存放数据，容器等存储数据相关的模块脚本</p>\n<p class=\"line\">script/define 存放枚举常量申明模块脚本</p>\n<p class=\"line\">script/editor 存放编辑器相关脚本</p>\n<p class=\"line\">script/netcmd 存放消息处理接口模块脚本</p>\n<p class=\"line\">script/util 存放方法模块脚本</p>\n<p class=\"line\">script/wnd 存放界面控件模块脚本</p>\n<p class=\"line\">*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n<p class=\"line\">*添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n<ol>\n<li>2．VWnd增加模块机制</li></ol>\n<p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n<p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n<p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n<p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n<p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n<p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n<p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n<h2 id=\"2jba50\" class=\"markdown-heading\"><a name=\"2jba50\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"but3nt\" class=\"markdown-heading\"><a name=\"but3nt\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"ca5j3t\" class=\"markdown-heading\"><a name=\"ca5j3t\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"9b7iu3\" class=\"markdown-heading\"><a name=\"9b7iu3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"5f7zez\" class=\"markdown-heading\"><a name=\"5f7zez\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:32:42',2,1568791961,0),(96,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n脚本目录interface合并到script目录\n\nscript/interface 以前的界面文件，存放ui界面脚本文件\n\nscript/frame 存放其他的frame脚本文件，比如scene，main\\_frame，play\\_session等等\n\nscript/base 存放通用模块和基础模块脚本\n\nscript/attribute 存放属性计算模块脚本\n\nscript/combat 存放战斗逻辑模块脚本\n\nscript/database 存放数据，容器等存储数据相关的模块脚本\n\nscript/define 存放枚举常量申明模块脚本\n\nscript/editor 存放编辑器相关脚本\n\nscript/netcmd 存放消息处理接口模块脚本\n\nscript/util 存放方法模块脚本\n\nscript/wnd 存放界面控件模块脚本\n\n\\*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n\\*添加新的目录需要在base/global\\_function.lua中的f\\_script\\_dir增加，不然require的时候会取不到。\n\n1. 2．VWnd增加模块机制\n\nVWnd增加了字段TemplateName和TemplateModule。\n\nTemplateName=wnd\\_simple模板名称，对应相应名字的ui/wnd\\_simple.xml和scirpt/wnd/wnd\\_simple.lua；\n\nTemplateModule=wnd\\_simple模板脚本名称 ，对应相应名字的script/wnd/wnd\\_simple.lua。\n\nC++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd\\_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd\\_simple.self:GetID()\n\nUI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd\\_bag，wnd\\_list，wnd\\_icon，wnd\\_text等等\n\nUI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"ax7as6\" class=\"markdown-heading\"><a name=\"ax7as6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"15ou7g\" class=\"markdown-heading\"><a name=\"15ou7g\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><p class=\"line\">脚本目录interface合并到script目录</p>\n<p class=\"line\">script/interface 以前的界面文件，存放ui界面脚本文件</p>\n<p class=\"line\">script/frame 存放其他的frame脚本文件，比如scene，main_frame，play_session等等</p>\n<p class=\"line\">script/base 存放通用模块和基础模块脚本</p>\n<p class=\"line\">script/attribute 存放属性计算模块脚本</p>\n<p class=\"line\">script/combat 存放战斗逻辑模块脚本</p>\n<p class=\"line\">script/database 存放数据，容器等存储数据相关的模块脚本</p>\n<p class=\"line\">script/define 存放枚举常量申明模块脚本</p>\n<p class=\"line\">script/editor 存放编辑器相关脚本</p>\n<p class=\"line\">script/netcmd 存放消息处理接口模块脚本</p>\n<p class=\"line\">script/util 存放方法模块脚本</p>\n<p class=\"line\">script/wnd 存放界面控件模块脚本</p>\n<p class=\"line\">*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n<p class=\"line\">*添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n<ol>\n<li>2．VWnd增加模块机制</li></ol>\n<p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n<p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n<p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n<p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n<p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n<p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n<p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n<h2 id=\"fad9la\" class=\"markdown-heading\"><a name=\"fad9la\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"8b0lae\" class=\"markdown-heading\"><a name=\"8b0lae\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"ezo0hw\" class=\"markdown-heading\"><a name=\"ezo0hw\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"emam4w\" class=\"markdown-heading\"><a name=\"emam4w\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"a9gvj7\" class=\"markdown-heading\"><a name=\"a9gvj7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:33:12',2,1568791991,0),(97,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n**脚本目录interface合并到script目录**\n\n| 目录 | \nscript/interface 以前的界面文件，存放ui界面脚本文件\n\nscript/frame 存放其他的frame脚本文件，比如scene，main\\_frame，play\\_session等等\n\nscript/base 存放通用模块和基础模块脚本\n\nscript/attribute 存放属性计算模块脚本\n\nscript/combat 存放战斗逻辑模块脚本\n\nscript/database 存放数据，容器等存储数据相关的模块脚本\n\nscript/define 存放枚举常量申明模块脚本\n\nscript/editor 存放编辑器相关脚本\n\nscript/netcmd 存放消息处理接口模块脚本\n\nscript/util 存放方法模块脚本\n\nscript/wnd 存放界面控件模块脚本\n\n\\*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n\\*添加新的目录需要在base/global\\_function.lua中的f\\_script\\_dir增加，不然require的时候会取不到。\n\n1. 2．VWnd增加模块机制\n\nVWnd增加了字段TemplateName和TemplateModule。\n\nTemplateName=wnd\\_simple模板名称，对应相应名字的ui/wnd\\_simple.xml和scirpt/wnd/wnd\\_simple.lua；\n\nTemplateModule=wnd\\_simple模板脚本名称 ，对应相应名字的script/wnd/wnd\\_simple.lua。\n\nC++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd\\_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd\\_simple.self:GetID()\n\nUI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd\\_bag，wnd\\_list，wnd\\_icon，wnd\\_text等等\n\nUI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"56b0j5\" class=\"markdown-heading\"><a name=\"56b0j5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"f3eutv\" class=\"markdown-heading\"><a name=\"f3eutv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><p class=\"line\"><strong>脚本目录interface合并到script目录</strong></p>\n<p class=\"line\">| 目录 |<br>script/interface 以前的界面文件，存放ui界面脚本文件</p>\n<p class=\"line\">script/frame 存放其他的frame脚本文件，比如scene，main_frame，play_session等等</p>\n<p class=\"line\">script/base 存放通用模块和基础模块脚本</p>\n<p class=\"line\">script/attribute 存放属性计算模块脚本</p>\n<p class=\"line\">script/combat 存放战斗逻辑模块脚本</p>\n<p class=\"line\">script/database 存放数据，容器等存储数据相关的模块脚本</p>\n<p class=\"line\">script/define 存放枚举常量申明模块脚本</p>\n<p class=\"line\">script/editor 存放编辑器相关脚本</p>\n<p class=\"line\">script/netcmd 存放消息处理接口模块脚本</p>\n<p class=\"line\">script/util 存放方法模块脚本</p>\n<p class=\"line\">script/wnd 存放界面控件模块脚本</p>\n<p class=\"line\">*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n<p class=\"line\">*添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n<ol>\n<li>2．VWnd增加模块机制</li></ol>\n<p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n<p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n<p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n<p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n<p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n<p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n<p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n<h2 id=\"ainygr\" class=\"markdown-heading\"><a name=\"ainygr\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"c4n5yj\" class=\"markdown-heading\"><a name=\"c4n5yj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"gce6mm\" class=\"markdown-heading\"><a name=\"gce6mm\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"g339t8\" class=\"markdown-heading\"><a name=\"g339t8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"ddf2ir\" class=\"markdown-heading\"><a name=\"ddf2ir\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:33:42',2,1568792021,0),(98,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n**脚本目录interface合并到script目录**\n\n| 目录 | 功能 |\n| -- | -- |\n|script/interface | 以前的界面文件，存放ui界面脚本文件 |\n\n|script/frame | 存放其他的frame脚本文件，比如scene，main\\_frame，play\\_session等等 |\n\nscript/base 存放通用模块和基础模块脚本\n\nscript/attribute 存放属性计算模块脚本\n\nscript/combat 存放战斗逻辑模块脚本\n\nscript/database 存放数据，容器等存储数据相关的模块脚本\n\nscript/define 存放枚举常量申明模块脚本\n\nscript/editor 存放编辑器相关脚本\n\nscript/netcmd 存放消息处理接口模块脚本\n\nscript/util 存放方法模块脚本\n\nscript/wnd 存放界面控件模块脚本\n\n\\*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n\\*添加新的目录需要在base/global\\_function.lua中的f\\_script\\_dir增加，不然require的时候会取不到。\n\n1. 2．VWnd增加模块机制\n\nVWnd增加了字段TemplateName和TemplateModule。\n\nTemplateName=wnd\\_simple模板名称，对应相应名字的ui/wnd\\_simple.xml和scirpt/wnd/wnd\\_simple.lua；\n\nTemplateModule=wnd\\_simple模板脚本名称 ，对应相应名字的script/wnd/wnd\\_simple.lua。\n\nC++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd\\_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd\\_simple.self:GetID()\n\nUI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd\\_bag，wnd\\_list，wnd\\_icon，wnd\\_text等等\n\nUI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"cwkcxf\" class=\"markdown-heading\"><a name=\"cwkcxf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"5du5mm\" class=\"markdown-heading\"><a name=\"5du5mm\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><p class=\"line\"><strong>脚本目录interface合并到script目录</strong></p>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>script/interface</td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n</tbody></table>\n<p class=\"line\">|script/frame | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |</p>\n<p class=\"line\">script/base 存放通用模块和基础模块脚本</p>\n<p class=\"line\">script/attribute 存放属性计算模块脚本</p>\n<p class=\"line\">script/combat 存放战斗逻辑模块脚本</p>\n<p class=\"line\">script/database 存放数据，容器等存储数据相关的模块脚本</p>\n<p class=\"line\">script/define 存放枚举常量申明模块脚本</p>\n<p class=\"line\">script/editor 存放编辑器相关脚本</p>\n<p class=\"line\">script/netcmd 存放消息处理接口模块脚本</p>\n<p class=\"line\">script/util 存放方法模块脚本</p>\n<p class=\"line\">script/wnd 存放界面控件模块脚本</p>\n<p class=\"line\">*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n<p class=\"line\">*添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n<ol>\n<li>2．VWnd增加模块机制</li></ol>\n<p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n<p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n<p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n<p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n<p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n<p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n<p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n<h2 id=\"btzkz2\" class=\"markdown-heading\"><a name=\"btzkz2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"47qugc\" class=\"markdown-heading\"><a name=\"47qugc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"6vjmf6\" class=\"markdown-heading\"><a name=\"6vjmf6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"dq17dw\" class=\"markdown-heading\"><a name=\"dq17dw\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"1hdgpi\" class=\"markdown-heading\"><a name=\"1hdgpi\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:34:12',2,1568792051,0),(99,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n**脚本目录interface合并到script目录**\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n\nscript/base 存放通用模块和基础模块脚本\n\nscript/attribute 存放属性计算模块脚本\n\nscript/combat 存放战斗逻辑模块脚本\n\nscript/database 存放数据，容器等存储数据相关的模块脚本\n\nscript/define 存放枚举常量申明模块脚本\n\nscript/editor 存放编辑器相关脚本\n\nscript/netcmd 存放消息处理接口模块脚本\n\nscript/util 存放方法模块脚本\n\nscript/wnd 存放界面控件模块脚本\n\n\\*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n\\*添加新的目录需要在base/global\\_function.lua中的f\\_script\\_dir增加，不然require的时候会取不到。\n\n1. 2．VWnd增加模块机制\n\nVWnd增加了字段TemplateName和TemplateModule。\n\nTemplateName=wnd\\_simple模板名称，对应相应名字的ui/wnd\\_simple.xml和scirpt/wnd/wnd\\_simple.lua；\n\nTemplateModule=wnd\\_simple模板脚本名称 ，对应相应名字的script/wnd/wnd\\_simple.lua。\n\nC++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd\\_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd\\_simple.self:GetID()\n\nUI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd\\_bag，wnd\\_list，wnd\\_icon，wnd\\_text等等\n\nUI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"85guiq\" class=\"markdown-heading\"><a name=\"85guiq\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"bbcy3u\" class=\"markdown-heading\"><a name=\"bbcy3u\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><p class=\"line\"><strong>脚本目录interface合并到script目录</strong></p>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n</tbody></table>\n<p class=\"line\">script/base 存放通用模块和基础模块脚本</p>\n<p class=\"line\">script/attribute 存放属性计算模块脚本</p>\n<p class=\"line\">script/combat 存放战斗逻辑模块脚本</p>\n<p class=\"line\">script/database 存放数据，容器等存储数据相关的模块脚本</p>\n<p class=\"line\">script/define 存放枚举常量申明模块脚本</p>\n<p class=\"line\">script/editor 存放编辑器相关脚本</p>\n<p class=\"line\">script/netcmd 存放消息处理接口模块脚本</p>\n<p class=\"line\">script/util 存放方法模块脚本</p>\n<p class=\"line\">script/wnd 存放界面控件模块脚本</p>\n<p class=\"line\">*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n<p class=\"line\">*添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n<ol>\n<li>2．VWnd增加模块机制</li></ol>\n<p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n<p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n<p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n<p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n<p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n<p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n<p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n<h2 id=\"giveb1\" class=\"markdown-heading\"><a name=\"giveb1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"6r68jx\" class=\"markdown-heading\"><a name=\"6r68jx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"1e4z5w\" class=\"markdown-heading\"><a name=\"1e4z5w\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"fmblqz\" class=\"markdown-heading\"><a name=\"fmblqz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"1vki1e\" class=\"markdown-heading\"><a name=\"1vki1e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:34:42',2,1568792081,0),(100,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n**脚本目录interface合并到script目录**\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| script/database 存放数据，容器等存储数据相关的模块脚本\n\nscript/define 存放枚举常量申明模块脚本\n\nscript/editor 存放编辑器相关脚本\n\nscript/netcmd 存放消息处理接口模块脚本\n\nscript/util 存放方法模块脚本\n\nscript/wnd 存放界面控件模块脚本\n\n\\*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n\\*添加新的目录需要在base/global\\_function.lua中的f\\_script\\_dir增加，不然require的时候会取不到。\n\n1. 2．VWnd增加模块机制\n\nVWnd增加了字段TemplateName和TemplateModule。\n\nTemplateName=wnd\\_simple模板名称，对应相应名字的ui/wnd\\_simple.xml和scirpt/wnd/wnd\\_simple.lua；\n\nTemplateModule=wnd\\_simple模板脚本名称 ，对应相应名字的script/wnd/wnd\\_simple.lua。\n\nC++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd\\_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd\\_simple.self:GetID()\n\nUI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd\\_bag，wnd\\_list，wnd\\_icon，wnd\\_text等等\n\nUI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"8cfhsp\" class=\"markdown-heading\"><a name=\"8cfhsp\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"1lo39g\" class=\"markdown-heading\"><a name=\"1lo39g\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><p class=\"line\"><strong>脚本目录interface合并到script目录</strong></p>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td>script/database 存放数据，容器等存储数据相关的模块脚本</td>\n<td></td>\n</tr>\n</tbody></table>\n<p class=\"line\">script/define 存放枚举常量申明模块脚本</p>\n<p class=\"line\">script/editor 存放编辑器相关脚本</p>\n<p class=\"line\">script/netcmd 存放消息处理接口模块脚本</p>\n<p class=\"line\">script/util 存放方法模块脚本</p>\n<p class=\"line\">script/wnd 存放界面控件模块脚本</p>\n<p class=\"line\">*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n<p class=\"line\">*添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n<ol>\n<li>2．VWnd增加模块机制</li></ol>\n<p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n<p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n<p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n<p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n<p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n<p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n<p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n<h2 id=\"6k01ho\" class=\"markdown-heading\"><a name=\"6k01ho\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"2v6crs\" class=\"markdown-heading\"><a name=\"2v6crs\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"6i50t1\" class=\"markdown-heading\"><a name=\"6i50t1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"dfd9fk\" class=\"markdown-heading\"><a name=\"dfd9fk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"49jgfd\" class=\"markdown-heading\"><a name=\"49jgfd\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:35:12',2,1568792111,0),(101,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n**脚本目录interface合并到script目录**\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd 存放消息处理接口模块脚本\n\nscript/util 存放方法模块脚本\n\nscript/wnd 存放界面控件模块脚本\n\n\\*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n\\*添加新的目录需要在base/global\\_function.lua中的f\\_script\\_dir增加，不然require的时候会取不到。\n\n1. 2．VWnd增加模块机制\n\nVWnd增加了字段TemplateName和TemplateModule。\n\nTemplateName=wnd\\_simple模板名称，对应相应名字的ui/wnd\\_simple.xml和scirpt/wnd/wnd\\_simple.lua；\n\nTemplateModule=wnd\\_simple模板脚本名称 ，对应相应名字的script/wnd/wnd\\_simple.lua。\n\nC++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd\\_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd\\_simple.self:GetID()\n\nUI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd\\_bag，wnd\\_list，wnd\\_icon，wnd\\_text等等\n\nUI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"79l21b\" class=\"markdown-heading\"><a name=\"79l21b\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"acl83i\" class=\"markdown-heading\"><a name=\"acl83i\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><p class=\"line\"><strong>脚本目录interface合并到script目录</strong></p>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td>`script/netcmd 存放消息处理接口模块脚本</td>\n<td></td>\n</tr>\n</tbody></table>\n<p class=\"line\">script/util 存放方法模块脚本</p>\n<p class=\"line\">script/wnd 存放界面控件模块脚本</p>\n<p class=\"line\">*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n<p class=\"line\">*添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n<ol>\n<li>2．VWnd增加模块机制</li></ol>\n<p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n<p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n<p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n<p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n<p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n<p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n<p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n<h2 id=\"gj921n\" class=\"markdown-heading\"><a name=\"gj921n\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"6wyrno\" class=\"markdown-heading\"><a name=\"6wyrno\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"567y9f\" class=\"markdown-heading\"><a name=\"567y9f\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"49rtxw\" class=\"markdown-heading\"><a name=\"49rtxw\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"al4hvv\" class=\"markdown-heading\"><a name=\"al4hvv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:35:42',2,1568792141,0),(102,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n>[success]脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n\\*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n\\*添加新的目录需要在base/global\\_function.lua中的f\\_script\\_dir增加，不然require的时候会取不到。\n\n1. 2．VWnd增加模块机制\n\nVWnd增加了字段TemplateName和TemplateModule。\n\nTemplateName=wnd\\_simple模板名称，对应相应名字的ui/wnd\\_simple.xml和scirpt/wnd/wnd\\_simple.lua；\n\nTemplateModule=wnd\\_simple模板脚本名称 ，对应相应名字的script/wnd/wnd\\_simple.lua。\n\nC++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd\\_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd\\_simple.self:GetID()\n\nUI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd\\_bag，wnd\\_list，wnd\\_icon，wnd\\_text等等\n\nUI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"2u90xa\" class=\"markdown-heading\"><a name=\"2u90xa\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"f3k2en\" class=\"markdown-heading\"><a name=\"f3k2en\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><blockquote class=\"success\">\n<p class=\"line\">脚本目录interface合并到script目录</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<p class=\"line\">*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n<p class=\"line\">*添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n<ol>\n<li>2．VWnd增加模块机制</li></ol>\n<p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n<p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n<p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n<p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n<p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n<p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n<p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n<h2 id=\"89i91e\" class=\"markdown-heading\"><a name=\"89i91e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"3f7ihf\" class=\"markdown-heading\"><a name=\"3f7ihf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"73fl2i\" class=\"markdown-heading\"><a name=\"73fl2i\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"cat5o8\" class=\"markdown-heading\"><a name=\"cat5o8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"53n7fp\" class=\"markdown-heading\"><a name=\"53n7fp\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:36:12',2,1568792171,0),(103,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n\\*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n\\*添加新的目录需要在base/global\\_function.lua中的f\\_script\\_dir增加，不然require的时候会取不到。\n\n1. 2．VWnd增加模块机制\n\nVWnd增加了字段TemplateName和TemplateModule。\n\nTemplateName=wnd\\_simple模板名称，对应相应名字的ui/wnd\\_simple.xml和scirpt/wnd/wnd\\_simple.lua；\n\nTemplateModule=wnd\\_simple模板脚本名称 ，对应相应名字的script/wnd/wnd\\_simple.lua。\n\nC++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd\\_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd\\_simple.self:GetID()\n\nUI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd\\_bag，wnd\\_list，wnd\\_icon，wnd\\_text等等\n\nUI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"a76gqc\" class=\"markdown-heading\"><a name=\"a76gqc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"3dvzzx\" class=\"markdown-heading\"><a name=\"3dvzzx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<p class=\"line\">*interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n<p class=\"line\">*添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n<ol>\n<li>2．VWnd增加模块机制</li></ol>\n<p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n<p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n<p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n<p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n<p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n<p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n<p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n<h2 id=\"aanra5\" class=\"markdown-heading\"><a name=\"aanra5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"dxmprj\" class=\"markdown-heading\"><a name=\"dxmprj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"pnt8\" class=\"markdown-heading\"><a name=\"pnt8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"69sr0t\" class=\"markdown-heading\"><a name=\"69sr0t\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"githmp\" class=\"markdown-heading\"><a name=\"githmp\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:36:42',2,1568792201,0),(104,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global\\_function.lua中的f\\_script\\_dir增加，不然require的时候会取不到。\n\n1. 2．VWnd增加模块机制\n\nVWnd增加了字段TemplateName和TemplateModule。\n\nTemplateName=wnd\\_simple模板名称，对应相应名字的ui/wnd\\_simple.xml和scirpt/wnd/wnd\\_simple.lua；\n\nTemplateModule=wnd\\_simple模板脚本名称 ，对应相应名字的script/wnd/wnd\\_simple.lua。\n\nC++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd\\_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd\\_simple.self:GetID()\n\nUI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd\\_bag，wnd\\_list，wnd\\_icon，wnd\\_text等等\n\nUI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"4yqi34\" class=\"markdown-heading\"><a name=\"4yqi34\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"fr9nav\" class=\"markdown-heading\"><a name=\"fr9nav\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<ol>\n<li>2．VWnd增加模块机制</li></ol>\n<p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n<p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n<p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n<p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n<p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n<p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n<p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n<h2 id=\"g2kz7c\" class=\"markdown-heading\"><a name=\"g2kz7c\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"ckioqf\" class=\"markdown-heading\"><a name=\"ckioqf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"ahzsia\" class=\"markdown-heading\"><a name=\"ahzsia\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"bxfvnx\" class=\"markdown-heading\"><a name=\"bxfvnx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"chndf8\" class=\"markdown-heading\"><a name=\"chndf8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:37:12',2,1568792231,0),(105,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\nVWnd增加了字段TemplateName和TemplateModule。\n\nTemplateName=wnd\\_simple模板名称，对应相应名字的ui/wnd\\_simple.xml和scirpt/wnd/wnd\\_simple.lua；\n\nTemplateModule=wnd\\_simple模板脚本名称 ，对应相应名字的script/wnd/wnd\\_simple.lua。\n\nC++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd\\_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd\\_simple.self:GetID()\n\nUI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd\\_bag，wnd\\_list，wnd\\_icon，wnd\\_text等等\n\nUI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"7rn9n4\" class=\"markdown-heading\"><a name=\"7rn9n4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"5g3za4\" class=\"markdown-heading\"><a name=\"5g3za4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"mjv0\" class=\"markdown-heading\"><a name=\"mjv0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n<p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n<p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n<p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n<p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n<p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n<p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n<h2 id=\"80asc8\" class=\"markdown-heading\"><a name=\"80asc8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"43c30k\" class=\"markdown-heading\"><a name=\"43c30k\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"gcfc6x\" class=\"markdown-heading\"><a name=\"gcfc6x\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"55asr2\" class=\"markdown-heading\"><a name=\"55asr2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"7hmah2\" class=\"markdown-heading\"><a name=\"7hmah2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:37:42',2,1568792261,0),(106,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\nVWnd增加了字段TemplateName和TemplateModule。\n\nTemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\nTemplateModule=wnd\\_simple模板脚本名称 ，对应相应名字的script/wnd/wnd\\_simple.lua。\n\nC++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd\\_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd\\_simple.self:GetID()\n\nUI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd\\_bag，wnd\\_list，wnd\\_icon，wnd\\_text等等\n\nUI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"upbe0\" class=\"markdown-heading\"><a name=\"upbe0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"7j0iv9\" class=\"markdown-heading\"><a name=\"7j0iv9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"9xn316\" class=\"markdown-heading\"><a name=\"9xn316\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n<p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n<p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n<p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n<p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n<p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n<p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n<h2 id=\"cl0dke\" class=\"markdown-heading\"><a name=\"cl0dke\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"ffkfwf\" class=\"markdown-heading\"><a name=\"ffkfwf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"b7d7uo\" class=\"markdown-heading\"><a name=\"b7d7uo\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"593nuc\" class=\"markdown-heading\"><a name=\"593nuc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"60k3al\" class=\"markdown-heading\"><a name=\"60k3al\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:38:12',2,1568792291,0),(107,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\nC++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd\\_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\nUI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd\\_bag，wnd\\_list，wnd\\_icon，wnd\\_text等等\n\nUI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"c6qic5\" class=\"markdown-heading\"><a name=\"c6qic5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"77znx3\" class=\"markdown-heading\"><a name=\"77znx3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"5iqmty\" class=\"markdown-heading\"><a name=\"5iqmty\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li></ul>\n<p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n<p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n<p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n<p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n<h2 id=\"49k61z\" class=\"markdown-heading\"><a name=\"49k61z\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"4kf9oz\" class=\"markdown-heading\"><a name=\"4kf9oz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"e0hky3\" class=\"markdown-heading\"><a name=\"e0hky3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"cclkm0\" class=\"markdown-heading\"><a name=\"cclkm0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"97zusu\" class=\"markdown-heading\"><a name=\"97zusu\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:38:42',2,1568792321,0),(108,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\n- C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\n- UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n- 模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等\n\n- UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd\\_simple。\n\n## 3.                UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"9g7crx\" class=\"markdown-heading\"><a name=\"9g7crx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"9q7s5i\" class=\"markdown-heading\"><a name=\"9q7s5i\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"d57tyj\" class=\"markdown-heading\"><a name=\"d57tyj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"bvvpku\" class=\"markdown-heading\"><a name=\"bvvpku\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.                UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"1yovp1\" class=\"markdown-heading\"><a name=\"1yovp1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"4d3uv6\" class=\"markdown-heading\"><a name=\"4d3uv6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"azgs2t\" class=\"markdown-heading\"><a name=\"azgs2t\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"g7wobo\" class=\"markdown-heading\"><a name=\"g7wobo\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:39:12',2,1568792351,0),(109,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\n- C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\n- UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n- 模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等\n\n- UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。\n\n## 3.	UIFrame增加显示属性，方便显示隐藏\n\nVWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"9ctqgm\" class=\"markdown-heading\"><a name=\"9ctqgm\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"1ad0is\" class=\"markdown-heading\"><a name=\"1ad0is\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"a3ecs2\" class=\"markdown-heading\"><a name=\"a3ecs2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"8sxliv\" class=\"markdown-heading\"><a name=\"8sxliv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.UIFrame增加显示属性，方便显示隐藏</h2><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n<p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n<p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n<p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n<h2 id=\"7ceyj0\" class=\"markdown-heading\"><a name=\"7ceyj0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"9x7eo8\" class=\"markdown-heading\"><a name=\"9x7eo8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"7hwtsy\" class=\"markdown-heading\"><a name=\"7hwtsy\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"4javvr\" class=\"markdown-heading\"><a name=\"4javvr\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:39:42',2,1568792381,0),(110,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\n- C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\n- UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n- 模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等\n\n- UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。\n\n## 3.  UIFrame增加显示属性，方便显示隐藏\n\n- VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n- 没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n- 如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n- 如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.                场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"18p2ce\" class=\"markdown-heading\"><a name=\"18p2ce\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"es01al\" class=\"markdown-heading\"><a name=\"es01al\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"2sx70r\" class=\"markdown-heading\"><a name=\"2sx70r\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"dujfn5\" class=\"markdown-heading\"><a name=\"dujfn5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.  UIFrame增加显示属性，方便显示隐藏</h2><ul>\n<li><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n</li><li><p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n</li><li><p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n</li><li><p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n</li></ul>\n<h2 id=\"rb6fx\" class=\"markdown-heading\"><a name=\"rb6fx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.                场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"1v7mqz\" class=\"markdown-heading\"><a name=\"1v7mqz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"9hz644\" class=\"markdown-heading\"><a name=\"9hz644\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"73i0e\" class=\"markdown-heading\"><a name=\"73i0e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:40:12',2,1568792411,0),(111,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\n- C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\n- UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n- 模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等\n\n- UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。\n\n## 3.  UIFrame增加显示属性，方便显示隐藏\n\n- VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n- 没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n- 如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n- 如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.     场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\n| | |\n| -- | \nEffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题\n\nEntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"9nutid\" class=\"markdown-heading\"><a name=\"9nutid\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"4xtold\" class=\"markdown-heading\"><a name=\"4xtold\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"20k2i7\" class=\"markdown-heading\"><a name=\"20k2i7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"6ko4yv\" class=\"markdown-heading\"><a name=\"6ko4yv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.  UIFrame增加显示属性，方便显示隐藏</h2><ul>\n<li><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n</li><li><p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n</li><li><p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n</li><li><p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n</li></ul>\n<h2 id=\"clz1w9\" class=\"markdown-heading\"><a name=\"clz1w9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.     场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<p class=\"line\">| | |<br>| –<br>EffectManager  特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</p>\n<p class=\"line\">EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</p>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"9192t3\" class=\"markdown-heading\"><a name=\"9192t3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"argkjq\" class=\"markdown-heading\"><a name=\"argkjq\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"1np5hx\" class=\"markdown-heading\"><a name=\"1np5hx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:40:42',2,1568792441,0);
INSERT INTO `amazing_document_history` VALUES (112,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\n- C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\n- UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n- 模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等\n\n- UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。\n\n## 3.  UIFrame增加显示属性，方便显示隐藏\n\n- VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n- 没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n- 如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n- 如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.     场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\n| | |\n| -- | -- |\n| `EffectManager` | 特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题 |\n| `EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便\n\nMovieManager 过场动画管理器，播放和管理过场动画\n\nBattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，\n\nPathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"doq3oa\" class=\"markdown-heading\"><a name=\"doq3oa\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"cpequi\" class=\"markdown-heading\"><a name=\"cpequi\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"60mokm\" class=\"markdown-heading\"><a name=\"60mokm\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"4zae6e\" class=\"markdown-heading\"><a name=\"4zae6e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.  UIFrame增加显示属性，方便显示隐藏</h2><ul>\n<li><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n</li><li><p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n</li><li><p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n</li><li><p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n</li></ul>\n<h2 id=\"8gf5rd\" class=\"markdown-heading\"><a name=\"8gf5rd\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.     场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>EffectManager</code></td>\n<td>特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</td>\n</tr>\n<tr>\n<td>EntityManager 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</td>\n<td></td>\n</tr>\n</tbody></table>\n<p class=\"line\">MovieManager 过场动画管理器，播放和管理过场动画</p>\n<p class=\"line\">BattleManager 战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</p>\n<p class=\"line\">PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</p>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"a8ugy8\" class=\"markdown-heading\"><a name=\"a8ugy8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"2uxigy\" class=\"markdown-heading\"><a name=\"2uxigy\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"d9owl8\" class=\"markdown-heading\"><a name=\"d9owl8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:41:12',2,1568792471,0),(113,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\n- C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\n- UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n- 模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等\n\n- UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。\n\n## 3.  UIFrame增加显示属性，方便显示隐藏\n\n- VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n- 没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n- 如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n- 如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.     场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\n| | |\n| -- | -- |\n| `EffectManager` | 特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题 |\n| `EntityManager` | 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便 |\n| `MovieManager` | 过场动画管理器，播放和管理过场动画 |\n| `BattleManager `| 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，|\n|PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"94g479\" class=\"markdown-heading\"><a name=\"94g479\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"accjlf\" class=\"markdown-heading\"><a name=\"accjlf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"5jo5qx\" class=\"markdown-heading\"><a name=\"5jo5qx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"7e49jf\" class=\"markdown-heading\"><a name=\"7e49jf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.  UIFrame增加显示属性，方便显示隐藏</h2><ul>\n<li><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n</li><li><p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n</li><li><p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n</li><li><p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n</li></ul>\n<h2 id=\"21bldh\" class=\"markdown-heading\"><a name=\"21bldh\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.     场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>EffectManager</code></td>\n<td>特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</td>\n</tr>\n<tr>\n<td><code>EntityManager</code></td>\n<td>实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</td>\n</tr>\n<tr>\n<td><code>MovieManager</code></td>\n<td>过场动画管理器，播放和管理过场动画</td>\n</tr>\n<tr>\n<td><code>BattleManager</code></td>\n<td>战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</td>\n</tr>\n<tr>\n<td>PathManager,TriggerManager 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</td>\n<td></td>\n</tr>\n</tbody></table>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"8f99yd\" class=\"markdown-heading\"><a name=\"8f99yd\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"axsmw1\" class=\"markdown-heading\"><a name=\"axsmw1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"6w3bfy\" class=\"markdown-heading\"><a name=\"6w3bfy\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:41:42',2,1568792501,0),(114,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\n- C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\n- UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n- 模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等\n\n- UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。\n\n## 3.  UIFrame增加显示属性，方便显示隐藏\n\n- VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n- 没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n- 如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n- 如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.     场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\n| 管理器 | 功能 |\n| -- | -- |\n| `EffectManager` | 特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题 |\n| `EntityManager` | 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便 |\n| `MovieManager` | 过场动画管理器，播放和管理过场动画 |\n| `BattleManager `| 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，|\n| `PathManager,TriggerManager` | 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理 |\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个&quot;\\_&quot;，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"6ktaq\" class=\"markdown-heading\"><a name=\"6ktaq\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"3khea0\" class=\"markdown-heading\"><a name=\"3khea0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"4dr4xn\" class=\"markdown-heading\"><a name=\"4dr4xn\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"3xa27l\" class=\"markdown-heading\"><a name=\"3xa27l\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.  UIFrame增加显示属性，方便显示隐藏</h2><ul>\n<li><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n</li><li><p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n</li><li><p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n</li><li><p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n</li></ul>\n<h2 id=\"dqn8om\" class=\"markdown-heading\"><a name=\"dqn8om\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.     场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<table>\n<thead>\n<tr>\n<th>管理器</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>EffectManager</code></td>\n<td>特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</td>\n</tr>\n<tr>\n<td><code>EntityManager</code></td>\n<td>实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</td>\n</tr>\n<tr>\n<td><code>MovieManager</code></td>\n<td>过场动画管理器，播放和管理过场动画</td>\n</tr>\n<tr>\n<td><code>BattleManager</code></td>\n<td>战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</td>\n</tr>\n<tr>\n<td><code>PathManager,TriggerManager</code></td>\n<td>路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</td>\n</tr>\n</tbody></table>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"5i336w\" class=\"markdown-heading\"><a name=\"5i336w\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个\"_\"，比如_name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"fo0jku\" class=\"markdown-heading\"><a name=\"fo0jku\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"dpy0y7\" class=\"markdown-heading\"><a name=\"dpy0y7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:42:12',2,1568792531,0),(115,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\n- C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\n- UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n- 模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等\n\n- UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。\n\n## 3.  UIFrame增加显示属性，方便显示隐藏\n\n- VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n- 没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n- 如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n- 如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.     场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\n| 管理器 | 功能 |\n| -- | -- |\n| `EffectManager` | 特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题 |\n| `EntityManager` | 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便 |\n| `MovieManager` | 过场动画管理器，播放和管理过场动画 |\n| `BattleManager `| 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，|\n| `PathManager,TriggerManager` | 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理 |\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个“_”，比如\\_name\n\nmain\\_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero\\_entry.xml和entity\\_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"2kp6qs\" class=\"markdown-heading\"><a name=\"2kp6qs\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"1whwdb\" class=\"markdown-heading\"><a name=\"1whwdb\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"er9tlq\" class=\"markdown-heading\"><a name=\"er9tlq\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"8uk6vb\" class=\"markdown-heading\"><a name=\"8uk6vb\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.  UIFrame增加显示属性，方便显示隐藏</h2><ul>\n<li><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n</li><li><p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n</li><li><p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n</li><li><p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n</li></ul>\n<h2 id=\"3nxl3f\" class=\"markdown-heading\"><a name=\"3nxl3f\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.     场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<table>\n<thead>\n<tr>\n<th>管理器</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>EffectManager</code></td>\n<td>特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</td>\n</tr>\n<tr>\n<td><code>EntityManager</code></td>\n<td>实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</td>\n</tr>\n<tr>\n<td><code>MovieManager</code></td>\n<td>过场动画管理器，播放和管理过场动画</td>\n</tr>\n<tr>\n<td><code>BattleManager</code></td>\n<td>战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</td>\n</tr>\n<tr>\n<td><code>PathManager,TriggerManager</code></td>\n<td>路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</td>\n</tr>\n</tbody></table>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"1xj24l\" class=\"markdown-heading\"><a name=\"1xj24l\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个“<em>”，比如\\</em>name</p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"bbdqg1\" class=\"markdown-heading\"><a name=\"bbdqg1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"75rfhv\" class=\"markdown-heading\"><a name=\"75rfhv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:42:42',2,1568792561,0),(116,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\n- C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\n- UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n- 模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等\n\n- UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。\n\n## 3.  UIFrame增加显示属性，方便显示隐藏\n\n- VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n- 没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n- 如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n- 如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.     场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\n| 管理器 | 功能 |\n| -- | -- |\n| `EffectManager` | 特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题 |\n| `EntityManager` | 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便 |\n| `MovieManager` | 过场动画管理器，播放和管理过场动画 |\n| `BattleManager `| 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，|\n| `PathManager,TriggerManager` | 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理 |\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个`_`，比如`_name`\n\nmain_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为\n\n{ path = \\_S.PATH\\_GLOBAL,    name = &quot;hero\\_entry.xml&quot;,     sub = &quot;entity\\_entry.xml&quot; },\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"9skm9m\" class=\"markdown-heading\"><a name=\"9skm9m\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"1wowsw\" class=\"markdown-heading\"><a name=\"1wowsw\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"1tcr6i\" class=\"markdown-heading\"><a name=\"1tcr6i\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"5yqdq9\" class=\"markdown-heading\"><a name=\"5yqdq9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.  UIFrame增加显示属性，方便显示隐藏</h2><ul>\n<li><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n</li><li><p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n</li><li><p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n</li><li><p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n</li></ul>\n<h2 id=\"8w93gh\" class=\"markdown-heading\"><a name=\"8w93gh\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.     场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<table>\n<thead>\n<tr>\n<th>管理器</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>EffectManager</code></td>\n<td>特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</td>\n</tr>\n<tr>\n<td><code>EntityManager</code></td>\n<td>实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</td>\n</tr>\n<tr>\n<td><code>MovieManager</code></td>\n<td>过场动画管理器，播放和管理过场动画</td>\n</tr>\n<tr>\n<td><code>BattleManager</code></td>\n<td>战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</td>\n</tr>\n<tr>\n<td><code>PathManager,TriggerManager</code></td>\n<td>路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</td>\n</tr>\n</tbody></table>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"q0ygj\" class=\"markdown-heading\"><a name=\"q0ygj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个<code>_</code>，比如<code>_name</code></p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<p class=\"line\">{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },</p>\n<p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"almfi0\" class=\"markdown-heading\"><a name=\"almfi0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"eocqq2\" class=\"markdown-heading\"><a name=\"eocqq2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:43:12',2,1568792591,0),(117,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\n- C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\n- UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n- 模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等\n\n- UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。\n\n## 3.  UIFrame增加显示属性，方便显示隐藏\n\n- VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n- 没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n- 如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n- 如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.     场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\n| 管理器 | 功能 |\n| -- | -- |\n| `EffectManager` | 特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题 |\n| `EntityManager` | 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便 |\n| `MovieManager` | 过场动画管理器，播放和管理过场动画 |\n| `BattleManager `| 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，|\n| `PathManager,TriggerManager` | 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理 |\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个`_`，比如`_name`\n\nmain_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为\n\n```\n{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = &quot;entity\\_entry.xml&quot; },\n```\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\nsub = &quot;entity\\_entry.xml,monster\\_entry.xml&quot;\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"2z9j1u\" class=\"markdown-heading\"><a name=\"2z9j1u\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"b32ij3\" class=\"markdown-heading\"><a name=\"b32ij3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"9lb6o2\" class=\"markdown-heading\"><a name=\"9lb6o2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"8pfhpo\" class=\"markdown-heading\"><a name=\"8pfhpo\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.  UIFrame增加显示属性，方便显示隐藏</h2><ul>\n<li><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n</li><li><p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n</li><li><p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n</li><li><p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n</li></ul>\n<h2 id=\"8biuec\" class=\"markdown-heading\"><a name=\"8biuec\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.     场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<table>\n<thead>\n<tr>\n<th>管理器</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>EffectManager</code></td>\n<td>特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</td>\n</tr>\n<tr>\n<td><code>EntityManager</code></td>\n<td>实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</td>\n</tr>\n<tr>\n<td><code>MovieManager</code></td>\n<td>过场动画管理器，播放和管理过场动画</td>\n</tr>\n<tr>\n<td><code>BattleManager</code></td>\n<td>战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</td>\n</tr>\n<tr>\n<td><code>PathManager,TriggerManager</code></td>\n<td>路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</td>\n</tr>\n</tbody></table>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"ad4g2r\" class=\"markdown-heading\"><a name=\"ad4g2r\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个<code>_</code>，比如<code>_name</code></p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<pre class=\"hljs perl\"><code>{ path = _S.PATH_GLOBAL,    name = <span class=\"hljs-string\">\"hero_entry.xml\"</span>,     <span class=\"hljs-function\"><span class=\"hljs-keyword\">sub</span> = &amp;<span class=\"hljs-title\">quot</span></span>;entity\\_entry.xml&amp;quot; },</code></pre><p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<p class=\"line\">sub = \"entity_entry.xml,monster_entry.xml\"</p>\n<h2 id=\"5u2fjl\" class=\"markdown-heading\"><a name=\"5u2fjl\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"ev31qq\" class=\"markdown-heading\"><a name=\"ev31qq\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:43:42',2,1568792621,0),(118,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\n- C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\n- UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n- 模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等\n\n- UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。\n\n## 3.  UIFrame增加显示属性，方便显示隐藏\n\n- VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n- 没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n- 如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n- 如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.     场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\n| 管理器 | 功能 |\n| -- | -- |\n| `EffectManager` | 特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题 |\n| `EntityManager` | 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便 |\n| `MovieManager` | 过场动画管理器，播放和管理过场动画 |\n| `BattleManager `| 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，|\n| `PathManager,TriggerManager` | 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理 |\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个`_`，比如`_name`\n\nmain_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为\n\n```\n{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },\n```\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\n```\nsub = \"entity_entry.xml,monster_entry.xml&quot;\n```\n\n## 6.                修改刷新机制\n\nUIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\nRegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"8q9tvm\" class=\"markdown-heading\"><a name=\"8q9tvm\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"eneg9h\" class=\"markdown-heading\"><a name=\"eneg9h\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"bezuua\" class=\"markdown-heading\"><a name=\"bezuua\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"51r1gx\" class=\"markdown-heading\"><a name=\"51r1gx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.  UIFrame增加显示属性，方便显示隐藏</h2><ul>\n<li><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n</li><li><p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n</li><li><p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n</li><li><p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n</li></ul>\n<h2 id=\"9blb2s\" class=\"markdown-heading\"><a name=\"9blb2s\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.     场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<table>\n<thead>\n<tr>\n<th>管理器</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>EffectManager</code></td>\n<td>特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</td>\n</tr>\n<tr>\n<td><code>EntityManager</code></td>\n<td>实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</td>\n</tr>\n<tr>\n<td><code>MovieManager</code></td>\n<td>过场动画管理器，播放和管理过场动画</td>\n</tr>\n<tr>\n<td><code>BattleManager</code></td>\n<td>战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</td>\n</tr>\n<tr>\n<td><code>PathManager,TriggerManager</code></td>\n<td>路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</td>\n</tr>\n</tbody></table>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"6c8mch\" class=\"markdown-heading\"><a name=\"6c8mch\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个<code>_</code>，比如<code>_name</code></p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<pre class=\"hljs bash\"><code>{ path = _S.PATH_GLOBAL,    name = <span class=\"hljs-string\">\"hero_entry.xml\"</span>,     sub = <span class=\"hljs-string\">\"entity_entry.xml\"</span> },</code></pre><p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<pre class=\"hljs perl\"><code><span class=\"hljs-function\"><span class=\"hljs-keyword\">sub</span> = \"<span class=\"hljs-title\">entity_entry</span>.<span class=\"hljs-title\">xml</span>,<span class=\"hljs-title\">monster_entry</span>.<span class=\"hljs-title\">xml</span>&amp;<span class=\"hljs-title\">quot</span></span>;</code></pre><h2 id=\"fvm5ea\" class=\"markdown-heading\"><a name=\"fvm5ea\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n<p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n<p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"1r1dkv\" class=\"markdown-heading\"><a name=\"1r1dkv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:44:12',2,1568792651,0),(119,'modify','修改文档',22,'魔力2项目客户端修改汇总',0,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\n- C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\n- UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n- 模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等\n\n- UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。\n\n## 3.  UIFrame增加显示属性，方便显示隐藏\n\n- VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n- 没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n- 如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n- 如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.     场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\n| 管理器 | 功能 |\n| -- | -- |\n| `EffectManager` | 特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题 |\n| `EntityManager` | 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便 |\n| `MovieManager` | 过场动画管理器，播放和管理过场动画 |\n| `BattleManager `| 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，|\n| `PathManager,TriggerManager` | 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理 |\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个`_`，比如`_name`\n\nmain_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为\n\n```\n{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },\n```\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\n```\nsub = \"entity_entry.xml,monster_entry.xml\"\n```\n\n## 6.                修改刷新机制\n\n- UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n- 当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\n- RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\nUIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\nUnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<h1 id=\"54zpfz\" class=\"markdown-heading\"><a name=\"54zpfz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"dmzvok\" class=\"markdown-heading\"><a name=\"dmzvok\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"fhnk12\" class=\"markdown-heading\"><a name=\"fhnk12\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"a6hqjx\" class=\"markdown-heading\"><a name=\"a6hqjx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.  UIFrame增加显示属性，方便显示隐藏</h2><ul>\n<li><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n</li><li><p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n</li><li><p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n</li><li><p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n</li></ul>\n<h2 id=\"c9zpbn\" class=\"markdown-heading\"><a name=\"c9zpbn\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.     场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<table>\n<thead>\n<tr>\n<th>管理器</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>EffectManager</code></td>\n<td>特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</td>\n</tr>\n<tr>\n<td><code>EntityManager</code></td>\n<td>实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</td>\n</tr>\n<tr>\n<td><code>MovieManager</code></td>\n<td>过场动画管理器，播放和管理过场动画</td>\n</tr>\n<tr>\n<td><code>BattleManager</code></td>\n<td>战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</td>\n</tr>\n<tr>\n<td><code>PathManager,TriggerManager</code></td>\n<td>路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</td>\n</tr>\n</tbody></table>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"9e4pxf\" class=\"markdown-heading\"><a name=\"9e4pxf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个<code>_</code>，比如<code>_name</code></p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<pre class=\"hljs bash\"><code>{ path = _S.PATH_GLOBAL,    name = <span class=\"hljs-string\">\"hero_entry.xml\"</span>,     sub = <span class=\"hljs-string\">\"entity_entry.xml\"</span> },</code></pre><p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<pre class=\"hljs ini\"><code><span class=\"hljs-attr\">sub</span> = <span class=\"hljs-string\">\"entity_entry.xml,monster_entry.xml\"</span></code></pre><h2 id=\"9b5z5n\" class=\"markdown-heading\"><a name=\"9b5z5n\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><ul>\n<li><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n</li><li><p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n</li><li><p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n</li></ul>\n<p class=\"line\">直接设置UIFrame刷新</p>\n<h2 id=\"5gl03g\" class=\"markdown-heading\"><a name=\"5gl03g\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n<p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n<p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n',2,'2019-09-18 15:44:42',2,1568792681,0),(120,'modify','修改文档',23,'魔力2项目控件通用模块说明',0,'','',2,'2019-09-18 15:47:12',2,1568792831,0),(121,'modify','修改文档',23,'魔力2项目控件通用模块说明',0,'# 魔力2项目控件通用模块说明\n\n| \nwnd_list\n控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件\n\nwnd_bag\n控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建\n如果有行数固定列数不固定的需要扩展\n\nwnd_icon\n带品质框的图标控件，支持传入图标文件和品质框文件显示图片\n\nwnd_text\n普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等\n\nwnd_text_misc\n显示转移符的文字，会根据控件类型来判断判断转义文字\n默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色\n\nwnd_model\n显示模型通用控件，可以传入模型id和类型来显示模型\n类型是指在display_model表中会有一些动作，位置，摄像机等信息，\n比如prepare_anim=\"\"，然后类型就是prepare\n\nwnd_number\n显示数量，可以显示最大值\n可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示\n调用时如果传入最大值和最小值，则需要计算数值不使其越界\n\nwnd_att_value\n显示属性，输入属性类型，值，和附加值，根据控件配置显示属性','<h1 id=\"3z9zy1\" class=\"markdown-heading\"><a name=\"3z9zy1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目控件通用模块说明</h1><p class=\"line\">|<br>wnd_list<br>控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件</p>\n<p class=\"line\">wnd_bag<br>控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建<br>如果有行数固定列数不固定的需要扩展</p>\n<p class=\"line\">wnd_icon<br>带品质框的图标控件，支持传入图标文件和品质框文件显示图片</p>\n<p class=\"line\">wnd_text<br>普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等</p>\n<p class=\"line\">wnd_text_misc<br>显示转移符的文字，会根据控件类型来判断判断转义文字<br>默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色</p>\n<p class=\"line\">wnd_model<br>显示模型通用控件，可以传入模型id和类型来显示模型<br>类型是指在display_model表中会有一些动作，位置，摄像机等信息，<br>比如prepare_anim=””，然后类型就是prepare</p>\n<p class=\"line\">wnd_number<br>显示数量，可以显示最大值<br>可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示<br>调用时如果传入最大值和最小值，则需要计算数值不使其越界</p>\n<p class=\"line\">wnd_att_value<br>显示属性，输入属性类型，值，和附加值，根据控件配置显示属性</p>\n',2,'2019-09-18 15:47:42',2,1568792861,0),(122,'modify','修改文档',23,'魔力2项目控件通用模块说明',0,'# 魔力2项目控件通用模块说明\n\n| 模块 | 功能 |\n| -- | -- |\n| `wnd_list` |控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件\n\nwnd_bag\n控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建\n如果有行数固定列数不固定的需要扩展\n\nwnd_icon\n带品质框的图标控件，支持传入图标文件和品质框文件显示图片\n\nwnd_text\n普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等\n\nwnd_text_misc\n显示转移符的文字，会根据控件类型来判断判断转义文字\n默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色\n\nwnd_model\n显示模型通用控件，可以传入模型id和类型来显示模型\n类型是指在display_model表中会有一些动作，位置，摄像机等信息，\n比如prepare_anim=\"\"，然后类型就是prepare\n\nwnd_number\n显示数量，可以显示最大值\n可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示\n调用时如果传入最大值和最小值，则需要计算数值不使其越界\n\nwnd_att_value\n显示属性，输入属性类型，值，和附加值，根据控件配置显示属性','<h1 id=\"2frnx7\" class=\"markdown-heading\"><a name=\"2frnx7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目控件通用模块说明</h1><table>\n<thead>\n<tr>\n<th>模块</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>wnd_list</code></td>\n<td></td>\n</tr>\n<tr>\n<td>控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件</td>\n<td></td>\n</tr>\n</tbody></table>\n<p class=\"line\">wnd_bag<br>控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建<br>如果有行数固定列数不固定的需要扩展</p>\n<p class=\"line\">wnd_icon<br>带品质框的图标控件，支持传入图标文件和品质框文件显示图片</p>\n<p class=\"line\">wnd_text<br>普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等</p>\n<p class=\"line\">wnd_text_misc<br>显示转移符的文字，会根据控件类型来判断判断转义文字<br>默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色</p>\n<p class=\"line\">wnd_model<br>显示模型通用控件，可以传入模型id和类型来显示模型<br>类型是指在display_model表中会有一些动作，位置，摄像机等信息，<br>比如prepare_anim=””，然后类型就是prepare</p>\n<p class=\"line\">wnd_number<br>显示数量，可以显示最大值<br>可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示<br>调用时如果传入最大值和最小值，则需要计算数值不使其越界</p>\n<p class=\"line\">wnd_att_value<br>显示属性，输入属性类型，值，和附加值，根据控件配置显示属性</p>\n',2,'2019-09-18 15:48:12',2,1568792891,0),(123,'modify','修改文档',23,'魔力2项目控件通用模块说明',0,'# 魔力2项目控件通用模块说明\n\n| 模块 | 功能 |\n| -- | -- |\n| `wnd_list` | 控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件 |\n| `wnd_bag` | 控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建, 如果有行数固定列数不固定的需要扩展 |\nwnd_icon\n带品质框的图标控件，支持传入图标文件和品质框文件显示图片\n\nwnd_text\n普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等\n\nwnd_text_misc\n显示转移符的文字，会根据控件类型来判断判断转义文字\n默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色\n\nwnd_model\n显示模型通用控件，可以传入模型id和类型来显示模型\n类型是指在display_model表中会有一些动作，位置，摄像机等信息，\n比如prepare_anim=\"\"，然后类型就是prepare\n\nwnd_number\n显示数量，可以显示最大值\n可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示\n调用时如果传入最大值和最小值，则需要计算数值不使其越界\n\nwnd_att_value\n显示属性，输入属性类型，值，和附加值，根据控件配置显示属性','<h1 id=\"fwsqxt\" class=\"markdown-heading\"><a name=\"fwsqxt\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目控件通用模块说明</h1><table>\n<thead>\n<tr>\n<th>模块</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>wnd_list</code></td>\n<td>控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件</td>\n</tr>\n<tr>\n<td><code>wnd_bag</code></td>\n<td>控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建, 如果有行数固定列数不固定的需要扩展</td>\n</tr>\n<tr>\n<td>wnd_icon</td>\n<td></td>\n</tr>\n<tr>\n<td>带品质框的图标控件，支持传入图标文件和品质框文件显示图片</td>\n<td></td>\n</tr>\n</tbody></table>\n<p class=\"line\">wnd_text<br>普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等</p>\n<p class=\"line\">wnd_text_misc<br>显示转移符的文字，会根据控件类型来判断判断转义文字<br>默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色</p>\n<p class=\"line\">wnd_model<br>显示模型通用控件，可以传入模型id和类型来显示模型<br>类型是指在display_model表中会有一些动作，位置，摄像机等信息，<br>比如prepare_anim=””，然后类型就是prepare</p>\n<p class=\"line\">wnd_number<br>显示数量，可以显示最大值<br>可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示<br>调用时如果传入最大值和最小值，则需要计算数值不使其越界</p>\n<p class=\"line\">wnd_att_value<br>显示属性，输入属性类型，值，和附加值，根据控件配置显示属性</p>\n',2,'2019-09-18 15:48:42',2,1568792921,0),(124,'modify','修改文档',23,'魔力2项目控件通用模块说明',0,'# 魔力2项目控件通用模块说明\n\n| 模块 | 功能 |\n| -- | -- |\n| `wnd_list` | 控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件 |\n| `wnd_bag` | 控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建, 如果有行数固定列数不固定的需要扩展 |\n| `wnd_icon` | 带品质框的图标控件，支持传入图标文件和品质框文件显示图片 |\n| `wnd_text` | 普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等 |\n| `wnd_text_misc\n显示转移符的文字，会根据控件类型来判断判断转义文字\n默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色\n\nwnd_model\n显示模型通用控件，可以传入模型id和类型来显示模型\n类型是指在display_model表中会有一些动作，位置，摄像机等信息，\n比如prepare_anim=\"\"，然后类型就是prepare\n\nwnd_number\n显示数量，可以显示最大值\n可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示\n调用时如果传入最大值和最小值，则需要计算数值不使其越界\n\nwnd_att_value\n显示属性，输入属性类型，值，和附加值，根据控件配置显示属性','<h1 id=\"3zso3k\" class=\"markdown-heading\"><a name=\"3zso3k\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目控件通用模块说明</h1><table>\n<thead>\n<tr>\n<th>模块</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>wnd_list</code></td>\n<td>控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件</td>\n</tr>\n<tr>\n<td><code>wnd_bag</code></td>\n<td>控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建, 如果有行数固定列数不固定的需要扩展</td>\n</tr>\n<tr>\n<td><code>wnd_icon</code></td>\n<td>带品质框的图标控件，支持传入图标文件和品质框文件显示图片</td>\n</tr>\n<tr>\n<td><code>wnd_text</code></td>\n<td>普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等</td>\n</tr>\n<tr>\n<td>`wnd_text_misc</td>\n<td></td>\n</tr>\n<tr>\n<td>显示转移符的文字，会根据控件类型来判断判断转义文字</td>\n<td></td>\n</tr>\n<tr>\n<td>默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色</td>\n<td></td>\n</tr>\n</tbody></table>\n<p class=\"line\">wnd_model<br>显示模型通用控件，可以传入模型id和类型来显示模型<br>类型是指在display_model表中会有一些动作，位置，摄像机等信息，<br>比如prepare_anim=””，然后类型就是prepare</p>\n<p class=\"line\">wnd_number<br>显示数量，可以显示最大值<br>可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示<br>调用时如果传入最大值和最小值，则需要计算数值不使其越界</p>\n<p class=\"line\">wnd_att_value<br>显示属性，输入属性类型，值，和附加值，根据控件配置显示属性</p>\n',2,'2019-09-18 15:49:12',2,1568792951,0),(125,'modify','修改文档',23,'魔力2项目控件通用模块说明',0,'# 魔力2项目控件通用模块说明\n\n| 模块 | 功能 |\n| -- | -- |\n| `wnd_list` | 控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件 |\n| `wnd_bag` | 控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建, 如果有行数固定列数不固定的需要扩展 |\n| `wnd_icon` | 带品质框的图标控件，支持传入图标文件和品质框文件显示图片 |\n| `wnd_text` | 普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等 |\n| `wnd_text_misc` | 显示转移符的文字，会根据控件类型来判断判断转义文字, 默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色 |\n| `wnd_model` \n显示模型通用控件，可以传入模型id和类型来显示模型\n类型是指在display_model表中会有一些动作，位置，摄像机等信息，\n比如prepare_anim=\"\"，然后类型就是prepare\n\nwnd_number\n显示数量，可以显示最大值\n可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示\n调用时如果传入最大值和最小值，则需要计算数值不使其越界\n\nwnd_att_value\n显示属性，输入属性类型，值，和附加值，根据控件配置显示属性','<h1 id=\"2vdmqq\" class=\"markdown-heading\"><a name=\"2vdmqq\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目控件通用模块说明</h1><table>\n<thead>\n<tr>\n<th>模块</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>wnd_list</code></td>\n<td>控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件</td>\n</tr>\n<tr>\n<td><code>wnd_bag</code></td>\n<td>控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建, 如果有行数固定列数不固定的需要扩展</td>\n</tr>\n<tr>\n<td><code>wnd_icon</code></td>\n<td>带品质框的图标控件，支持传入图标文件和品质框文件显示图片</td>\n</tr>\n<tr>\n<td><code>wnd_text</code></td>\n<td>普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等</td>\n</tr>\n<tr>\n<td><code>wnd_text_misc</code></td>\n<td>显示转移符的文字，会根据控件类型来判断判断转义文字, 默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色</td>\n</tr>\n<tr>\n<td>`wnd_model</td>\n<td></td>\n</tr>\n<tr>\n<td>显示模型通用控件，可以传入模型id和类型来显示模型</td>\n<td></td>\n</tr>\n<tr>\n<td>类型是指在display_model表中会有一些动作，位置，摄像机等信息，</td>\n<td></td>\n</tr>\n<tr>\n<td>比如prepare_anim=””，然后类型就是prepare</td>\n<td></td>\n</tr>\n</tbody></table>\n<p class=\"line\">wnd_number<br>显示数量，可以显示最大值<br>可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示<br>调用时如果传入最大值和最小值，则需要计算数值不使其越界</p>\n<p class=\"line\">wnd_att_value<br>显示属性，输入属性类型，值，和附加值，根据控件配置显示属性</p>\n',2,'2019-09-18 15:49:42',2,1568792981,0),(126,'modify','修改文档',23,'魔力2项目控件通用模块说明',0,'# 魔力2项目控件通用模块说明\n\n| 模块 | 功能 |\n| -- | -- |\n| `wnd_list` | 控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件 |\n| `wnd_bag` | 控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建, 如果有行数固定列数不固定的需要扩展 |\n| `wnd_icon` | 带品质框的图标控件，支持传入图标文件和品质框文件显示图片 |\n| `wnd_text` | 普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等 |\n| `wnd_text_misc` | 显示转移符的文字，会根据控件类型来判断判断转义文字, 默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色 |\n| `wnd_model` | 显示模型通用控件，可以传入模型id和类型来显示模型, 类型是指在display_model表中会有一些动作，位置，摄像机等信息，比如prepare_anim=\"\"，然后类型就是prepare |\n| `wnd_number` | 显示数量，可以显示最大值, 可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示调用时如果传入最大值和最小值，则需要计算数值不使其越界\n\nwnd_att_value\n显示属性，输入属性类型，值，和附加值，根据控件配置显示属性','<h1 id=\"9ct7q6\" class=\"markdown-heading\"><a name=\"9ct7q6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目控件通用模块说明</h1><table>\n<thead>\n<tr>\n<th>模块</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>wnd_list</code></td>\n<td>控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件</td>\n</tr>\n<tr>\n<td><code>wnd_bag</code></td>\n<td>控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建, 如果有行数固定列数不固定的需要扩展</td>\n</tr>\n<tr>\n<td><code>wnd_icon</code></td>\n<td>带品质框的图标控件，支持传入图标文件和品质框文件显示图片</td>\n</tr>\n<tr>\n<td><code>wnd_text</code></td>\n<td>普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等</td>\n</tr>\n<tr>\n<td><code>wnd_text_misc</code></td>\n<td>显示转移符的文字，会根据控件类型来判断判断转义文字, 默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色</td>\n</tr>\n<tr>\n<td><code>wnd_model</code></td>\n<td>显示模型通用控件，可以传入模型id和类型来显示模型, 类型是指在display_model表中会有一些动作，位置，摄像机等信息，比如prepare_anim=””，然后类型就是prepare</td>\n</tr>\n<tr>\n<td><code>wnd_number</code></td>\n<td>显示数量，可以显示最大值, 可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示调用时如果传入最大值和最小值，则需要计算数值不使其越界</td>\n</tr>\n</tbody></table>\n<p class=\"line\">wnd_att_value<br>显示属性，输入属性类型，值，和附加值，根据控件配置显示属性</p>\n',2,'2019-09-18 15:50:02',2,1568793001,0),(127,'modify','修改文档',25,'常用gm命令',0,'','',2,'2019-09-20 14:13:11',2,1568959990,0),(128,'modify','修改文档',26,'翻译包制作流程',0,'','',2,'2019-09-20 14:41:03',2,1568961663,0);
/*!40000 ALTER TABLE `amazing_document_history` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_documents`
--

DROP TABLE IF EXISTS `amazing_documents`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_documents` (
  `document_id` int(11) NOT NULL AUTO_INCREMENT,
  `document_name` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `identify` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT 'null',
  `book_id` int(11) NOT NULL DEFAULT '0',
  `parent_id` int(11) NOT NULL DEFAULT '0',
  `order_sort` int(11) NOT NULL DEFAULT '0',
  `markdown` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  `release` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  `content` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  `create_time` datetime NOT NULL,
  `member_id` int(11) NOT NULL DEFAULT '0',
  `modify_time` datetime NOT NULL,
  `modify_at` int(11) NOT NULL DEFAULT '0',
  `version` bigint(20) NOT NULL DEFAULT '0',
  `is_open` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`document_id`),
  UNIQUE KEY `book_id` (`book_id`,`identify`),
  KEY `amazing_documents_identify` (`identify`),
  KEY `amazing_documents_book_id` (`book_id`),
  KEY `amazing_documents_parent_id` (`parent_id`),
  KEY `amazing_documents_order_sort` (`order_sort`)
) ENGINE=InnoDB AUTO_INCREMENT=27 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_documents`
--

LOCK TABLES `amazing_documents` WRITE;
/*!40000 ALTER TABLE `amazing_documents` DISABLE KEYS */;
INSERT INTO `amazing_documents` VALUES (3,'程序','fengshen-1bh6p9pdk88v0',2,0,2,'','','','2019-09-16 15:05:01',2,'2019-09-17 18:46:44',0,1568617500,2),(5,'自动更新详解','fengshen-1bh6pak6itkfo',2,3,1,'## **自动更新机制** ##\n\n- 苹果和安卓的沙盒机制：苹果和安卓在安装APP的时候，会建立一个APP对应的目录，在非越狱或者非ROOT的情况下，APP只能访问此目录，不能访问到别的APP所在目录\n\n- 此目录下一部分子目录只读不可以写，一部分可读可写，APP的整包会安装在不可写目录(IOS称之为Bundle目录)，所以应用一旦安装，APP自己就不可更改里面的内容，除非用户使用操作系统去删除或者更新它\n\n- 自动更新的基本机制是在APP目录中的可写子目录里(IOS称之为Document目录)下载最新的需要更新的文件，然后打成一个EPK放到laucher目录(此目录也在可写目录下,即launcher目录在Document目录下)\n\n- 游戏启动后，访问任何文件优先访问Document\\launcher目录下这个epk,如果此epk包里面没有需要访问的文件，再去读取APP整包(Bundle目录)中的EPK\n\n\n\n## **自动更新主体流程** ##\n\n1. 尝试在APP可写目录下(Document)创建launcher目录(如果目录已经存在会自动忽略)\n2. 尝试删除Document\\launcher目录下remote_version.ini,server.ini,notice.ini三个文件\n3. 从更新服务器上下载上述三个文件到Document\\launcher目录\n4. 进入 版本比对流程,参考下面版本比对流程\n5. 如果版本已经是最新直接进入游戏\n6. 如果上述ini文件读取失败，重新进入2号步骤\n7. 如果需要整包更新，直接退出自动更新，进入登录界面，在登录界面会先连接平台，让平台处理整包更新，如果平台处理不了，登录界面会走自己的更新流程，例如跳转和APK下载安装\n8. 如果版本号不匹配，会往下开始自动更新\n9. 在launcher目录下创建最新版本号匹配的目录，例如最新版本号是1.0.8.1，则在launcher目录下创建1.0.8.1目录，以下用此版本举例\n10. 将更新服务器的EPK的头部下载到Document\\launcher\\1.0.8.1\\table.pos(32字节大小)\n11. 根据table.pos文件内的信息下载EPK的table(文件表信息)到launcher\\1.0.8.1\\table.dat(此文件大小=更新服务器EPK中所含文件数*40字节)\n12. 用这个刚下载的table.dat去比对Document\\launcher\\data0.epk和Bundle\\data0.epk的表，检查哪些文件是这个两个epk中没有的，或者MD5不一样的，由此生成一个需要下载的文件清单\n13. 根据此清单从服务器的EPK中多线程下载每个文件(这些文件都是已经用LZO算法压缩过的），每个线程在下载完后会比对MD5，如果下载文件的MD5与table.pos文件中记录的MD5不一样，则会重新下载这个文件\n14. 文件全部下载完后，会将这些文件跟Document\\launcher\\data0.epk中的文件合并重新打成一个epk放入Document\\launcher\\1.0.8.1\\\n15. 删除Document\\launcher\\data0.epk\n16. 将Document\\launcher\\1.0.8.1\\data0.epk拷贝到Document\\launcher\\\n17. 将Document\\launcher\\version.ini中的游戏版本号更新到最新\n18. 删除Document\\launcher\\1.0.8.1\\下所有文件\n19. 进入游戏(登录界面)\n\n\n\n## **版本比对流程** ##\n1. 先检查Document\\launcher\\version.ini是否存在，如果不存在，读取整包(Bundle)目录下config\\version.ini中的game_version,并跳到步骤4\n2. 读取整包(Bundle)目录下config\\version.ini,检查config\\version.ini中game_version是否等于launcher\\version.ini中的inner_version\n3. 如果不相等，删除launcher\\data0.epk,并将config\\version.ini中game_version写入到launcher\\version.ini中的inner_version和game_version\n4. 检查下载的launcher\\remote_version.ini中的game_version,与launcher\\version.ini中的game_version比对，看是否需要更新\n\n\n>[info] 解释：步骤2和3目的：如果原先记录的整包版本号和目前实际整包版本号不一致，说明用户通过AppStore更新了新的版本的整包，这种情况需要清除launcher下的所有信息，以新整包的版本重新更新','<article class=\"markdown-article-inner\"><h2 id=\"68w5ep\" class=\"markdown-heading\"><a name=\"68w5ep\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>自动更新机制</strong></h2><ul>\n<li><p class=\"line\">苹果和安卓的沙盒机制：苹果和安卓在安装APP的时候，会建立一个APP对应的目录，在非越狱或者非ROOT的情况下，APP只能访问此目录，不能访问到别的APP所在目录</p>\n</li><li><p class=\"line\">此目录下一部分子目录只读不可以写，一部分可读可写，APP的整包会安装在不可写目录(IOS称之为Bundle目录)，所以应用一旦安装，APP自己就不可更改里面的内容，除非用户使用操作系统去删除或者更新它</p>\n</li><li><p class=\"line\">自动更新的基本机制是在APP目录中的可写子目录里(IOS称之为Document目录)下载最新的需要更新的文件，然后打成一个EPK放到laucher目录(此目录也在可写目录下,即launcher目录在Document目录下)</p>\n</li><li><p class=\"line\">游戏启动后，访问任何文件优先访问Document\\launcher目录下这个epk,如果此epk包里面没有需要访问的文件，再去读取APP整包(Bundle目录)中的EPK</p>\n</li></ul>\n<h2 id=\"8qmq4b\" class=\"markdown-heading\"><a name=\"8qmq4b\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>自动更新主体流程</strong></h2><ol>\n<li>尝试在APP可写目录下(Document)创建launcher目录(如果目录已经存在会自动忽略)</li><li>尝试删除Document\\launcher目录下remote_version.ini,server.ini,notice.ini三个文件</li><li>从更新服务器上下载上述三个文件到Document\\launcher目录</li><li>进入 版本比对流程,参考下面版本比对流程</li><li>如果版本已经是最新直接进入游戏</li><li>如果上述ini文件读取失败，重新进入2号步骤</li><li>如果需要整包更新，直接退出自动更新，进入登录界面，在登录界面会先连接平台，让平台处理整包更新，如果平台处理不了，登录界面会走自己的更新流程，例如跳转和APK下载安装</li><li>如果版本号不匹配，会往下开始自动更新</li><li>在launcher目录下创建最新版本号匹配的目录，例如最新版本号是1.0.8.1，则在launcher目录下创建1.0.8.1目录，以下用此版本举例</li><li>将更新服务器的EPK的头部下载到Document\\launcher\\1.0.8.1\\table.pos(32字节大小)</li><li>根据table.pos文件内的信息下载EPK的table(文件表信息)到launcher\\1.0.8.1\\table.dat(此文件大小=更新服务器EPK中所含文件数*40字节)</li><li>用这个刚下载的table.dat去比对Document\\launcher\\data0.epk和Bundle\\data0.epk的表，检查哪些文件是这个两个epk中没有的，或者MD5不一样的，由此生成一个需要下载的文件清单</li><li>根据此清单从服务器的EPK中多线程下载每个文件(这些文件都是已经用LZO算法压缩过的），每个线程在下载完后会比对MD5，如果下载文件的MD5与table.pos文件中记录的MD5不一样，则会重新下载这个文件</li><li>文件全部下载完后，会将这些文件跟Document\\launcher\\data0.epk中的文件合并重新打成一个epk放入Document\\launcher\\1.0.8.1\\</li><li>删除Document\\launcher\\data0.epk</li><li>将Document\\launcher\\1.0.8.1\\data0.epk拷贝到Document\\launcher\\</li><li>将Document\\launcher\\version.ini中的游戏版本号更新到最新</li><li>删除Document\\launcher\\1.0.8.1\\下所有文件</li><li>进入游戏(登录界面)</li></ol>\n<h2 id=\"384rmi\" class=\"markdown-heading\"><a name=\"384rmi\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>版本比对流程</strong></h2><ol>\n<li>先检查Document\\launcher\\version.ini是否存在，如果不存在，读取整包(Bundle)目录下config\\version.ini中的game_version,并跳到步骤4</li><li>读取整包(Bundle)目录下config\\version.ini,检查config\\version.ini中game_version是否等于launcher\\version.ini中的inner_version</li><li>如果不相等，删除launcher\\data0.epk,并将config\\version.ini中game_version写入到launcher\\version.ini中的inner_version和game_version</li><li>检查下载的launcher\\remote_version.ini中的game_version,与launcher\\version.ini中的game_version比对，看是否需要更新</li></ol>\n<blockquote class=\"info\">\n<p class=\"line\"> 解释：步骤2和3目的：如果原先记录的整包版本号和目前实际整包版本号不一致，说明用户通过AppStore更新了新的版本的整包，这种情况需要清除launcher下的所有信息，以新整包的版本重新更新</p>\n</blockquote><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-17 18:46   作者：万韬</div></article>','<h2 id=\"68w5ep\" class=\"markdown-heading\"><a name=\"68w5ep\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>自动更新机制</strong></h2><ul>\n<li><p class=\"line\">苹果和安卓的沙盒机制：苹果和安卓在安装APP的时候，会建立一个APP对应的目录，在非越狱或者非ROOT的情况下，APP只能访问此目录，不能访问到别的APP所在目录</p>\n</li><li><p class=\"line\">此目录下一部分子目录只读不可以写，一部分可读可写，APP的整包会安装在不可写目录(IOS称之为Bundle目录)，所以应用一旦安装，APP自己就不可更改里面的内容，除非用户使用操作系统去删除或者更新它</p>\n</li><li><p class=\"line\">自动更新的基本机制是在APP目录中的可写子目录里(IOS称之为Document目录)下载最新的需要更新的文件，然后打成一个EPK放到laucher目录(此目录也在可写目录下,即launcher目录在Document目录下)</p>\n</li><li><p class=\"line\">游戏启动后，访问任何文件优先访问Document\\launcher目录下这个epk,如果此epk包里面没有需要访问的文件，再去读取APP整包(Bundle目录)中的EPK</p>\n</li></ul>\n<h2 id=\"8qmq4b\" class=\"markdown-heading\"><a name=\"8qmq4b\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>自动更新主体流程</strong></h2><ol>\n<li>尝试在APP可写目录下(Document)创建launcher目录(如果目录已经存在会自动忽略)</li><li>尝试删除Document\\launcher目录下remote_version.ini,server.ini,notice.ini三个文件</li><li>从更新服务器上下载上述三个文件到Document\\launcher目录</li><li>进入 版本比对流程,参考下面版本比对流程</li><li>如果版本已经是最新直接进入游戏</li><li>如果上述ini文件读取失败，重新进入2号步骤</li><li>如果需要整包更新，直接退出自动更新，进入登录界面，在登录界面会先连接平台，让平台处理整包更新，如果平台处理不了，登录界面会走自己的更新流程，例如跳转和APK下载安装</li><li>如果版本号不匹配，会往下开始自动更新</li><li>在launcher目录下创建最新版本号匹配的目录，例如最新版本号是1.0.8.1，则在launcher目录下创建1.0.8.1目录，以下用此版本举例</li><li>将更新服务器的EPK的头部下载到Document\\launcher\\1.0.8.1\\table.pos(32字节大小)</li><li>根据table.pos文件内的信息下载EPK的table(文件表信息)到launcher\\1.0.8.1\\table.dat(此文件大小=更新服务器EPK中所含文件数*40字节)</li><li>用这个刚下载的table.dat去比对Document\\launcher\\data0.epk和Bundle\\data0.epk的表，检查哪些文件是这个两个epk中没有的，或者MD5不一样的，由此生成一个需要下载的文件清单</li><li>根据此清单从服务器的EPK中多线程下载每个文件(这些文件都是已经用LZO算法压缩过的），每个线程在下载完后会比对MD5，如果下载文件的MD5与table.pos文件中记录的MD5不一样，则会重新下载这个文件</li><li>文件全部下载完后，会将这些文件跟Document\\launcher\\data0.epk中的文件合并重新打成一个epk放入Document\\launcher\\1.0.8.1\\</li><li>删除Document\\launcher\\data0.epk</li><li>将Document\\launcher\\1.0.8.1\\data0.epk拷贝到Document\\launcher\\</li><li>将Document\\launcher\\version.ini中的游戏版本号更新到最新</li><li>删除Document\\launcher\\1.0.8.1\\下所有文件</li><li>进入游戏(登录界面)</li></ol>\n<h2 id=\"384rmi\" class=\"markdown-heading\"><a name=\"384rmi\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>版本比对流程</strong></h2><ol>\n<li>先检查Document\\launcher\\version.ini是否存在，如果不存在，读取整包(Bundle)目录下config\\version.ini中的game_version,并跳到步骤4</li><li>读取整包(Bundle)目录下config\\version.ini,检查config\\version.ini中game_version是否等于launcher\\version.ini中的inner_version</li><li>如果不相等，删除launcher\\data0.epk,并将config\\version.ini中game_version写入到launcher\\version.ini中的inner_version和game_version</li><li>检查下载的launcher\\remote_version.ini中的game_version,与launcher\\version.ini中的game_version比对，看是否需要更新</li></ol>\n<blockquote class=\"info\">\n<p class=\"line\"> 解释：步骤2和3目的：如果原先记录的整包版本号和目前实际整包版本号不一致，说明用户通过AppStore更新了新的版本的整包，这种情况需要清除launcher下的所有信息，以新整包的版本重新更新</p>\n</blockquote>\n','2019-09-16 15:05:30',2,'2019-09-17 18:46:44',2,1568716263,0),(6,'gm工具平台接入文档','qiyuan-1bh6sh3mc6tio',3,0,1,'# GM工具平台接入\n\n\n\n| 版本号 | 修改人 | 日期 | 修改内容 |\n| --- | --- | --- | --- |\n| 1.0.0 | 吴立峰 | 2016-9-19 | 创建原始版本 |\n\n\n\n-----------\n\n- [1.玩家角色信息查询接口](#page1)\n- [2.角色禁言与解禁接口](#page2)\n- [3.角色封停和解封接口](#page3)\n- [4.邮件发送接口（可附带物品）](#page4)\n- [5.钻石数量扣除接口](#page5)\n- [6.角色物品数量扣除接口](#page6)\n- [7.跑马灯公告通知接口](#page7)\n- [8.服务器文本指令发送接口](#page8)\n- [9.玩家角色基本信息查询接口](#page9)\n- [10.IP白名单接口](#page10)\n- [11.服务器查询接口](#page11)\n- [12.服务器状态编辑接口](#page12)\n\n[](@page1)\n## 1.玩家角色信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getroleinfo](http://61.148.52.146:20060/pdgmtool/role/getroleinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| roleInfoList | json-list | [] | 角色数据列表，内部每一个角色用一个dic存储｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" roleInfoList \":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page2)\n## 2.角色禁言与解禁接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolemute\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，禁言这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：禁言，0：解禁 |\n| muteMinute | Int | 否 | 禁言的时长（单位：分钟），操作类型为禁言时有效 |\n| muteReson | String | 否 | 禁言原因，操作类型为禁言时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page3)\n## 3.角色封停和解封接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleban\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来封停角色或者解封。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，封停这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| operation | String | 是 | 1：封停，0：解封 |\n| banMinute | Int | 否 | 封停的时长（单位：分钟），操作类型为封停时有效 |\n| banReson | String | 否 | 封停原因，操作类型为封停时有效 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page4)\n## 4.邮件发送接口（可附带物品）：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/rolesendmail\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，发送邮件给这个帐号下的所有角色。 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| isOverall | String | 是 | 1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。 |\n| mailTitle | String | 是 | 邮件标题 |\n| mailContent | String | 是 | 邮件内容 |\n| itemList | jsonStr | 否 | 邮件附带物品列表：[{\"type\":1, \"sub\\_type\":1, \"num\":10}, {\"type\":2, \"sub\\_type\":1000002, \"num\":10}] |\n| expiredTime | Int | 是 | 过期时间（秒） |\n| levelMin | Int | 是 | 等级下限（全服邮件用） |\n| levelMax | Int | 是 | 等级上限（全服邮件用） |\n| extraData | String | 否 | 额外的信息，留作备用 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page5)\n## 5.钻石数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。 |\n| roleId | String | 否 | 第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。 |\n| roleName | String | 否 | 第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。 |\n| type | Int | 是 | LootType |\n| typeMisc | Int | 否 | Typemisc |\n| num | Int | 是 | 删除数量（不可为负数） |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+ type +type\\_misc+num） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page6)\n## 6.角色物品数量扣除接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/roleItemModify\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 不使用。 |\n| roleId | String | 否 | 第一优先级，使用roleId来调整物品数量。 |\n| roleName | String | 否 | 第二优先级，roleId为空则使用roleName来调整物品数量。 |\n| itemType | Int | 否 | 物品类型 |\n| itemId | String | 是 | 物品id |\n| modify | Int | 是 | 扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。 |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName+itemId +modify） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page7)\n## 7.跑马灯公告通知接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/marquee\n- 请求类型：POST\n- 接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| sendTime | String | 是 | 开始发送的时间，格式为\"YYYY-MM-DD hh:mm:ss\"。如果选择的发送时间早于当前时间，跑马灯需要立即发布！ |\n| marqueeTitle | String | 是 | 跑马灯公告的标题 |\n| marqueeContent | String | 是 | 跑马灯公告的内容 |\n| marqueeRemark | String | 否 | 备注，不出现的公告中 |\n| sign | String | 是 | 签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](@page8)\n## 8.服务器文本指令发送接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/textcommand\n- 请求类型：POST\n- 接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| command | String | 是 | 文本指令 |\n| sign | String | 是 | 签名: md5（key+serverId+command） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"操作成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"操作成功\"}\n```\n\n[](page9)\n## 9.玩家角色基本信息查询接口：\n\n- url：[http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo](http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo)\n- 请求类型：POST\n- 接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | String | 是 | 服务器ID。 |\n| userId | String | 否 | 第一优先级，查询这个帐号下的所有角色的信息 |\n| roleId | String | 否 | 第二优先级，如果userId为空，使用roleId |\n| roleName | String | 否 | 第三优先级，如果userId和roleId都为空，使用roleName |\n| sign | String | 是 | 签名: md5（key+serverId+userId+roleId+roleName） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝。Total：服合条件的总数 |\n\n>[warning]要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。\n\n>其他信息可以根据游戏特点添加。\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"查询成功\", \" data\":{\"total\":100, \"list\":[｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝, ｛\"帐号\"：\"2371823123\"，\"角色ID\"：\"3242344\"，\"角色名\"：\"宇宙无敌\"， \"角色等级\"：\"34\"， ……..｝]}\n```\n\n[](@page10)\n## 10.IP白名单接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\n- 请求类型：POST\n- 接口描述：IP白名单编辑功能（添加，删除）。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| ip | String | 是 | 白名单IP。 |\n| operator | Int | 是 | 0：查询 1：增加 2：删除 |\n| remark | String | 否 | 备注 |\n| sign | String | 是 | 签名: md5（key+ip+ operator + remark） |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | {\"ip\":213232132,\"remark\":\"说明\"},… |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{ {\"ip\":213232132,\"remark\":\"说明\"},…}\n```\n\n[](@page11)\n## 11.服务器查询接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\n- 请求类型：POST\n- 接口描述：服务器查询接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n| data | json-list | [] | List：｛\"world\\_config\"：{…}，\"server\\_status\"：1，\"curr\\_server\\_id\"：1， \"description\"：\"服务器维护\"， ……..｝。Total：服合条件的总数 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"ok！\",\"data\":{\"total\":1,\"data\":{\"world\\_config\":{},\"server\\_status\":\"\"}}}\n```\n\n[](@page12)\n## 12.服务器状态编辑接口：\n\n- url：http://61.148.52.146:20060/pdgmtool/server/editserverinfo\n- 请求类型：POST\n- 接口描述：服务器状态编辑接口。\n\n- 请求参数：\n\n| 名称 | 类型 | 是否必须 | 描述 |\n| --- | --- | --- | --- |\n| serverId | Int | 是 | 服务器id。 |\n| currServerId | Int | 否 | 服务器当前id（合服后变更） |\n| serverStatus | Int | 否 | 服务器状态：1：正常 3：维护 4：关服 |\n| description | String | 否 | 服务器状态描述 |\n\n- 响应json字符串：\n\n| 名称 | 类型 | 示例值 | 描述 |\n| --- | --- | --- | --- |\n| code | int | 0 | 0为成功，其他值为失败，请在msg字段返回错误原因。 |\n| msg | String | \"查询成功\" | 成功与失败时的提示。 |\n\n\n\n- 响应示例：\n\n```\n{\" code \": 0, \"msg\": \"ok！\"}\n```','<article class=\"markdown-article-inner\"><h1 id=\"8uv1af\" class=\"markdown-heading\"><a name=\"8uv1af\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr/>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"e4cdv4\" class=\"markdown-heading\"><a name=\"e4cdv4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">&#34; code &#34;</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">&#34;msg&#34;</span>: <span class=\"hljs-string\">&#34;查询成功&#34;</span>, <span class=\"hljs-attr\">&#34; roleInfoList &#34;</span>:[｛<span class=\"hljs-string\">&#34;帐号&#34;</span>：<span class=\"hljs-string\">&#34;2371823123&#34;</span>，<span class=\"hljs-string\">&#34;角色ID&#34;</span>：<span class=\"hljs-string\">&#34;3242344&#34;</span>，<span class=\"hljs-string\">&#34;角色名&#34;</span>：<span class=\"hljs-string\">&#34;宇宙无敌&#34;</span>， <span class=\"hljs-string\">&#34;角色等级&#34;</span>：<span class=\"hljs-string\">&#34;34&#34;</span>， ……..｝, ｛<span class=\"hljs-string\">&#34;帐号&#34;</span>：<span class=\"hljs-string\">&#34;2371823123&#34;</span>，<span class=\"hljs-string\">&#34;角色ID&#34;</span>：<span class=\"hljs-string\">&#34;3242344&#34;</span>，<span class=\"hljs-string\">&#34;角色名&#34;</span>：<span class=\"hljs-string\">&#34;宇宙无敌&#34;</span>， <span class=\"hljs-string\">&#34;角色等级&#34;</span>：<span class=\"hljs-string\">&#34;34&#34;</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"3g85kf\" class=\"markdown-heading\"><a name=\"3g85kf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.角色禁言与解禁接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">&#34; code &#34;</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">&#34;msg&#34;</span>: <span class=\"hljs-string\">&#34;操作成功&#34;</span>}</code></pre><p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"dxgq50\" class=\"markdown-heading\"><a name=\"dxgq50\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.角色封停和解封接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">&#34; code &#34;</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">&#34;msg&#34;</span>: <span class=\"hljs-string\">&#34;操作成功&#34;</span>}</code></pre><p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"6xqgyt\" class=\"markdown-heading\"><a name=\"6xqgyt\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.邮件发送接口（可附带物品）：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">&#34; code &#34;</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">&#34;msg&#34;</span>: <span class=\"hljs-string\">&#34;操作成功&#34;</span>}</code></pre><p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"gh4run\" class=\"markdown-heading\"><a name=\"gh4run\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.钻石数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">&#34; code &#34;</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">&#34;msg&#34;</span>: <span class=\"hljs-string\">&#34;操作成功&#34;</span>}</code></pre><p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"1p2w20\" class=\"markdown-heading\"><a name=\"1p2w20\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.角色物品数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">&#34; code &#34;</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">&#34;msg&#34;</span>: <span class=\"hljs-string\">&#34;操作成功&#34;</span>}</code></pre><p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"fmprli\" class=\"markdown-heading\"><a name=\"fmprli\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.跑马灯公告通知接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">&#34; code &#34;</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">&#34;msg&#34;</span>: <span class=\"hljs-string\">&#34;操作成功&#34;</span>}</code></pre><p class=\"line\"><a name=\"page8\"></a></p>\n<h2 id=\"78k12m\" class=\"markdown-heading\"><a name=\"78k12m\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>8.服务器文本指令发送接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">&#34; code &#34;</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">&#34;msg&#34;</span>: <span class=\"hljs-string\">&#34;操作成功&#34;</span>}</code></pre><p class=\"line\"><a href=\"page9\"></a></p>\n<h2 id=\"1xpbww\" class=\"markdown-heading\"><a name=\"1xpbww\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>9.玩家角色基本信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">&#34; code &#34;</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">&#34;msg&#34;</span>: <span class=\"hljs-string\">&#34;查询成功&#34;</span>, <span class=\"hljs-attr\">&#34; data&#34;</span>:{<span class=\"hljs-attr\">&#34;total&#34;</span>:<span class=\"hljs-number\">100</span>, <span class=\"hljs-attr\">&#34;list&#34;</span>:[｛<span class=\"hljs-string\">&#34;帐号&#34;</span>：<span class=\"hljs-string\">&#34;2371823123&#34;</span>，<span class=\"hljs-string\">&#34;角色ID&#34;</span>：<span class=\"hljs-string\">&#34;3242344&#34;</span>，<span class=\"hljs-string\">&#34;角色名&#34;</span>：<span class=\"hljs-string\">&#34;宇宙无敌&#34;</span>， <span class=\"hljs-string\">&#34;角色等级&#34;</span>：<span class=\"hljs-string\">&#34;34&#34;</span>， ……..｝, ｛<span class=\"hljs-string\">&#34;帐号&#34;</span>：<span class=\"hljs-string\">&#34;2371823123&#34;</span>，<span class=\"hljs-string\">&#34;角色ID&#34;</span>：<span class=\"hljs-string\">&#34;3242344&#34;</span>，<span class=\"hljs-string\">&#34;角色名&#34;</span>：<span class=\"hljs-string\">&#34;宇宙无敌&#34;</span>， <span class=\"hljs-string\">&#34;角色等级&#34;</span>：<span class=\"hljs-string\">&#34;34&#34;</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page10\"></a></p>\n<h2 id=\"cg8wr4\" class=\"markdown-heading\"><a name=\"cg8wr4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>10.IP白名单接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs bash\"><code>{<span class=\"hljs-string\">&#34; code &#34;</span>: 0, <span class=\"hljs-string\">&#34;msg&#34;</span>: <span class=\"hljs-string\">&#34;ok！&#34;</span>,<span class=\"hljs-string\">&#34;data&#34;</span>:{ {<span class=\"hljs-string\">&#34;ip&#34;</span>:213232132,<span class=\"hljs-string\">&#34;remark&#34;</span>:<span class=\"hljs-string\">&#34;说明&#34;</span>},…}</code></pre><p class=\"line\"><a name=\"page11\"></a></p>\n<h2 id=\"fvqjdw\" class=\"markdown-heading\"><a name=\"fvqjdw\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>11.服务器查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">&#34; code &#34;</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">&#34;msg&#34;</span>: <span class=\"hljs-string\">&#34;ok！&#34;</span>,<span class=\"hljs-attr\">&#34;data&#34;</span>:{<span class=\"hljs-attr\">&#34;total&#34;</span>:<span class=\"hljs-number\">1</span>,<span class=\"hljs-attr\">&#34;data&#34;</span>:{<span class=\"hljs-attr\">&#34;world\\_config&#34;</span>:{},<span class=\"hljs-attr\">&#34;server\\_status&#34;</span>:<span class=\"hljs-string\">&#34;&#34;</span>}}}</code></pre><p class=\"line\"><a name=\"page12\"></a></p>\n<h2 id=\"6h63kb\" class=\"markdown-heading\"><a name=\"6h63kb\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>12.服务器状态编辑接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">&#34; code &#34;</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">&#34;msg&#34;</span>: <span class=\"hljs-string\">&#34;ok！&#34;</span>}</code></pre><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-18 15:44   作者：万韬</div></article>','<h1 id=\"8uv1af\" class=\"markdown-heading\"><a name=\"8uv1af\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>GM工具平台接入</h1><table>\n<thead>\n<tr>\n<th>版本号</th>\n<th>修改人</th>\n<th>日期</th>\n<th>修改内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.0.0</td>\n<td>吴立峰</td>\n<td>2016-9-19</td>\n<td>创建原始版本</td>\n</tr>\n</tbody></table>\n<hr>\n<ul>\n<li><a href=\"#page1\">1.玩家角色信息查询接口</a></li><li><a href=\"#page2\">2.角色禁言与解禁接口</a></li><li><a href=\"#page3\">3.角色封停和解封接口</a></li><li><a href=\"#page4\">4.邮件发送接口（可附带物品）</a></li><li><a href=\"#page5\">5.钻石数量扣除接口</a></li><li><a href=\"#page6\">6.角色物品数量扣除接口</a></li><li><a href=\"#page7\">7.跑马灯公告通知接口</a></li><li><a href=\"#page8\">8.服务器文本指令发送接口</a></li><li><a href=\"#page9\">9.玩家角色基本信息查询接口</a></li><li><a href=\"#page10\">10.IP白名单接口</a></li><li><a href=\"#page11\">11.服务器查询接口</a></li><li><a href=\"#page12\">12.服务器状态编辑接口</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"e4cdv4\" class=\"markdown-heading\"><a name=\"e4cdv4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.玩家角色信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getroleinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getroleinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>roleInfoList</td>\n<td>json-list</td>\n<td>[]</td>\n<td>角色数据列表，内部每一个角色用一个dic存储｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" roleInfoList \"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"3g85kf\" class=\"markdown-heading\"><a name=\"3g85kf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.角色禁言与解禁接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolemute\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolemute</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来禁言角色或者解禁。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，禁言这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：禁言，0：解禁</td>\n</tr>\n<tr>\n<td>muteMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>禁言的时长（单位：分钟），操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>muteReson</td>\n<td>String</td>\n<td>否</td>\n<td>禁言原因，操作类型为禁言时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+muteMinute+muteReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"dxgq50\" class=\"markdown-heading\"><a name=\"dxgq50\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.角色封停和解封接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleban\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleban</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来封停角色或者解封。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，封停这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>operation</td>\n<td>String</td>\n<td>是</td>\n<td>1：封停，0：解封</td>\n</tr>\n<tr>\n<td>banMinute</td>\n<td>Int</td>\n<td>否</td>\n<td>封停的时长（单位：分钟），操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>banReson</td>\n<td>String</td>\n<td>否</td>\n<td>封停原因，操作类型为封停时有效</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +operation+banMinute+banReson）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"6xqgyt\" class=\"markdown-heading\"><a name=\"6xqgyt\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.邮件发送接口（可附带物品）：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/rolesendmail\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/rolesendmail</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来给特定的用户或者角色发送邮件（可附带物品），或者给一个服务器上的所有角色发送邮件（可附带物品）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，发送邮件给这个帐号下的所有角色。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>isOverall</td>\n<td>String</td>\n<td>是</td>\n<td>1：发送全服邮件，忽略上面3个参数，0：非全服邮件，根据上面三个参数发送给特定的用户。</td>\n</tr>\n<tr>\n<td>mailTitle</td>\n<td>String</td>\n<td>是</td>\n<td>邮件标题</td>\n</tr>\n<tr>\n<td>mailContent</td>\n<td>String</td>\n<td>是</td>\n<td>邮件内容</td>\n</tr>\n<tr>\n<td>itemList</td>\n<td>jsonStr</td>\n<td>否</td>\n<td>邮件附带物品列表：[{“type”:1, “sub_type”:1, “num”:10}, {“type”:2, “sub_type”:1000002, “num”:10}]</td>\n</tr>\n<tr>\n<td>expiredTime</td>\n<td>Int</td>\n<td>是</td>\n<td>过期时间（秒）</td>\n</tr>\n<tr>\n<td>levelMin</td>\n<td>Int</td>\n<td>是</td>\n<td>等级下限（全服邮件用）</td>\n</tr>\n<tr>\n<td>levelMax</td>\n<td>Int</td>\n<td>是</td>\n<td>等级上限（全服邮件用）</td>\n</tr>\n<tr>\n<td>extraData</td>\n<td>String</td>\n<td>否</td>\n<td>额外的信息，留作备用</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName +isOverall+mailTitle+mailContent +itemList+extraData）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"gh4run\" class=\"markdown-heading\"><a name=\"gh4run\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.钻石数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleMoneyModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色的钻石数，绑钻数，金币等。要求可以减到负值，这时需要充值大于这个负值的货币，才可使用。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，如果游戏的货币存储在帐号上，则使用userId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果游戏的货币存储在角色上，则使用roleId来调整货币数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果游戏的货币存储在角色上，roleId又为空则使用roleName来调整货币数量。</td>\n</tr>\n<tr>\n<td>type</td>\n<td>Int</td>\n<td>是</td>\n<td>LootType</td>\n</tr>\n<tr>\n<td>typeMisc</td>\n<td>Int</td>\n<td>否</td>\n<td>Typemisc</td>\n</tr>\n<tr>\n<td>num</td>\n<td>Int</td>\n<td>是</td>\n<td>删除数量（不可为负数）</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+ type +type_misc+num）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"1p2w20\" class=\"markdown-heading\"><a name=\"1p2w20\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.角色物品数量扣除接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/roleItemModify\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/roleItemModify</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来扣除角色身上的物品数。（注意，此接口只做扣除，不做增加。）</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>不使用。</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，使用roleId来调整物品数量。</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，roleId为空则使用roleName来调整物品数量。</td>\n</tr>\n<tr>\n<td>itemType</td>\n<td>Int</td>\n<td>否</td>\n<td>物品类型</td>\n</tr>\n<tr>\n<td>itemId</td>\n<td>String</td>\n<td>是</td>\n<td>物品id</td>\n</tr>\n<tr>\n<td>modify</td>\n<td>Int</td>\n<td>是</td>\n<td>扣除这个物品id的数量，如果为负数返回错误，不做增加操作。如果数量不够要减少的数量，请返回失败。</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName+itemId +modify）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"fmprli\" class=\"markdown-heading\"><a name=\"fmprli\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.跑马灯公告通知接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/marquee\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/marquee</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：在一个服务器上播放一条跑马灯公告，当前在线的所有玩家都能看到此公告。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>sendTime</td>\n<td>String</td>\n<td>是</td>\n<td>开始发送的时间，格式为”YYYY-MM-DD hh:mm:ss”。如果选择的发送时间早于当前时间，跑马灯需要立即发布！</td>\n</tr>\n<tr>\n<td>marqueeTitle</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的标题</td>\n</tr>\n<tr>\n<td>marqueeContent</td>\n<td>String</td>\n<td>是</td>\n<td>跑马灯公告的内容</td>\n</tr>\n<tr>\n<td>marqueeRemark</td>\n<td>String</td>\n<td>否</td>\n<td>备注，不出现的公告中</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+ sendTime +marqueeTitle +marqueeContent+ marqueeRemark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a name=\"page8\"></a></p>\n<h2 id=\"78k12m\" class=\"markdown-heading\"><a name=\"78k12m\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>8.服务器文本指令发送接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/textcommand\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/textcommand</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：向一个服务器发送一条文本指令，指令格式与功能由游戏服务器自己设计，执行完毕给GM工具平台返回执行结果。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>command</td>\n<td>String</td>\n<td>是</td>\n<td>文本指令</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+command）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“操作成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"操作成功\"</span>}</code></pre><p class=\"line\"><a href=\"page9\"></a></p>\n<h2 id=\"1xpbww\" class=\"markdown-heading\"><a name=\"1xpbww\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>9.玩家角色基本信息查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/getrolebaseinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：根据userid或者roleid或者rolename来查询角色详细信息。返回的是一个角色信息列表。按roleid或rolename查询时列表中只有一个角色信息。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>String</td>\n<td>是</td>\n<td>服务器ID。</td>\n</tr>\n<tr>\n<td>userId</td>\n<td>String</td>\n<td>否</td>\n<td>第一优先级，查询这个帐号下的所有角色的信息</td>\n</tr>\n<tr>\n<td>roleId</td>\n<td>String</td>\n<td>否</td>\n<td>第二优先级，如果userId为空，使用roleId</td>\n</tr>\n<tr>\n<td>roleName</td>\n<td>String</td>\n<td>否</td>\n<td>第三优先级，如果userId和roleId都为空，使用roleName</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+serverId+userId+roleId+roleName）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”帐号”：”2371823123”，”角色ID”：”3242344”，”角色名”：”宇宙无敌”， “角色等级”：”34”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">要求必须有的信息：帐号id，角色id，角色名，创建时间，累计在线时长，角色等级，角色经验，性别，职业，钻石数，绑定钻石数，金币数，vip经验，vip等级，累计购买非绑定钻石数，战力，最后一次登录时间，最后一次登出时间，目前在线状态，禁言状态，封停状态。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">其他信息可以根据游戏特点添加。</p>\n</blockquote>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"查询成功\"</span>, <span class=\"hljs-attr\">\" data\"</span>:{<span class=\"hljs-attr\">\"total\"</span>:<span class=\"hljs-number\">100</span>, <span class=\"hljs-attr\">\"list\"</span>:[｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝, ｛<span class=\"hljs-string\">\"帐号\"</span>：<span class=\"hljs-string\">\"2371823123\"</span>，<span class=\"hljs-string\">\"角色ID\"</span>：<span class=\"hljs-string\">\"3242344\"</span>，<span class=\"hljs-string\">\"角色名\"</span>：<span class=\"hljs-string\">\"宇宙无敌\"</span>， <span class=\"hljs-string\">\"角色等级\"</span>：<span class=\"hljs-string\">\"34\"</span>， ……..｝]}</code></pre><p class=\"line\"><a name=\"page10\"></a></p>\n<h2 id=\"cg8wr4\" class=\"markdown-heading\"><a name=\"cg8wr4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>10.IP白名单接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/role/ipwhitelist\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/role/ipwhitelist</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：IP白名单编辑功能（添加，删除）。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ip</td>\n<td>String</td>\n<td>是</td>\n<td>白名单IP。</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>Int</td>\n<td>是</td>\n<td>0：查询 1：增加 2：删除</td>\n</tr>\n<tr>\n<td>remark</td>\n<td>String</td>\n<td>否</td>\n<td>备注</td>\n</tr>\n<tr>\n<td>sign</td>\n<td>String</td>\n<td>是</td>\n<td>签名: md5（key+ip+ operator + remark）</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>{“ip”:213232132,”remark”:”说明”},…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs bash\"><code>{<span class=\"hljs-string\">\" code \"</span>: 0, <span class=\"hljs-string\">\"msg\"</span>: <span class=\"hljs-string\">\"ok！\"</span>,<span class=\"hljs-string\">\"data\"</span>:{ {<span class=\"hljs-string\">\"ip\"</span>:213232132,<span class=\"hljs-string\">\"remark\"</span>:<span class=\"hljs-string\">\"说明\"</span>},…}</code></pre><p class=\"line\"><a name=\"page11\"></a></p>\n<h2 id=\"fvqjdw\" class=\"markdown-heading\"><a name=\"fvqjdw\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>11.服务器查询接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/requestserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/requestserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器查询接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n<tr>\n<td>data</td>\n<td>json-list</td>\n<td>[]</td>\n<td>List：｛”world_config”：{…}，”server_status”：1，”curr_server_id”：1， “description”：”服务器维护”， ……..｝。Total：服合条件的总数</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"ok！\"</span>,<span class=\"hljs-attr\">\"data\"</span>:{<span class=\"hljs-attr\">\"total\"</span>:<span class=\"hljs-number\">1</span>,<span class=\"hljs-attr\">\"data\"</span>:{<span class=\"hljs-attr\">\"world\\_config\"</span>:{},<span class=\"hljs-attr\">\"server\\_status\"</span>:<span class=\"hljs-string\">\"\"</span>}}}</code></pre><p class=\"line\"><a name=\"page12\"></a></p>\n<h2 id=\"6h63kb\" class=\"markdown-heading\"><a name=\"6h63kb\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>12.服务器状态编辑接口：</h2><ul>\n<li><p class=\"line\">url：<a href=\"http://61.148.52.146:20060/pdgmtool/server/editserverinfo\" target=\"_blank\">http://61.148.52.146:20060/pdgmtool/server/editserverinfo</a></p>\n</li><li><p class=\"line\">请求类型：POST</p>\n</li><li><p class=\"line\">接口描述：服务器状态编辑接口。</p>\n</li><li><p class=\"line\">请求参数：</p>\n</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>是否必须</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>serverId</td>\n<td>Int</td>\n<td>是</td>\n<td>服务器id。</td>\n</tr>\n<tr>\n<td>currServerId</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器当前id（合服后变更）</td>\n</tr>\n<tr>\n<td>serverStatus</td>\n<td>Int</td>\n<td>否</td>\n<td>服务器状态：1：正常 3：维护 4：关服</td>\n</tr>\n<tr>\n<td>description</td>\n<td>String</td>\n<td>否</td>\n<td>服务器状态描述</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应json字符串：</li></ul>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>示例值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>code</td>\n<td>int</td>\n<td>0</td>\n<td>0为成功，其他值为失败，请在msg字段返回错误原因。</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>“查询成功”</td>\n<td>成功与失败时的提示。</td>\n</tr>\n</tbody></table>\n<ul>\n<li>响应示例：</li></ul>\n<pre class=\"hljs json\"><code>{<span class=\"hljs-attr\">\" code \"</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">\"msg\"</span>: <span class=\"hljs-string\">\"ok！\"</span>}</code></pre>','2019-09-16 16:04:11',2,'2019-09-18 15:50:03',2,1568791668,0),(7,'markdown语法演示','initial_doc-1bh6sk9shcue0',1,0,1,'# 基础语法演示（一级标题）\n\n基础语法演示内容 [网页超链接文字内容](https://www.bing.com)\n\n- using mysql as data persist.（列表使用-开头）\n- using [consul](https://www.consul.io) as server discovery and registry.\n\n+ 也可以使用+\n\n## 语法演示2（二级标题）\n\n\n换行+一个tab来突出命令或者代码行\n\n	git clone https://github.com/hellodudu/Ultimate.git\n\n## 绘制表格\n```\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n```\n\n效果如下：\n\n| 脚本分类 | ID段 | 参数 |\n| :--- | :----: | ----: |\n| 全局 | 1-999 | 无 |\n| 玩家 | 10000-19999 | 无 |\n| 活动    | 20000-29999     | 无    |\n\n\n## 如何页内跳转\n```\n[点击跳转到流程图位置](#PageFlow)\n```\n\n[点击跳转到流程图位置](#PageFlow)\n\n## 如何引用\n\n默认引用：\n\\> 我是默认引用\n\n> 我是默认引用\n\nINFO 类型引用：\n\\>[info] 我是INFO类型引用\n>[info] 我是INFO类型引用\n\nwarning 类型引用：\n\\>[warning] 我是warning类型引用\n>[warning] 我是warning类型引用\n\nsuccess 类型引用：\n\\>[success] 我是success类型引用\n>[success] 我是success类型引用\n\ndanger 类型引用：\n\\>[danger] 我是danger类型引用\n>[danger] 我是danger类型引用\n\n\n\n## 如何文字强调\n一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重\n\\*轻强调\\*        \n\\*\\*重强调\\*\\*\n\n\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n## 代码块演示\n用三个`符号来作为代码段开始和结束\n```\nLITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    UINT32 uwPri = 0;\n\n    if (0 != g_uwPriQueueBitmap)\n    {\n        uwPri = CLZ(g_uwPriQueueBitmap);\n        return LOS_DL_LIST_FIRST(&g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    return (LOS_DL_LIST *)NULL;\n}\n\nLITE_OS_SEC_TEXT UINT32 osPriqueueSize(UINT32 uwPri)\n{\n    UINT32      uwItemCnt = 0;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)NULL;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    return uwItemCnt;\n}\n```\n\n## 图片演示\n### 网络图片\n```\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n \n```\n\n![\"飞走的气球\"](https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\")\n\n### 本地上传图片附件\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n```\n![端午](/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG)\n\n[](@PageFlow)\n## 流程图演示\n流程图是以 \\`\\`\\`flow , 开始并以 \\`\\`\\` 结尾的区块中，例如以下代码将自动转换成流程图：\n```\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n```flow\nst=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n```\n\n\n## 时序图参考\n时序图是以 \\`\\`\\`seq 开头并以 \\`\\`\\` 结尾的代码块中\n```\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```\n\n```seq\nAndrew->China: Says Hello\nNote right of China: China thinks\\nabout it\nChina-->Andrew: How are you?\nAndrew->>China: I am good thanks!\n```','<article class=\"markdown-article-inner\"><h1 id=\"akh7k0\" class=\"markdown-heading\"><a name=\"akh7k0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"asgp0v\" class=\"markdown-heading\"><a name=\"asgp0v\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"erw4w3\" class=\"markdown-heading\"><a name=\"erw4w3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"chus1g\" class=\"markdown-heading\"><a name=\"chus1g\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"1s2qo5\" class=\"markdown-heading\"><a name=\"1s2qo5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br/>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br/>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br/>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br/>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br/>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"6gshio\" class=\"markdown-heading\"><a name=\"6gshio\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br/>*轻强调*<br/>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"4csxha\" class=\"markdown-heading\"><a name=\"4csxha\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"49eoa9\" class=\"markdown-heading\"><a name=\"49eoa9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><h3 id=\"aquaw\" class=\"markdown-heading\"><a name=\"aquaw\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>网络图片</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">&#34;飞走的气球&#34;</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg &#34;飞走的气球&#34;</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&#34;飞走的气球&#34;\"/></p>\n<h3 id=\"8ltmt1\" class=\"markdown-heading\"><a name=\"8ltmt1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>本地上传图片附件</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">端午</span>](<span class=\"hljs-link\">/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG</span>)</code></pre><p class=\"line\"><img src=\"/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG\" title=\"null\" alt=\"端午\"/></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"2xrr3e\" class=\"markdown-heading\"><a name=\"2xrr3e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objekpz5\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use ns1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objpipdf\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use ns2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj4hsf1\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use ns3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj4ngu3\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use ns4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj3rlpu\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use ns5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objzvhi4\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use ns6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objzs7av\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use ns7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objd6dch\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use ns8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objtjyzi\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use ns9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a ns10:href=\"http://www.google.com\" ns11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a ns12:href=\"http://www.google.com\" ns13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a ns14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a ns15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a ns16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a ns17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objekpz5)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objpipdf)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj4hsf1)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj4ngu3)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj3rlpu)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objzvhi4)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objzs7av)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objd6dch)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objtjyzi)\" style=\"\"></path></svg></div><h2 id=\"6xmvcx\" class=\"markdown-heading\"><a name=\"6xmvcx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &#34;Andale Mono&#34;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &#34;Andale Mono&#34;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &#34;Andale Mono&#34;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &#34;Andale Mono&#34;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &#34;Andale Mono&#34;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&#34;#markerArrowBlock&#34;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &#34;Andale Mono&#34;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &#34;Andale Mono&#34;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&#34;#markerArrowBlock&#34;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &#34;Andale Mono&#34;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&#34;#markerArrowOpen&#34;);\"></line></g></svg></div><div class=\"wiki-bottom\">最后编辑: wantao  文档更新时间: 2019-09-17 01:04   作者：admin</div></article>','<h1 id=\"akh7k0\" class=\"markdown-heading\"><a name=\"akh7k0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>基础语法演示（一级标题）</h1><p class=\"line\">基础语法演示内容 <a href=\"https://www.bing.com\" target=\"_blank\">网页超链接文字内容</a></p>\n<ul>\n<li>using mysql as data persist.（列表使用-开头）</li><li>using <a href=\"https://www.consul.io\" target=\"_blank\">consul</a> as server discovery and registry.</li></ul>\n<ul>\n<li>也可以使用+</li></ul>\n<h2 id=\"asgp0v\" class=\"markdown-heading\"><a name=\"asgp0v\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>语法演示2（二级标题）</h2><p class=\"line\">换行+一个tab来突出命令或者代码行</p>\n<pre class=\"hljs php\"><code>git <span class=\"hljs-keyword\">clone</span> https:<span class=\"hljs-comment\">//github.com/hellodudu/Ultimate.git</span></code></pre><h2 id=\"erw4w3\" class=\"markdown-heading\"><a name=\"erw4w3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>绘制表格</h2><pre class=\"hljs ruby\"><code><span class=\"hljs-params\">| 脚本分类 |</span> ID段 <span class=\"hljs-params\">| 参数 |</span>\n<span class=\"hljs-params\">| :--- |</span> <span class=\"hljs-symbol\">:----</span>: <span class=\"hljs-params\">| ----: |</span>\n<span class=\"hljs-params\">| 全局 |</span> <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 玩家 |</span> <span class=\"hljs-number\">10000</span>-<span class=\"hljs-number\">19999</span> <span class=\"hljs-params\">| 无 |</span>\n<span class=\"hljs-params\">| 活动    |</span> <span class=\"hljs-number\">20000</span>-<span class=\"hljs-number\">29999</span>     <span class=\"hljs-params\">| 无    |</span></code></pre><p class=\"line\">效果如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">脚本分类</th>\n<th style=\"text-align:center\">ID段</th>\n<th style=\"text-align:right\">参数</th>\n</tr>\n</thead>\n<tbody><tr>\n<td style=\"text-align:left\">全局</td>\n<td style=\"text-align:center\">1-999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">玩家</td>\n<td style=\"text-align:center\">10000-19999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">活动</td>\n<td style=\"text-align:center\">20000-29999</td>\n<td style=\"text-align:right\">无</td>\n</tr>\n</tbody></table>\n<h2 id=\"chus1g\" class=\"markdown-heading\"><a name=\"chus1g\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何页内跳转</h2><pre class=\"hljs markdown\"><code>[<span class=\"hljs-string\">点击跳转到流程图位置</span>](<span class=\"hljs-link\">#PageFlow</span>)</code></pre><p class=\"line\"><a href=\"#PageFlow\">点击跳转到流程图位置</a></p>\n<h2 id=\"1s2qo5\" class=\"markdown-heading\"><a name=\"1s2qo5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何引用</h2><p class=\"line\">默认引用：<br>&gt; 我是默认引用</p>\n<blockquote class=\"default\">\n<p class=\"line\">我是默认引用</p>\n</blockquote>\n<p class=\"line\">INFO 类型引用：<br>&gt;[info] 我是INFO类型引用</p>\n<blockquote class=\"info\">\n<p class=\"line\"> 我是INFO类型引用</p>\n</blockquote>\n<p class=\"line\">warning 类型引用：<br>&gt;[warning] 我是warning类型引用</p>\n<blockquote class=\"warning\">\n<p class=\"line\"> 我是warning类型引用</p>\n</blockquote>\n<p class=\"line\">success 类型引用：<br>&gt;[success] 我是success类型引用</p>\n<blockquote class=\"success\">\n<p class=\"line\"> 我是success类型引用</p>\n</blockquote>\n<p class=\"line\">danger 类型引用：<br>&gt;[danger] 我是danger类型引用</p>\n<blockquote class=\"danger\">\n<p class=\"line\"> 我是danger类型引用</p>\n</blockquote>\n<h2 id=\"6gshio\" class=\"markdown-heading\"><a name=\"6gshio\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>如何文字强调</h2><p class=\"line\">一个星号等同于一个下划线，两个星号等同于两个下划线，表示强调轻重<br>*轻强调*<br>**重强调**</p>\n<p class=\"line\"><em>single asterisks</em></p>\n<p class=\"line\"><em>single underscores</em></p>\n<p class=\"line\"><strong>double asterisks</strong></p>\n<p class=\"line\"><strong>double underscores</strong></p>\n<h2 id=\"4csxha\" class=\"markdown-heading\"><a name=\"4csxha\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>代码块演示</h2><p class=\"line\">用三个`符号来作为代码段开始和结束</p>\n<pre class=\"hljs objectivec\"><code>LITE_OS_SEC_TEXT LOS_DL_LIST *osPriqueueTop(VOID)\n{\n    <span class=\"hljs-built_in\">UINT32</span> uwPri = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> != g_uwPriQueueBitmap)\n    {\n        uwPri = <span class=\"hljs-built_in\">CLZ</span>(g_uwPriQueueBitmap);\n        <span class=\"hljs-keyword\">return</span> LOS_DL_LIST_FIRST(&amp;g_pstLosPriorityQueueList[uwPri]);\n    }\n\n    <span class=\"hljs-keyword\">return</span> (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n}\n\nLITE_OS_SEC_TEXT <span class=\"hljs-built_in\">UINT32</span> osPriqueueSize(<span class=\"hljs-built_in\">UINT32</span> uwPri)\n{\n    <span class=\"hljs-built_in\">UINT32</span>      uwItemCnt = <span class=\"hljs-number\">0</span>;\n    LOS_DL_LIST *pstCurPQNode = (LOS_DL_LIST *)<span class=\"hljs-literal\">NULL</span>;\n\n    LOS_DL_LIST_FOR_EACH(pstCurPQNode, &amp;g_pstLosPriorityQueueList[uwPri])\n    {\n        ++uwItemCnt;\n    }\n\n    <span class=\"hljs-keyword\">return</span> uwItemCnt;\n}</code></pre><h2 id=\"49eoa9\" class=\"markdown-heading\"><a name=\"49eoa9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>图片演示</h2><h3 id=\"aquaw\" class=\"markdown-heading\"><a name=\"aquaw\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>网络图片</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">\"飞走的气球\"</span>](<span class=\"hljs-link\">https://pandao.github.io/editor.md/examples/images/4.jpg \"飞走的气球\"</span>)\n</code></pre><p class=\"line\"><img src=\"https://pandao.github.io/editor.md/examples/images/4.jpg\" title=\"飞走的气球\" alt=\"&quot;飞走的气球&quot;\"></p>\n<h3 id=\"8ltmt1\" class=\"markdown-heading\"><a name=\"8ltmt1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>本地上传图片附件</h3><pre class=\"hljs markdown\"><code>![<span class=\"hljs-string\">端午</span>](<span class=\"hljs-link\">/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG</span>)</code></pre><p class=\"line\"><img src=\"/data/uploads/initial_doc/images/m_c82aa33db77fca41190163c212cf23cd_r.JPG\" title=\"null\" alt=\"端午\"></p>\n<p class=\"line\"><a name=\"PageFlow\"></a></p>\n<h2 id=\"2xrr3e\" class=\"markdown-heading\"><a name=\"2xrr3e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>流程图演示</h2><p class=\"line\">流程图是以 ```flow , 开始并以 ``` 结尾的区块中，例如以下代码将自动转换成流程图：</p>\n<pre class=\"hljs php\"><code>st=&gt;start: Start|past:&gt;http:<span class=\"hljs-comment\">//www.google.com[blank]</span>\ne=&gt;end: End|future:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nop1=&gt;operation: My Operation|past\nop2=&gt;operation: Stuff|current\nsub1=&gt;subroutine: My Subroutine|invalid\ncond=&gt;condition: Yes\n<span class=\"hljs-keyword\">or</span> No?|approved:&gt;http:<span class=\"hljs-comment\">//www.google.com</span>\nc2=&gt;condition: Good idea|rejected\nio=&gt;inputoutput: <span class=\"hljs-keyword\">catch</span> something...|future\n\nst-&gt;op1(right)-&gt;cond\ncond(yes, right)-&gt;c2\ncond(no)-&gt;sub1(left)-&gt;op1\nc2(yes)-&gt;io-&gt;e\nc2(no)-&gt;op2-&gt;e</code></pre><div class=\"flowchart\"><svg height=\"437.033203125\" version=\"1.1\" width=\"836.837890625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 836.837890625 437.033203125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-objekpz5\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objpipdf\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj4hsf1\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj4ngu3\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj3rlpu\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS5:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objzvhi4\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS6:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objzs7av\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS7:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objd6dch\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS8:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objtjyzi\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS9:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><a NS10:href=\"http://www.google.com\" NS11:show=\"new\"><rect x=\"0\" y=\"0\" width=\"51.6875\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#cccccc\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" style=\"\"></rect></a><a NS12:href=\"http://www.google.com\" NS13:show=\"new\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,71.0234,28.8789)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">Start</tspan></text></a><rect x=\"0\" y=\"0\" width=\"110.046875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#cccccc\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,41.8438,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.296875\">My Operation</tspan></text><a NS14:href=\"http://www.google.com\"><path fill=\"#58c4a3\" stroke=\"#000000\" d=\"M28.13671875,20.818359375L0,41.63671875L56.2734375,83.2734375L112.546875,41.63671875L56.2734375,0L0,41.63671875\" stroke-width=\"3\" id=\"cond\" class=\"flowchart\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" style=\"\"></path></a><a NS15:href=\"http://www.google.com\"><text x=\"33.13671875\" y=\"41.63671875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"condt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,242.4844,122.3945)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"-3.69921875\">Yes</tspan><tspan dy=\"18\" x=\"33.13671875\">or No?</tspan></text></a><path fill=\"#c45879\" stroke=\"#000000\" d=\"M37.212890625,18.6064453125L0,37.212890625L74.42578125,74.42578125L148.8515625,37.212890625L74.42578125,0L0,37.212890625\" stroke-width=\"3\" id=\"c2\" class=\"flowchart\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" style=\"\"></path><text x=\"42.212890625\" y=\"37.212890625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"12px\" stroke=\"none\" fill=\"#000000\" id=\"c2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,427.4727,126.8184)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 12px;\"><tspan dy=\"5.298828125\">Good idea</tspan></text><path fill=\"#ffff99\" stroke=\"#000000\" d=\"M10,18.7578125L0,37.515625L161.734375,37.515625L181.734375,0L20,0L10,18.7578125\" stroke-width=\"3\" id=\"io\" class=\"flowchart\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" style=\"\"></path><text x=\"30\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"iot\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,411.0313,280.123)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">catch something...</tspan></text><a NS16:href=\"http://www.google.com\"><rect x=\"0\" y=\"0\" width=\"46.703125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" style=\"\"></rect></a><a NS17:href=\"http://www.google.com\"><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,478.5469,396.5176)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">End</tspan></text></a><rect x=\"0\" y=\"0\" width=\"54.15625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff00\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"op2t\" class=\"flowchartt\" font-weight=\"bold\" transform=\"matrix(1,0,0,1,696.1133,145.2734)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px; font-weight: bold;\"><tspan dy=\"5.296875\">Stuff</tspan></text><rect x=\"0\" y=\"0\" width=\"136.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"sub1\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><rect x=\"10\" y=\"0\" width=\"116.71875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#444444\" stroke=\"#000000\" stroke-width=\"3\" id=\"sub1i\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" style=\"\"></rect><text x=\"20\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"sub1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,230.3984,284.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">My Subroutine</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M96.8671875,66.39453125C96.8671875,66.39453125,96.8671875,124.0543492892757,96.8671875,140.77794885730782\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objekpz5)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M151.890625,164.03125C151.890625,164.03125,219.71187150478363,164.03125,237.9918168517761,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objpipdf)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M355.03125,164.03125C355.03125,164.03125,407.141913712956,164.03125,422.9684922429651,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj4hsf1)\" style=\"\"></path><text x=\"360.03125\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">APPROVED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M298.7578125,205.66796875C298.7578125,205.66796875,298.7578125,263.3277867892757,298.7578125,280.0513863573078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj4ngu3)\" style=\"\"></path><text x=\"303.7578125\" y=\"215.66796875\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.30078125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,201.244140625C501.8984375,201.244140625,501.8984375,258.9039586642757,501.8984375,275.6275582323078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj3rlpu)\" style=\"\"></path><text x=\"506.8984375\" y=\"211.244140625\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.298828125\">n/a</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M576.32421875,164.03125C576.32421875,164.03125,669.8377455235459,164.03125,691.617995655861,164.03125\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objzvhi4)\" style=\"\"></path><text x=\"581.32421875\" y=\"154.03125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.3046875\">REJECTED</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M501.8984375,317.638671875C501.8984375,317.638671875,501.8984375,375.2984899142757,501.8984375,392.0220894823078\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objzs7av)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M723.19140625,182.7890625C723.19140625,182.7890625,723.19140625,371.517578125,723.19140625,371.517578125C723.19140625,371.517578125,501.8984375,371.517578125,501.8984375,371.517578125C501.8984375,371.517578125,501.8984375,384.8215494155884,501.8984375,392.0192057583481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objd6dch)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M230.3984375,303.3046875C230.3984375,303.3046875,163.6328125,303.3046875,163.6328125,303.3046875C163.6328125,303.3046875,163.6328125,170.03125,163.6328125,170.03125C163.6328125,170.03125,175.6328125,164.03125,163.6328125,158.03125C163.6328125,158.03125,163.6328125,120.2734375,163.6328125,120.2734375C163.6328125,120.2734375,96.8671875,120.2734375,96.8671875,120.2734375C96.8671875,120.2734375,96.8671875,133.57740879058838,96.8671875,140.7750651333481\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objtjyzi)\" style=\"\"></path></svg></div><h2 id=\"6xmvcx\" class=\"markdown-heading\"><a name=\"6xmvcx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>时序图参考</h2><p class=\"line\">时序图是以 ```seq 开头并以 ``` 结尾的代码块中</p>\n<pre class=\"hljs php\"><code>Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</code></pre><div class=\"sequence-diagram\"><svg class=\"sequence simple\" width=\"376.828125px\" height=\"313.09375px\"><desc></desc><defs><marker viewBox=\"0 0 5 5\" markerWidth=\"5\" markerHeight=\"5\" orient=\"auto\" refX=\"5\" refY=\"2.5\" id=\"markerArrowBlock\"><path d=\"M 0 0 L 5 2.5 L 0 5 z\"></path></marker><marker viewBox=\"0 0 9.6 16\" markerWidth=\"4\" markerHeight=\"16\" orient=\"auto\" refX=\"9.6\" refY=\"8\" id=\"markerArrowOpen\"><path d=\"M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z\"></path></marker></defs><g class=\"title\"></g><g class=\"actor\"><rect x=\"10\" y=\"20\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><g class=\"actor\"><rect x=\"10\" y=\"255.578125\" width=\"70.859375\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"20\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"20\">Andrew</tspan></text></g><line x1=\"45.4296875\" x2=\"45.4296875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"actor\"><rect x=\"155.078125\" y=\"20\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"44.0625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><g class=\"actor\"><rect x=\"155.078125\" y=\"255.578125\" width=\"59.203125\" height=\"37.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"165.078125\" y=\"279.640625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"165.078125\">China</tspan></text></g><line x1=\"184.6796875\" x2=\"184.6796875\" y1=\"57.515625\" y2=\"255.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px;\"></line><g class=\"signal\"><text x=\"79.203125\" y=\"87.8203125\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"79.203125\">Says Hello</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"95.03125\" y2=\"95.03125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"note\"><rect x=\"204.6796875\" y=\"115.03125\" width=\"92.546875\" height=\"45.515625\" stroke=\"#000000\" fill=\"#ffffff\" style=\"stroke-width: 2px;\"></rect><text x=\"209.6796875\" y=\"134.09375\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"209.6796875\">China thinks</tspan><tspan dy=\"1.2em\" x=\"209.6796875\">about it</tspan></text></g><g class=\"signal\"><text x=\"68.7734375\" y=\"190.8515625\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"68.7734375\">How are you?</tspan></text><line x1=\"184.6796875\" x2=\"45.4296875\" y1=\"198.0625\" y2=\"198.0625\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);\"></line></g><g class=\"signal\"><text x=\"55.4296875\" y=\"228.3671875\" style=\"font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;\"><tspan x=\"55.4296875\">I am good thanks!</tspan></text><line x1=\"45.4296875\" x2=\"184.6796875\" y1=\"235.578125\" y2=\"235.578125\" stroke=\"#000000\" fill=\"none\" style=\"stroke-width: 2px; marker-end: url(&quot;#markerArrowOpen&quot;);\"></line></g></svg></div>','2019-09-16 16:06:01',1,'2019-09-17 01:04:36',2,1568653476,0),(10,'自动更新详解','programmer_common-1bh996uudm100',4,0,3,'## **自动更新机制** ##\n\n- 苹果和安卓的沙盒机制：苹果和安卓在安装APP的时候，会建立一个APP对应的目录，在非越狱或者非ROOT的情况下，APP只能访问此目录，不能访问到别的APP所在目录\n\n- 此目录下一部分子目录只读不可以写，一部分可读可写，APP的整包会安装在不可写目录(IOS称之为Bundle目录)，所以应用一旦安装，APP自己就不可更改里面的内容，除非用户使用操作系统去删除或者更新它\n\n- 自动更新的基本机制是在APP目录中的可写子目录里(IOS称之为Document目录)下载最新的需要更新的文件，然后打成一个EPK放到laucher目录(此目录也在可写目录下,即launcher目录在Document目录下)\n\n- 游戏启动后，访问任何文件优先访问Document\\launcher目录下这个epk,如果此epk包里面没有需要访问的文件，再去读取APP整包(Bundle目录)中的EPK\n\n\n\n## **自动更新主体流程** ##\n\n1. 尝试在APP可写目录下(Document)创建launcher目录(如果目录已经存在会自动忽略)\n2. 尝试删除Document\\launcher目录下remote_version.ini,server.ini,notice.ini三个文件\n3. 从更新服务器上下载上述三个文件到Document\\launcher目录\n4. 进入 版本比对流程,参考下面版本比对流程\n5. 如果版本已经是最新直接进入游戏\n6. 如果上述ini文件读取失败，重新进入2号步骤\n7. 如果需要整包更新，直接退出自动更新，进入登录界面，在登录界面会先连接平台，让平台处理整包更新，如果平台处理不了，登录界面会走自己的更新流程，例如跳转和APK下载安装\n8. 如果版本号不匹配，会往下开始自动更新\n9. 在launcher目录下创建最新版本号匹配的目录，例如最新版本号是1.0.8.1，则在launcher目录下创建1.0.8.1目录，以下用此版本举例\n10. 将更新服务器的EPK的头部下载到Document\\launcher\\1.0.8.1\\table.pos(32字节大小)\n11. 根据table.pos文件内的信息下载EPK的table(文件表信息)到launcher\\1.0.8.1\\table.dat(此文件大小=更新服务器EPK中所含文件数*40字节)\n12. 用这个刚下载的table.dat去比对Document\\launcher\\data0.epk和Bundle\\data0.epk的表，检查哪些文件是这个两个epk中没有的，或者MD5不一样的，由此生成一个需要下载的文件清单\n13. 根据此清单从服务器的EPK中多线程下载每个文件(这些文件都是已经用LZO算法压缩过的），每个线程在下载完后会比对MD5，如果下载文件的MD5与table.pos文件中记录的MD5不一样，则会重新下载这个文件\n14. 文件全部下载完后，会将这些文件跟Document\\launcher\\data0.epk中的文件合并重新打成一个epk放入Document\\launcher\\1.0.8.1\\\n15. 删除Document\\launcher\\data0.epk\n16. 将Document\\launcher\\1.0.8.1\\data0.epk拷贝到Document\\launcher\\\n17. 将Document\\launcher\\version.ini中的游戏版本号更新到最新\n18. 删除Document\\launcher\\1.0.8.1\\下所有文件\n19. 进入游戏(登录界面)\n\n\n\n## **版本比对流程** ##\n1. 先检查Document\\launcher\\version.ini是否存在，如果不存在，读取整包(Bundle)目录下config\\version.ini中的game_version,并跳到步骤4\n2. 读取整包(Bundle)目录下config\\version.ini,检查config\\version.ini中game_version是否等于launcher\\version.ini中的inner_version\n3. 如果不相等，删除launcher\\data0.epk,并将config\\version.ini中game_version写入到launcher\\version.ini中的inner_version和game_version\n4. 检查下载的launcher\\remote_version.ini中的game_version,与launcher\\version.ini中的game_version比对，看是否需要更新\n\n\n> 解释：步骤2和3目的：如果原先记录的整包版本号和目前实际整包版本号不一致，说明用户通过AppStore更新了新的版本的整包，这种情况需要清除launcher下的所有信息，以新整包的版本重新更新','<article class=\"markdown-article-inner\"><h2 id=\"fvq3rx\" class=\"markdown-heading\"><a name=\"fvq3rx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>自动更新机制</strong></h2><ul>\n<li><p class=\"line\">苹果和安卓的沙盒机制：苹果和安卓在安装APP的时候，会建立一个APP对应的目录，在非越狱或者非ROOT的情况下，APP只能访问此目录，不能访问到别的APP所在目录</p>\n</li><li><p class=\"line\">此目录下一部分子目录只读不可以写，一部分可读可写，APP的整包会安装在不可写目录(IOS称之为Bundle目录)，所以应用一旦安装，APP自己就不可更改里面的内容，除非用户使用操作系统去删除或者更新它</p>\n</li><li><p class=\"line\">自动更新的基本机制是在APP目录中的可写子目录里(IOS称之为Document目录)下载最新的需要更新的文件，然后打成一个EPK放到laucher目录(此目录也在可写目录下,即launcher目录在Document目录下)</p>\n</li><li><p class=\"line\">游戏启动后，访问任何文件优先访问Document\\launcher目录下这个epk,如果此epk包里面没有需要访问的文件，再去读取APP整包(Bundle目录)中的EPK</p>\n</li></ul>\n<h2 id=\"1klfir\" class=\"markdown-heading\"><a name=\"1klfir\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>自动更新主体流程</strong></h2><ol>\n<li>尝试在APP可写目录下(Document)创建launcher目录(如果目录已经存在会自动忽略)</li><li>尝试删除Document\\launcher目录下remote_version.ini,server.ini,notice.ini三个文件</li><li>从更新服务器上下载上述三个文件到Document\\launcher目录</li><li>进入 版本比对流程,参考下面版本比对流程</li><li>如果版本已经是最新直接进入游戏</li><li>如果上述ini文件读取失败，重新进入2号步骤</li><li>如果需要整包更新，直接退出自动更新，进入登录界面，在登录界面会先连接平台，让平台处理整包更新，如果平台处理不了，登录界面会走自己的更新流程，例如跳转和APK下载安装</li><li>如果版本号不匹配，会往下开始自动更新</li><li>在launcher目录下创建最新版本号匹配的目录，例如最新版本号是1.0.8.1，则在launcher目录下创建1.0.8.1目录，以下用此版本举例</li><li>将更新服务器的EPK的头部下载到Document\\launcher\\1.0.8.1\\table.pos(32字节大小)</li><li>根据table.pos文件内的信息下载EPK的table(文件表信息)到launcher\\1.0.8.1\\table.dat(此文件大小=更新服务器EPK中所含文件数*40字节)</li><li>用这个刚下载的table.dat去比对Document\\launcher\\data0.epk和Bundle\\data0.epk的表，检查哪些文件是这个两个epk中没有的，或者MD5不一样的，由此生成一个需要下载的文件清单</li><li>根据此清单从服务器的EPK中多线程下载每个文件(这些文件都是已经用LZO算法压缩过的），每个线程在下载完后会比对MD5，如果下载文件的MD5与table.pos文件中记录的MD5不一样，则会重新下载这个文件</li><li>文件全部下载完后，会将这些文件跟Document\\launcher\\data0.epk中的文件合并重新打成一个epk放入Document\\launcher\\1.0.8.1\\</li><li>删除Document\\launcher\\data0.epk</li><li>将Document\\launcher\\1.0.8.1\\data0.epk拷贝到Document\\launcher\\</li><li>将Document\\launcher\\version.ini中的游戏版本号更新到最新</li><li>删除Document\\launcher\\1.0.8.1\\下所有文件</li><li>进入游戏(登录界面)</li></ol>\n<h2 id=\"cj305q\" class=\"markdown-heading\"><a name=\"cj305q\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>版本比对流程</strong></h2><ol>\n<li>先检查Document\\launcher\\version.ini是否存在，如果不存在，读取整包(Bundle)目录下config\\version.ini中的game_version,并跳到步骤4</li><li>读取整包(Bundle)目录下config\\version.ini,检查config\\version.ini中game_version是否等于launcher\\version.ini中的inner_version</li><li>如果不相等，删除launcher\\data0.epk,并将config\\version.ini中game_version写入到launcher\\version.ini中的inner_version和game_version</li><li>检查下载的launcher\\remote_version.ini中的game_version,与launcher\\version.ini中的game_version比对，看是否需要更新</li></ol>\n<blockquote class=\"default\">\n<p class=\"line\">解释：步骤2和3目的：如果原先记录的整包版本号和目前实际整包版本号不一致，说明用户通过AppStore更新了新的版本的整包，这种情况需要清除launcher下的所有信息，以新整包的版本重新更新</p>\n</blockquote><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-17 23:02   作者：万韬</div></article>','<h2 id=\"fvq3rx\" class=\"markdown-heading\"><a name=\"fvq3rx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>自动更新机制</strong></h2><ul>\n<li><p class=\"line\">苹果和安卓的沙盒机制：苹果和安卓在安装APP的时候，会建立一个APP对应的目录，在非越狱或者非ROOT的情况下，APP只能访问此目录，不能访问到别的APP所在目录</p>\n</li><li><p class=\"line\">此目录下一部分子目录只读不可以写，一部分可读可写，APP的整包会安装在不可写目录(IOS称之为Bundle目录)，所以应用一旦安装，APP自己就不可更改里面的内容，除非用户使用操作系统去删除或者更新它</p>\n</li><li><p class=\"line\">自动更新的基本机制是在APP目录中的可写子目录里(IOS称之为Document目录)下载最新的需要更新的文件，然后打成一个EPK放到laucher目录(此目录也在可写目录下,即launcher目录在Document目录下)</p>\n</li><li><p class=\"line\">游戏启动后，访问任何文件优先访问Document\\launcher目录下这个epk,如果此epk包里面没有需要访问的文件，再去读取APP整包(Bundle目录)中的EPK</p>\n</li></ul>\n<h2 id=\"1klfir\" class=\"markdown-heading\"><a name=\"1klfir\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>自动更新主体流程</strong></h2><ol>\n<li>尝试在APP可写目录下(Document)创建launcher目录(如果目录已经存在会自动忽略)</li><li>尝试删除Document\\launcher目录下remote_version.ini,server.ini,notice.ini三个文件</li><li>从更新服务器上下载上述三个文件到Document\\launcher目录</li><li>进入 版本比对流程,参考下面版本比对流程</li><li>如果版本已经是最新直接进入游戏</li><li>如果上述ini文件读取失败，重新进入2号步骤</li><li>如果需要整包更新，直接退出自动更新，进入登录界面，在登录界面会先连接平台，让平台处理整包更新，如果平台处理不了，登录界面会走自己的更新流程，例如跳转和APK下载安装</li><li>如果版本号不匹配，会往下开始自动更新</li><li>在launcher目录下创建最新版本号匹配的目录，例如最新版本号是1.0.8.1，则在launcher目录下创建1.0.8.1目录，以下用此版本举例</li><li>将更新服务器的EPK的头部下载到Document\\launcher\\1.0.8.1\\table.pos(32字节大小)</li><li>根据table.pos文件内的信息下载EPK的table(文件表信息)到launcher\\1.0.8.1\\table.dat(此文件大小=更新服务器EPK中所含文件数*40字节)</li><li>用这个刚下载的table.dat去比对Document\\launcher\\data0.epk和Bundle\\data0.epk的表，检查哪些文件是这个两个epk中没有的，或者MD5不一样的，由此生成一个需要下载的文件清单</li><li>根据此清单从服务器的EPK中多线程下载每个文件(这些文件都是已经用LZO算法压缩过的），每个线程在下载完后会比对MD5，如果下载文件的MD5与table.pos文件中记录的MD5不一样，则会重新下载这个文件</li><li>文件全部下载完后，会将这些文件跟Document\\launcher\\data0.epk中的文件合并重新打成一个epk放入Document\\launcher\\1.0.8.1\\</li><li>删除Document\\launcher\\data0.epk</li><li>将Document\\launcher\\1.0.8.1\\data0.epk拷贝到Document\\launcher\\</li><li>将Document\\launcher\\version.ini中的游戏版本号更新到最新</li><li>删除Document\\launcher\\1.0.8.1\\下所有文件</li><li>进入游戏(登录界面)</li></ol>\n<h2 id=\"cj305q\" class=\"markdown-heading\"><a name=\"cj305q\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span><strong>版本比对流程</strong></h2><ol>\n<li>先检查Document\\launcher\\version.ini是否存在，如果不存在，读取整包(Bundle)目录下config\\version.ini中的game_version,并跳到步骤4</li><li>读取整包(Bundle)目录下config\\version.ini,检查config\\version.ini中game_version是否等于launcher\\version.ini中的inner_version</li><li>如果不相等，删除launcher\\data0.epk,并将config\\version.ini中game_version写入到launcher\\version.ini中的inner_version和game_version</li><li>检查下载的launcher\\remote_version.ini中的game_version,与launcher\\version.ini中的game_version比对，看是否需要更新</li></ol>\n<blockquote class=\"default\">\n<p class=\"line\">解释：步骤2和3目的：如果原先记录的整包版本号和目前实际整包版本号不一致，说明用户通过AppStore更新了新的版本的整包，这种情况需要清除launcher下的所有信息，以新整包的版本重新更新</p>\n</blockquote>\n','2019-09-17 15:29:25',2,'2019-09-18 15:02:34',2,1568705546,1),(11,'SVN日常操作流程文档','designer_common-1bh9982pn40i8',5,0,1,'# SVN日常操作流程文档\n\nVersion： 0.6\n\nAuthor：  刘晓冬\n\nData：  2008-01-30\n\n* [1. 获取远程svn数据库中文件的流程](#page1)\n* [2. 向svn数据库中添加文件](#page2)\n* [3. 多人协作下的文件改动及签入流程](#page3)\n* [4. 工作版本分支的建立及合并](#page4)\n* [5. 建立稳定的tags版本](#page5)\n* [6. 利用合并特性修改bug](#page6)\n* [7. 其它注意的问题](#page7)\n\n[](@page1)\n## 1. 获取远程svn数据库中文件的流程\n\n* 新建一个本地目录\n![](/data/uploads/programmer_common/images/m_79d2f39b3f92bf4d0f3e94878e51a3c2_r.png)\n\n\n* 进入该目录，右键菜单中选择`Svn Checkout`\n![](/data/uploads/programmer_common/images/m_c7a8abbe24dad834590fad11187c8786_r.png)\n\n\n* 在弹出的svn数据库窗口中，选择需要获取的文件，点击确定后，即在本地建立SVN数据库的文件副本：\n![](/data/uploads/programmer_common/images/m_fd1abec90781469b17227bee8f253c19_r.png)\n\n\n>[warning]注意，如果需要在本地目录下获取多个svn数据库中的文件，则首先获取自己主要工作的版本，然后针对其他数据库要获取的相应目录建立对应的本地目录，然后针对该目录进行获取。比如我们在本地建立一个KungfuClient的目录，该目录用于存储gongfu\\_client数据库中保存的客户端所有程序文件，而此时如果我们同时需要在本地获取地图编辑器工具程序，则可以在KungfuClient目录下建立一个MapEditor的目录，然后进入该目录获取gongfu\\_tool中的该程序对应的程序文件，这样就可以让两个库中的程序共享同一层目录，方便联合编译。\n\n[](@page2)\n## 2. 向svn数据库中添加文件\n\n\n\n首先将要加入的文件放入到本地程序目录下。比如在此时，我需要在zoneserver目录下加入一个MyStream.h的文件，那么先将该文件放入zoneserver的目录下：\n\n![](/data/uploads/programmer_common/images/m_8465e4a57d9c50224e50f28ddd8b411c_r.png)\n\n当要将其加入到svn数据时，右键单击该文件，选取`TortoiseSVN——Add`，在弹出的界面中确认该文件的加入即可：\n\n![](/data/uploads/programmer_common/images/m_27dcea83ef4bbc0110932a48c05ea7f8_r.png)\n\n此时该文件会变成带加号的图标格式，然后我们将其再次签入即可：\n\n![](/data/uploads/programmer_common/images/m_1b5bdc5665249f1a22b4fce3447223a4_r.png)\n\n>[warning]注意，如果需要在数据库中添加一个二进制文件，比如Excel文件，svn会将其保存为其他的文件类型，比如Excel文件，svn用默认的mime-type进行保存，我在本地进行过实验，该种类型文件也可以进行版本的管理和多分支的合并。\n\n[](@page3)\n## 3. 多人协作下的文件改动及签入流程\n\n用svn对文件进行操作时，不需要显示的锁定签出文件即可更改，任何的冲突检测都是在签入时进行的。不过，尽管svn可以有效的控制冲突，但冲突的解决却需要程序员自己来进行。为了最大限度的避免冲突的发生，在对某个文件进行操作时，推荐的流程如下：\n\n>1. 在对文件进行操作之前，从版本库中显示的更新svn中指定版本号文件的最新版本，这可以使得在进行操作之前，本地文件与svn库中的文件的版本一致。\n2. 在对文件的操作完成之后，不要立即签入，再次从svn中进行一次更新，因为在这过程中，可能有其他同事也更改了该文件。通过该过程，svn可以自动的将数据库中该文件的最新内容合并到本地拷贝。\n3. 对合并后的本地拷贝进行编译，试运行，看是否通过。\n4. 将本地拷贝签入到svn数据库中，这样可以基本上避免冲突的发生。\n\n[](@page4)\n## 4. 工作版本分支的建立及合并\n\n当我们需要在系统中加入一个大的系统模块时，这个模块的开发周期可能为一至两个月，但同时我们也需要对当前已存在的版本进行维护并修改bug。因此，需要针对该模块建立一个工作版本分支，所有新模块的内容都在分支上进行开发，而同时可以对主版本中的bug进行修复及维护。在此过程中，需要定期的对主版本及分支版本进行同步操作。最终，当这个大的系统模块开发完成并调试通过后，可将其合并到当前的主版本中，作为一次统一的系统升级。在这里以前段时间门派及国家系统的服务器端修改流程为例进行描述。\n\n### 建立工作分支\n\n首先，在gonfu\\_server的顶级目录建立一个brance\\_guild目录。该目录的创建方法可选择在svn数据库浏览器上直接操作：\n\n![](/data/uploads/programmer_common/images/m_af74eb5dbfb2a16522dcc94948a13d45_r.png)\n\n其次，在本地拷贝目录下建立分支\n\n![](/data/uploads/programmer_common/images/m_a332f4ae72978ebc149c194dc6a4beb1_r.png)\n\n在弹出的窗口中，可以看到，我们需要基于gongfu\\_server/trunk目录的文件建立分支，下面的三个单选钮用于指定是基于哪个具体的版本建立分支。一般情况下我们会选择trunk上的最新版本，但如果此时trunk上并不是一个稳定的版本，则可能需要明确的指定一个版本建立分支，在&quot;To URL&quot;输入框中，我们输入分支保存在svn数据库中的路径，也就是我们刚才建立的分支目录，点击&quot;确定&quot;，此时trunk中某一特定版本对应的文件将会拷贝到该分支对应的目录下：\n\n![](/data/uploads/programmer_common/images/m_961b39629e67d242a9bfb3b1ba63348c_r.png)\n\n如果我们需要在分支上进行开发，需要将本地的工作拷贝切换到分支版本下，可以切换整个数据库下的文件，也可以针对某个程序文件（如xZoneServer）进行切换。右键点选`TortoiseSVN——Switch`：\n\n![](/data/uploads/programmer_common/images/m_4a2f9026b909dec6ea62adeae877f781_r.png)\n\n将弹出下面的窗口，在该窗口中，我们填写或者浏览到想要获取的分支版本，点击确定，则此分支对应的文件将会从数据库中导出，并更新我们本地的工作拷贝：\n\n![](/data/uploads/programmer_common/images/m_3fee5492d94cc4653cbedd9d11bcd4d9_r.png)\n\n在这里我选择了branch\\_guild分支，此操作会将分支中的所有服务器程序文件拷贝到本地工作目录，如果只想切换某一个具体的程序，只需要右键单击该程序文件目录，并在最后&quot;To URL&quot;输入框中，写入该程序的具体路径就可以了，比如，在上面的输入框中，我在后面加上/xZoneServer，则xZoneServer目录中的文件将切换成分支上的文件，其他服务器程序仍然保持trunk上的版本。\n\n### 分支上的开发\n\n在分支上进行开发，与在trunk下进行开发的流程相同，之前提到的多人协同工作时的建议同样适用于分支。只是需要确保在本地分支拷贝上进行修改的过程中中，不要再切换到其他任何版本，如果需要切换，则先将分支版本签入。\n\n如果此时主版本需要修改某个bug，则需要先将本地拷贝切换到trunk版本，在此上进行修改，并签入到主版本。此时所有这些改动并没有添加到分支中，分支中对应的主版本内容仍然是建立分支时刻对应的主版本内容。\n\n### 主版本到分支版本的合并\n\n在某一个时刻，一般为每周周末，我们需要将当周主版本的改动合并到分支中，以保证主版本和分支内容上的同步，具体操作流程如下：\n\n首先将本地工作拷贝切换到分支版本。\n\n接下来察看分支版本的日志，右键点选`TortoiseSVN——ShowLog`，查找分支建立时对应的主版本号，如图：\n\n![](/data/uploads/programmer_common/images/m_6719e6f4106ffbf589c0596c5fd84a9b_r.png)\n\n由图可以看到，分支版本建立时对应的版本号为213，在最下面的框中可以看到，它是基于主版本212版本号对应的程序文件建立的，而这个版本号则是我们合并的起始点。\n\n在本地拷贝中目录下右键点击`TortoiseSVN——Merge`，出现如图对话框：\n\n![](/data/uploads/programmer_common/images/m_c412744825162aa96b022908f9571312_r.png)\n\n通过查看日志，我们已经知道合并的起始点为主版本的212版本，因此在上图中的&quot;From：&quot;输入框中，我们需要填入主版本的工作目录，并将对应的版本号填入212，在下面的&quot;To：&quot;输入框中，由于我们是将主版本的当前版本内容并入分支，因此只需要将版本号注为&quot;Head Version&quot;，目录不需要变化。这样，就会将主版本在分支建立时到当前的所有改动并入分支，使得分支中除了新加入的内容之外，其余部分均与主版本内容同步。\n\n除了&quot;Merge&quot;按钮外，其他三个按钮可以用于对将要合并的内容进行一下预检，可以用Diff和Unified diff分别检查版本间的文件级和代码级差异，&quot;Dry Run&quot;可以做一次预合并。注意这种合并可能会产生冲突，如果有冲突产生，可以根据冲突给出的提示信息来进行手动修正，待修正完毕后再进行签入。冲突的产生一般情况下是因为两个版本修改了代码文件的同一行引起的。如果保证在分支中只增加新内容，而将原有内容的修改都放在主版本中进行，可以最大程度的避免冲突的发生。\n\n当合并之后，再将合并后的内容签入到分支中，整个过程就完成了。不过需要注意的一个非常重要问题是，此时的主版本和分支版本的合并点已不是之前的212版本，而是此次合并时主版本在&quot;To：&quot;中指定的版本号，因此当在合并后对分支进行签入时，最好在注释框中注明本次合并的终点主版本号，当下一次再需要将主版本的改动合并到分支时，将以该版本号作为合并起始点。我通过查日志并没有发现明确注明合并事件的日志，所以才加入了注释。如果今后发现了更明确的日志信息，本部分内容再做调整。\n\n### 分支版本合并到主版本\n\n当分支开发完毕并测试通过后，需要将分支的内容合并入主版本，以使主版本的内容与分支中的内容完全一致，在合并分支内容之前，如果主版本此时相对上次合并又做了改动，则需要执行上述的过程先将主版本的改动并入到分支，并记录此次合并点的主版本号。待该步骤完毕后，再执行分支的合并操作，具体合并流程如下：\n\n本地工作拷贝切换到主版本。\n\n在主版本的工作目录下右键点选`TortoiseSVN——Merge`，弹出如下窗口：\n\n![](/data/uploads/programmer_common/images/m_8a8e9de7e68e8686648377be922607c1_r.png)\n\n此合并相对于之前主版本合并到分支过程最大的不同在于&quot;From：&quot;和&quot;To：&quot;分别指向不同的目录，其中&quot;From：&quot;指向主版本目录，Revision中的版本号是主版本到分支版本最后一次合并时的版本号，而&quot;To：&quot;中则是分支目录中当前的版本号。此合并的意义是：将分支版本中新加入的内容全部合并到主版本中。同样可以采用一些预检手段来达到消除冲突的目的，不过，由于我们定期的将主版本更新内容合并入分支版本，因此该次合并的冲突产生几率几乎为零。当完成了该次操作后，主版本内容将和分支版本内容完全同步，此时branch\\_guild工作目录已经没有存在的必要，可以将其删除。\n\n将合并后的主版本内容签入到主版本目录，以完成整个操作。\n\n[](@page5)\n## 5. 建立稳定的tags版本\n\n当一个版本测试稳定了之后，可以将当前稳定的主版本内容建立一个标记。标记的建立方式和工作分支的建立方式完全相同，但意义不同。标记的建立是标明某一阶段的一个稳定版本，它直接对应我们向外发布的文件版本号，在开发多语言版本时，该地运营商使用的版本可能落后于我们本地的版本，因此可以直接从标记中获取该稳定版本，生成对应的程序文件送交该运营商，并可针对该版本进行相应的维护。\n\n[](@page6)\n## 6. 利用合并特性修改bug\n\n如果程序文件中存在一个bug，并且该bug在之前的多个版本中都存在，那么要解决该bug，不需要依次调出每个版本进行修改，而只需要修改一份，并通过合并操作更改其他版本，具体步骤如下：\n\n> 1. 本地工作目录切换到主版本（我们默认主版本中也存在该bug）\n> 2. 在主版本中进行bug修正，并签入。\n\n切换到每一个过去包含该bug的标记版本（因为有可能是因为加入了某一个新功能导致的bug，如果某些标记版本中不包含该功能，就部需要修改），进行合并操作，如图：\n\n![](/data/uploads/programmer_common/images/m_fb38cbbcbffdf0f3fe2df44e63edabe5_r.png)\n\n可以看到，我们是针对tags/1.0.30进行合并，而合并的内容是主版本265到266之间的变化，而这部分的变化则对应bug的修复。也就是说，我们只将修复该bug的内容合并入分支标记版本，而1.0.30至主版本原有的变化则不签入1.0.30，这样就可以保证1.0.30版本除了修正该bug外，不会加入任何主版本中加入的新内容，以保证各个版本之间的独立性。\n\n当然在这种情况下，冲突是有可能发生的。在这种情况下，只能进行手动的修正。不过在多数情况下，该方法可以快速的对bug进行全版本修复，并且能避免手动更改情况下的一些人为错误。\n\n[](@page7)\n## 7. 其它注意的问题\n\n当本地版本需要针对当前版本库进行更新时，或者从一个版本切换到另一个版本时，不推荐使用VC中的Anka插件。实验证明，该插件存在bug，可能导致不能正确进行文件更新及版本切换，导致在生成对应的程序版本时发生错误。','<article class=\"markdown-article-inner\"><h1 id=\"avphhj\" class=\"markdown-heading\"><a name=\"avphhj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>SVN日常操作流程文档</h1><p class=\"line\">Version： 0.6</p>\n<p class=\"line\">Author：  刘晓冬</p>\n<p class=\"line\">Data：  2008-01-30</p>\n<ul>\n<li><a href=\"#page1\">1. 获取远程svn数据库中文件的流程</a></li><li><a href=\"#page2\">2. 向svn数据库中添加文件</a></li><li><a href=\"#page3\">3. 多人协作下的文件改动及签入流程</a></li><li><a href=\"#page4\">4. 工作版本分支的建立及合并</a></li><li><a href=\"#page5\">5. 建立稳定的tags版本</a></li><li><a href=\"#page6\">6. 利用合并特性修改bug</a></li><li><a href=\"#page7\">7. 其它注意的问题</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"50h8hi\" class=\"markdown-heading\"><a name=\"50h8hi\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1. 获取远程svn数据库中文件的流程</h2><ul>\n<li>新建一个本地目录<br/><img src=\"/data/uploads/programmer_common/images/m_79d2f39b3f92bf4d0f3e94878e51a3c2_r.png\" title=\"null\" alt=\"\"/></li></ul>\n<ul>\n<li>进入该目录，右键菜单中选择<code>Svn Checkout</code><br/><img src=\"/data/uploads/programmer_common/images/m_c7a8abbe24dad834590fad11187c8786_r.png\" title=\"null\" alt=\"\"/></li></ul>\n<ul>\n<li>在弹出的svn数据库窗口中，选择需要获取的文件，点击确定后，即在本地建立SVN数据库的文件副本：<br/><img src=\"/data/uploads/programmer_common/images/m_fd1abec90781469b17227bee8f253c19_r.png\" title=\"null\" alt=\"\"/></li></ul>\n<blockquote class=\"warning\">\n<p class=\"line\">注意，如果需要在本地目录下获取多个svn数据库中的文件，则首先获取自己主要工作的版本，然后针对其他数据库要获取的相应目录建立对应的本地目录，然后针对该目录进行获取。比如我们在本地建立一个KungfuClient的目录，该目录用于存储gongfu_client数据库中保存的客户端所有程序文件，而此时如果我们同时需要在本地获取地图编辑器工具程序，则可以在KungfuClient目录下建立一个MapEditor的目录，然后进入该目录获取gongfu_tool中的该程序对应的程序文件，这样就可以让两个库中的程序共享同一层目录，方便联合编译。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"dahdgc\" class=\"markdown-heading\"><a name=\"dahdgc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2. 向svn数据库中添加文件</h2><p class=\"line\">首先将要加入的文件放入到本地程序目录下。比如在此时，我需要在zoneserver目录下加入一个MyStream.h的文件，那么先将该文件放入zoneserver的目录下：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_8465e4a57d9c50224e50f28ddd8b411c_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">当要将其加入到svn数据时，右键单击该文件，选取<code>TortoiseSVN——Add</code>，在弹出的界面中确认该文件的加入即可：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_27dcea83ef4bbc0110932a48c05ea7f8_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">此时该文件会变成带加号的图标格式，然后我们将其再次签入即可：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_1b5bdc5665249f1a22b4fce3447223a4_r.png\" title=\"null\" alt=\"\"/></p>\n<blockquote class=\"warning\">\n<p class=\"line\">注意，如果需要在数据库中添加一个二进制文件，比如Excel文件，svn会将其保存为其他的文件类型，比如Excel文件，svn用默认的mime-type进行保存，我在本地进行过实验，该种类型文件也可以进行版本的管理和多分支的合并。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"984asg\" class=\"markdown-heading\"><a name=\"984asg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3. 多人协作下的文件改动及签入流程</h2><p class=\"line\">用svn对文件进行操作时，不需要显示的锁定签出文件即可更改，任何的冲突检测都是在签入时进行的。不过，尽管svn可以有效的控制冲突，但冲突的解决却需要程序员自己来进行。为了最大限度的避免冲突的发生，在对某个文件进行操作时，推荐的流程如下：</p>\n<blockquote class=\"default\">\n<ol>\n<li>在对文件进行操作之前，从版本库中显示的更新svn中指定版本号文件的最新版本，这可以使得在进行操作之前，本地文件与svn库中的文件的版本一致。</li><li>在对文件的操作完成之后，不要立即签入，再次从svn中进行一次更新，因为在这过程中，可能有其他同事也更改了该文件。通过该过程，svn可以自动的将数据库中该文件的最新内容合并到本地拷贝。</li><li>对合并后的本地拷贝进行编译，试运行，看是否通过。</li><li>将本地拷贝签入到svn数据库中，这样可以基本上避免冲突的发生。</li></ol>\n</blockquote>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"546npj\" class=\"markdown-heading\"><a name=\"546npj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4. 工作版本分支的建立及合并</h2><p class=\"line\">当我们需要在系统中加入一个大的系统模块时，这个模块的开发周期可能为一至两个月，但同时我们也需要对当前已存在的版本进行维护并修改bug。因此，需要针对该模块建立一个工作版本分支，所有新模块的内容都在分支上进行开发，而同时可以对主版本中的bug进行修复及维护。在此过程中，需要定期的对主版本及分支版本进行同步操作。最终，当这个大的系统模块开发完成并调试通过后，可将其合并到当前的主版本中，作为一次统一的系统升级。在这里以前段时间门派及国家系统的服务器端修改流程为例进行描述。</p>\n<h3 id=\"big26g\" class=\"markdown-heading\"><a name=\"big26g\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>建立工作分支</h3><p class=\"line\">首先，在gonfu_server的顶级目录建立一个brance_guild目录。该目录的创建方法可选择在svn数据库浏览器上直接操作：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_af74eb5dbfb2a16522dcc94948a13d45_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">其次，在本地拷贝目录下建立分支</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_a332f4ae72978ebc149c194dc6a4beb1_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">在弹出的窗口中，可以看到，我们需要基于gongfu_server/trunk目录的文件建立分支，下面的三个单选钮用于指定是基于哪个具体的版本建立分支。一般情况下我们会选择trunk上的最新版本，但如果此时trunk上并不是一个稳定的版本，则可能需要明确的指定一个版本建立分支，在&#34;To URL&#34;输入框中，我们输入分支保存在svn数据库中的路径，也就是我们刚才建立的分支目录，点击&#34;确定&#34;，此时trunk中某一特定版本对应的文件将会拷贝到该分支对应的目录下：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_961b39629e67d242a9bfb3b1ba63348c_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">如果我们需要在分支上进行开发，需要将本地的工作拷贝切换到分支版本下，可以切换整个数据库下的文件，也可以针对某个程序文件（如xZoneServer）进行切换。右键点选<code>TortoiseSVN——Switch</code>：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_4a2f9026b909dec6ea62adeae877f781_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">将弹出下面的窗口，在该窗口中，我们填写或者浏览到想要获取的分支版本，点击确定，则此分支对应的文件将会从数据库中导出，并更新我们本地的工作拷贝：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_3fee5492d94cc4653cbedd9d11bcd4d9_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">在这里我选择了branch_guild分支，此操作会将分支中的所有服务器程序文件拷贝到本地工作目录，如果只想切换某一个具体的程序，只需要右键单击该程序文件目录，并在最后&#34;To URL&#34;输入框中，写入该程序的具体路径就可以了，比如，在上面的输入框中，我在后面加上/xZoneServer，则xZoneServer目录中的文件将切换成分支上的文件，其他服务器程序仍然保持trunk上的版本。</p>\n<h3 id=\"eunx0\" class=\"markdown-heading\"><a name=\"eunx0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>分支上的开发</h3><p class=\"line\">在分支上进行开发，与在trunk下进行开发的流程相同，之前提到的多人协同工作时的建议同样适用于分支。只是需要确保在本地分支拷贝上进行修改的过程中中，不要再切换到其他任何版本，如果需要切换，则先将分支版本签入。</p>\n<p class=\"line\">如果此时主版本需要修改某个bug，则需要先将本地拷贝切换到trunk版本，在此上进行修改，并签入到主版本。此时所有这些改动并没有添加到分支中，分支中对应的主版本内容仍然是建立分支时刻对应的主版本内容。</p>\n<h3 id=\"fzlif0\" class=\"markdown-heading\"><a name=\"fzlif0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>主版本到分支版本的合并</h3><p class=\"line\">在某一个时刻，一般为每周周末，我们需要将当周主版本的改动合并到分支中，以保证主版本和分支内容上的同步，具体操作流程如下：</p>\n<p class=\"line\">首先将本地工作拷贝切换到分支版本。</p>\n<p class=\"line\">接下来察看分支版本的日志，右键点选<code>TortoiseSVN——ShowLog</code>，查找分支建立时对应的主版本号，如图：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_6719e6f4106ffbf589c0596c5fd84a9b_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">由图可以看到，分支版本建立时对应的版本号为213，在最下面的框中可以看到，它是基于主版本212版本号对应的程序文件建立的，而这个版本号则是我们合并的起始点。</p>\n<p class=\"line\">在本地拷贝中目录下右键点击<code>TortoiseSVN——Merge</code>，出现如图对话框：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_c412744825162aa96b022908f9571312_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">通过查看日志，我们已经知道合并的起始点为主版本的212版本，因此在上图中的&#34;From：&#34;输入框中，我们需要填入主版本的工作目录，并将对应的版本号填入212，在下面的&#34;To：&#34;输入框中，由于我们是将主版本的当前版本内容并入分支，因此只需要将版本号注为&#34;Head Version&#34;，目录不需要变化。这样，就会将主版本在分支建立时到当前的所有改动并入分支，使得分支中除了新加入的内容之外，其余部分均与主版本内容同步。</p>\n<p class=\"line\">除了&#34;Merge&#34;按钮外，其他三个按钮可以用于对将要合并的内容进行一下预检，可以用Diff和Unified diff分别检查版本间的文件级和代码级差异，&#34;Dry Run&#34;可以做一次预合并。注意这种合并可能会产生冲突，如果有冲突产生，可以根据冲突给出的提示信息来进行手动修正，待修正完毕后再进行签入。冲突的产生一般情况下是因为两个版本修改了代码文件的同一行引起的。如果保证在分支中只增加新内容，而将原有内容的修改都放在主版本中进行，可以最大程度的避免冲突的发生。</p>\n<p class=\"line\">当合并之后，再将合并后的内容签入到分支中，整个过程就完成了。不过需要注意的一个非常重要问题是，此时的主版本和分支版本的合并点已不是之前的212版本，而是此次合并时主版本在&#34;To：&#34;中指定的版本号，因此当在合并后对分支进行签入时，最好在注释框中注明本次合并的终点主版本号，当下一次再需要将主版本的改动合并到分支时，将以该版本号作为合并起始点。我通过查日志并没有发现明确注明合并事件的日志，所以才加入了注释。如果今后发现了更明确的日志信息，本部分内容再做调整。</p>\n<h3 id=\"e5e8e5\" class=\"markdown-heading\"><a name=\"e5e8e5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>分支版本合并到主版本</h3><p class=\"line\">当分支开发完毕并测试通过后，需要将分支的内容合并入主版本，以使主版本的内容与分支中的内容完全一致，在合并分支内容之前，如果主版本此时相对上次合并又做了改动，则需要执行上述的过程先将主版本的改动并入到分支，并记录此次合并点的主版本号。待该步骤完毕后，再执行分支的合并操作，具体合并流程如下：</p>\n<p class=\"line\">本地工作拷贝切换到主版本。</p>\n<p class=\"line\">在主版本的工作目录下右键点选<code>TortoiseSVN——Merge</code>，弹出如下窗口：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_8a8e9de7e68e8686648377be922607c1_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">此合并相对于之前主版本合并到分支过程最大的不同在于&#34;From：&#34;和&#34;To：&#34;分别指向不同的目录，其中&#34;From：&#34;指向主版本目录，Revision中的版本号是主版本到分支版本最后一次合并时的版本号，而&#34;To：&#34;中则是分支目录中当前的版本号。此合并的意义是：将分支版本中新加入的内容全部合并到主版本中。同样可以采用一些预检手段来达到消除冲突的目的，不过，由于我们定期的将主版本更新内容合并入分支版本，因此该次合并的冲突产生几率几乎为零。当完成了该次操作后，主版本内容将和分支版本内容完全同步，此时branch_guild工作目录已经没有存在的必要，可以将其删除。</p>\n<p class=\"line\">将合并后的主版本内容签入到主版本目录，以完成整个操作。</p>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"eipa55\" class=\"markdown-heading\"><a name=\"eipa55\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5. 建立稳定的tags版本</h2><p class=\"line\">当一个版本测试稳定了之后，可以将当前稳定的主版本内容建立一个标记。标记的建立方式和工作分支的建立方式完全相同，但意义不同。标记的建立是标明某一阶段的一个稳定版本，它直接对应我们向外发布的文件版本号，在开发多语言版本时，该地运营商使用的版本可能落后于我们本地的版本，因此可以直接从标记中获取该稳定版本，生成对应的程序文件送交该运营商，并可针对该版本进行相应的维护。</p>\n<p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"a1gvi2\" class=\"markdown-heading\"><a name=\"a1gvi2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6. 利用合并特性修改bug</h2><p class=\"line\">如果程序文件中存在一个bug，并且该bug在之前的多个版本中都存在，那么要解决该bug，不需要依次调出每个版本进行修改，而只需要修改一份，并通过合并操作更改其他版本，具体步骤如下：</p>\n<blockquote class=\"default\">\n<ol>\n<li>本地工作目录切换到主版本（我们默认主版本中也存在该bug）</li><li>在主版本中进行bug修正，并签入。</li></ol>\n</blockquote>\n<p class=\"line\">切换到每一个过去包含该bug的标记版本（因为有可能是因为加入了某一个新功能导致的bug，如果某些标记版本中不包含该功能，就部需要修改），进行合并操作，如图：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_fb38cbbcbffdf0f3fe2df44e63edabe5_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">可以看到，我们是针对tags/1.0.30进行合并，而合并的内容是主版本265到266之间的变化，而这部分的变化则对应bug的修复。也就是说，我们只将修复该bug的内容合并入分支标记版本，而1.0.30至主版本原有的变化则不签入1.0.30，这样就可以保证1.0.30版本除了修正该bug外，不会加入任何主版本中加入的新内容，以保证各个版本之间的独立性。</p>\n<p class=\"line\">当然在这种情况下，冲突是有可能发生的。在这种情况下，只能进行手动的修正。不过在多数情况下，该方法可以快速的对bug进行全版本修复，并且能避免手动更改情况下的一些人为错误。</p>\n<p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"z9m5y\" class=\"markdown-heading\"><a name=\"z9m5y\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7. 其它注意的问题</h2><p class=\"line\">当本地版本需要针对当前版本库进行更新时，或者从一个版本切换到另一个版本时，不推荐使用VC中的Anka插件。实验证明，该插件存在bug，可能导致不能正确进行文件更新及版本切换，导致在生成对应的程序版本时发生错误。</p><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-20 14:30   作者：万韬</div></article>','<h1 id=\"avphhj\" class=\"markdown-heading\"><a name=\"avphhj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>SVN日常操作流程文档</h1><p class=\"line\">Version： 0.6</p>\n<p class=\"line\">Author：  刘晓冬</p>\n<p class=\"line\">Data：  2008-01-30</p>\n<ul>\n<li><a href=\"#page1\">1. 获取远程svn数据库中文件的流程</a></li><li><a href=\"#page2\">2. 向svn数据库中添加文件</a></li><li><a href=\"#page3\">3. 多人协作下的文件改动及签入流程</a></li><li><a href=\"#page4\">4. 工作版本分支的建立及合并</a></li><li><a href=\"#page5\">5. 建立稳定的tags版本</a></li><li><a href=\"#page6\">6. 利用合并特性修改bug</a></li><li><a href=\"#page7\">7. 其它注意的问题</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"50h8hi\" class=\"markdown-heading\"><a name=\"50h8hi\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1. 获取远程svn数据库中文件的流程</h2><ul>\n<li>新建一个本地目录<br><img src=\"/data/uploads/programmer_common/images/m_79d2f39b3f92bf4d0f3e94878e51a3c2_r.png\" title=\"null\" alt=\"\"></li></ul>\n<ul>\n<li>进入该目录，右键菜单中选择<code>Svn Checkout</code><br><img src=\"/data/uploads/programmer_common/images/m_c7a8abbe24dad834590fad11187c8786_r.png\" title=\"null\" alt=\"\"></li></ul>\n<ul>\n<li>在弹出的svn数据库窗口中，选择需要获取的文件，点击确定后，即在本地建立SVN数据库的文件副本：<br><img src=\"/data/uploads/programmer_common/images/m_fd1abec90781469b17227bee8f253c19_r.png\" title=\"null\" alt=\"\"></li></ul>\n<blockquote class=\"warning\">\n<p class=\"line\">注意，如果需要在本地目录下获取多个svn数据库中的文件，则首先获取自己主要工作的版本，然后针对其他数据库要获取的相应目录建立对应的本地目录，然后针对该目录进行获取。比如我们在本地建立一个KungfuClient的目录，该目录用于存储gongfu_client数据库中保存的客户端所有程序文件，而此时如果我们同时需要在本地获取地图编辑器工具程序，则可以在KungfuClient目录下建立一个MapEditor的目录，然后进入该目录获取gongfu_tool中的该程序对应的程序文件，这样就可以让两个库中的程序共享同一层目录，方便联合编译。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"dahdgc\" class=\"markdown-heading\"><a name=\"dahdgc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2. 向svn数据库中添加文件</h2><p class=\"line\">首先将要加入的文件放入到本地程序目录下。比如在此时，我需要在zoneserver目录下加入一个MyStream.h的文件，那么先将该文件放入zoneserver的目录下：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_8465e4a57d9c50224e50f28ddd8b411c_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">当要将其加入到svn数据时，右键单击该文件，选取<code>TortoiseSVN——Add</code>，在弹出的界面中确认该文件的加入即可：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_27dcea83ef4bbc0110932a48c05ea7f8_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">此时该文件会变成带加号的图标格式，然后我们将其再次签入即可：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_1b5bdc5665249f1a22b4fce3447223a4_r.png\" title=\"null\" alt=\"\"></p>\n<blockquote class=\"warning\">\n<p class=\"line\">注意，如果需要在数据库中添加一个二进制文件，比如Excel文件，svn会将其保存为其他的文件类型，比如Excel文件，svn用默认的mime-type进行保存，我在本地进行过实验，该种类型文件也可以进行版本的管理和多分支的合并。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"984asg\" class=\"markdown-heading\"><a name=\"984asg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3. 多人协作下的文件改动及签入流程</h2><p class=\"line\">用svn对文件进行操作时，不需要显示的锁定签出文件即可更改，任何的冲突检测都是在签入时进行的。不过，尽管svn可以有效的控制冲突，但冲突的解决却需要程序员自己来进行。为了最大限度的避免冲突的发生，在对某个文件进行操作时，推荐的流程如下：</p>\n<blockquote class=\"default\">\n<ol>\n<li>在对文件进行操作之前，从版本库中显示的更新svn中指定版本号文件的最新版本，这可以使得在进行操作之前，本地文件与svn库中的文件的版本一致。</li><li>在对文件的操作完成之后，不要立即签入，再次从svn中进行一次更新，因为在这过程中，可能有其他同事也更改了该文件。通过该过程，svn可以自动的将数据库中该文件的最新内容合并到本地拷贝。</li><li>对合并后的本地拷贝进行编译，试运行，看是否通过。</li><li>将本地拷贝签入到svn数据库中，这样可以基本上避免冲突的发生。</li></ol>\n</blockquote>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"546npj\" class=\"markdown-heading\"><a name=\"546npj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4. 工作版本分支的建立及合并</h2><p class=\"line\">当我们需要在系统中加入一个大的系统模块时，这个模块的开发周期可能为一至两个月，但同时我们也需要对当前已存在的版本进行维护并修改bug。因此，需要针对该模块建立一个工作版本分支，所有新模块的内容都在分支上进行开发，而同时可以对主版本中的bug进行修复及维护。在此过程中，需要定期的对主版本及分支版本进行同步操作。最终，当这个大的系统模块开发完成并调试通过后，可将其合并到当前的主版本中，作为一次统一的系统升级。在这里以前段时间门派及国家系统的服务器端修改流程为例进行描述。</p>\n<h3 id=\"big26g\" class=\"markdown-heading\"><a name=\"big26g\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>建立工作分支</h3><p class=\"line\">首先，在gonfu_server的顶级目录建立一个brance_guild目录。该目录的创建方法可选择在svn数据库浏览器上直接操作：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_af74eb5dbfb2a16522dcc94948a13d45_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">其次，在本地拷贝目录下建立分支</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_a332f4ae72978ebc149c194dc6a4beb1_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">在弹出的窗口中，可以看到，我们需要基于gongfu_server/trunk目录的文件建立分支，下面的三个单选钮用于指定是基于哪个具体的版本建立分支。一般情况下我们会选择trunk上的最新版本，但如果此时trunk上并不是一个稳定的版本，则可能需要明确的指定一个版本建立分支，在\"To URL\"输入框中，我们输入分支保存在svn数据库中的路径，也就是我们刚才建立的分支目录，点击\"确定\"，此时trunk中某一特定版本对应的文件将会拷贝到该分支对应的目录下：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_961b39629e67d242a9bfb3b1ba63348c_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">如果我们需要在分支上进行开发，需要将本地的工作拷贝切换到分支版本下，可以切换整个数据库下的文件，也可以针对某个程序文件（如xZoneServer）进行切换。右键点选<code>TortoiseSVN——Switch</code>：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_4a2f9026b909dec6ea62adeae877f781_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">将弹出下面的窗口，在该窗口中，我们填写或者浏览到想要获取的分支版本，点击确定，则此分支对应的文件将会从数据库中导出，并更新我们本地的工作拷贝：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_3fee5492d94cc4653cbedd9d11bcd4d9_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">在这里我选择了branch_guild分支，此操作会将分支中的所有服务器程序文件拷贝到本地工作目录，如果只想切换某一个具体的程序，只需要右键单击该程序文件目录，并在最后\"To URL\"输入框中，写入该程序的具体路径就可以了，比如，在上面的输入框中，我在后面加上/xZoneServer，则xZoneServer目录中的文件将切换成分支上的文件，其他服务器程序仍然保持trunk上的版本。</p>\n<h3 id=\"eunx0\" class=\"markdown-heading\"><a name=\"eunx0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>分支上的开发</h3><p class=\"line\">在分支上进行开发，与在trunk下进行开发的流程相同，之前提到的多人协同工作时的建议同样适用于分支。只是需要确保在本地分支拷贝上进行修改的过程中中，不要再切换到其他任何版本，如果需要切换，则先将分支版本签入。</p>\n<p class=\"line\">如果此时主版本需要修改某个bug，则需要先将本地拷贝切换到trunk版本，在此上进行修改，并签入到主版本。此时所有这些改动并没有添加到分支中，分支中对应的主版本内容仍然是建立分支时刻对应的主版本内容。</p>\n<h3 id=\"fzlif0\" class=\"markdown-heading\"><a name=\"fzlif0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>主版本到分支版本的合并</h3><p class=\"line\">在某一个时刻，一般为每周周末，我们需要将当周主版本的改动合并到分支中，以保证主版本和分支内容上的同步，具体操作流程如下：</p>\n<p class=\"line\">首先将本地工作拷贝切换到分支版本。</p>\n<p class=\"line\">接下来察看分支版本的日志，右键点选<code>TortoiseSVN——ShowLog</code>，查找分支建立时对应的主版本号，如图：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_6719e6f4106ffbf589c0596c5fd84a9b_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">由图可以看到，分支版本建立时对应的版本号为213，在最下面的框中可以看到，它是基于主版本212版本号对应的程序文件建立的，而这个版本号则是我们合并的起始点。</p>\n<p class=\"line\">在本地拷贝中目录下右键点击<code>TortoiseSVN——Merge</code>，出现如图对话框：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_c412744825162aa96b022908f9571312_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">通过查看日志，我们已经知道合并的起始点为主版本的212版本，因此在上图中的\"From：\"输入框中，我们需要填入主版本的工作目录，并将对应的版本号填入212，在下面的\"To：\"输入框中，由于我们是将主版本的当前版本内容并入分支，因此只需要将版本号注为\"Head Version\"，目录不需要变化。这样，就会将主版本在分支建立时到当前的所有改动并入分支，使得分支中除了新加入的内容之外，其余部分均与主版本内容同步。</p>\n<p class=\"line\">除了\"Merge\"按钮外，其他三个按钮可以用于对将要合并的内容进行一下预检，可以用Diff和Unified diff分别检查版本间的文件级和代码级差异，\"Dry Run\"可以做一次预合并。注意这种合并可能会产生冲突，如果有冲突产生，可以根据冲突给出的提示信息来进行手动修正，待修正完毕后再进行签入。冲突的产生一般情况下是因为两个版本修改了代码文件的同一行引起的。如果保证在分支中只增加新内容，而将原有内容的修改都放在主版本中进行，可以最大程度的避免冲突的发生。</p>\n<p class=\"line\">当合并之后，再将合并后的内容签入到分支中，整个过程就完成了。不过需要注意的一个非常重要问题是，此时的主版本和分支版本的合并点已不是之前的212版本，而是此次合并时主版本在\"To：\"中指定的版本号，因此当在合并后对分支进行签入时，最好在注释框中注明本次合并的终点主版本号，当下一次再需要将主版本的改动合并到分支时，将以该版本号作为合并起始点。我通过查日志并没有发现明确注明合并事件的日志，所以才加入了注释。如果今后发现了更明确的日志信息，本部分内容再做调整。</p>\n<h3 id=\"e5e8e5\" class=\"markdown-heading\"><a name=\"e5e8e5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>分支版本合并到主版本</h3><p class=\"line\">当分支开发完毕并测试通过后，需要将分支的内容合并入主版本，以使主版本的内容与分支中的内容完全一致，在合并分支内容之前，如果主版本此时相对上次合并又做了改动，则需要执行上述的过程先将主版本的改动并入到分支，并记录此次合并点的主版本号。待该步骤完毕后，再执行分支的合并操作，具体合并流程如下：</p>\n<p class=\"line\">本地工作拷贝切换到主版本。</p>\n<p class=\"line\">在主版本的工作目录下右键点选<code>TortoiseSVN——Merge</code>，弹出如下窗口：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_8a8e9de7e68e8686648377be922607c1_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">此合并相对于之前主版本合并到分支过程最大的不同在于\"From：\"和\"To：\"分别指向不同的目录，其中\"From：\"指向主版本目录，Revision中的版本号是主版本到分支版本最后一次合并时的版本号，而\"To：\"中则是分支目录中当前的版本号。此合并的意义是：将分支版本中新加入的内容全部合并到主版本中。同样可以采用一些预检手段来达到消除冲突的目的，不过，由于我们定期的将主版本更新内容合并入分支版本，因此该次合并的冲突产生几率几乎为零。当完成了该次操作后，主版本内容将和分支版本内容完全同步，此时branch_guild工作目录已经没有存在的必要，可以将其删除。</p>\n<p class=\"line\">将合并后的主版本内容签入到主版本目录，以完成整个操作。</p>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"eipa55\" class=\"markdown-heading\"><a name=\"eipa55\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5. 建立稳定的tags版本</h2><p class=\"line\">当一个版本测试稳定了之后，可以将当前稳定的主版本内容建立一个标记。标记的建立方式和工作分支的建立方式完全相同，但意义不同。标记的建立是标明某一阶段的一个稳定版本，它直接对应我们向外发布的文件版本号，在开发多语言版本时，该地运营商使用的版本可能落后于我们本地的版本，因此可以直接从标记中获取该稳定版本，生成对应的程序文件送交该运营商，并可针对该版本进行相应的维护。</p>\n<p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"a1gvi2\" class=\"markdown-heading\"><a name=\"a1gvi2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6. 利用合并特性修改bug</h2><p class=\"line\">如果程序文件中存在一个bug，并且该bug在之前的多个版本中都存在，那么要解决该bug，不需要依次调出每个版本进行修改，而只需要修改一份，并通过合并操作更改其他版本，具体步骤如下：</p>\n<blockquote class=\"default\">\n<ol>\n<li>本地工作目录切换到主版本（我们默认主版本中也存在该bug）</li><li>在主版本中进行bug修正，并签入。</li></ol>\n</blockquote>\n<p class=\"line\">切换到每一个过去包含该bug的标记版本（因为有可能是因为加入了某一个新功能导致的bug，如果某些标记版本中不包含该功能，就部需要修改），进行合并操作，如图：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_fb38cbbcbffdf0f3fe2df44e63edabe5_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">可以看到，我们是针对tags/1.0.30进行合并，而合并的内容是主版本265到266之间的变化，而这部分的变化则对应bug的修复。也就是说，我们只将修复该bug的内容合并入分支标记版本，而1.0.30至主版本原有的变化则不签入1.0.30，这样就可以保证1.0.30版本除了修正该bug外，不会加入任何主版本中加入的新内容，以保证各个版本之间的独立性。</p>\n<p class=\"line\">当然在这种情况下，冲突是有可能发生的。在这种情况下，只能进行手动的修正。不过在多数情况下，该方法可以快速的对bug进行全版本修复，并且能避免手动更改情况下的一些人为错误。</p>\n<p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"z9m5y\" class=\"markdown-heading\"><a name=\"z9m5y\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7. 其它注意的问题</h2><p class=\"line\">当本地版本需要针对当前版本库进行更新时，或者从一个版本切换到另一个版本时，不推荐使用VC中的Anka插件。实验证明，该插件存在bug，可能导致不能正确进行文件更新及版本切换，导致在生成对应的程序版本时发生错误。</p>\n','2019-09-17 15:30:03',2,'2019-09-20 14:41:05',2,1568732195,1),(12,'SVN日常操作流程文档','quality_tester_common-1bh999n3p63kg',6,0,1,'# SVN日常操作流程文档\n\nVersion： 0.6\n\nAuthor：  刘晓冬\n\nData：  2008-01-30\n\n* [1. 获取远程svn数据库中文件的流程](#page1)\n* [2. 向svn数据库中添加文件](#page2)\n* [3. 多人协作下的文件改动及签入流程](#page3)\n* [4. 工作版本分支的建立及合并](#page4)\n* [5. 建立稳定的tags版本](#page5)\n* [6. 利用合并特性修改bug](#page6)\n* [7. 其它注意的问题](#page7)\n\n[](@page1)\n## 1. 获取远程svn数据库中文件的流程\n\n* 新建一个本地目录\n![](/data/uploads/programmer_common/images/m_79d2f39b3f92bf4d0f3e94878e51a3c2_r.png)\n\n\n* 进入该目录，右键菜单中选择`Svn Checkout`\n![](/data/uploads/programmer_common/images/m_c7a8abbe24dad834590fad11187c8786_r.png)\n\n\n* 在弹出的svn数据库窗口中，选择需要获取的文件，点击确定后，即在本地建立SVN数据库的文件副本：\n![](/data/uploads/programmer_common/images/m_fd1abec90781469b17227bee8f253c19_r.png)\n\n\n>[warning]注意，如果需要在本地目录下获取多个svn数据库中的文件，则首先获取自己主要工作的版本，然后针对其他数据库要获取的相应目录建立对应的本地目录，然后针对该目录进行获取。比如我们在本地建立一个KungfuClient的目录，该目录用于存储gongfu\\_client数据库中保存的客户端所有程序文件，而此时如果我们同时需要在本地获取地图编辑器工具程序，则可以在KungfuClient目录下建立一个MapEditor的目录，然后进入该目录获取gongfu\\_tool中的该程序对应的程序文件，这样就可以让两个库中的程序共享同一层目录，方便联合编译。\n\n[](@page2)\n## 2. 向svn数据库中添加文件\n\n\n\n首先将要加入的文件放入到本地程序目录下。比如在此时，我需要在zoneserver目录下加入一个MyStream.h的文件，那么先将该文件放入zoneserver的目录下：\n\n![](/data/uploads/programmer_common/images/m_8465e4a57d9c50224e50f28ddd8b411c_r.png)\n\n当要将其加入到svn数据时，右键单击该文件，选取`TortoiseSVN——Add`，在弹出的界面中确认该文件的加入即可：\n\n![](/data/uploads/programmer_common/images/m_27dcea83ef4bbc0110932a48c05ea7f8_r.png)\n\n此时该文件会变成带加号的图标格式，然后我们将其再次签入即可：\n\n![](/data/uploads/programmer_common/images/m_1b5bdc5665249f1a22b4fce3447223a4_r.png)\n\n>[warning]注意，如果需要在数据库中添加一个二进制文件，比如Excel文件，svn会将其保存为其他的文件类型，比如Excel文件，svn用默认的mime-type进行保存，我在本地进行过实验，该种类型文件也可以进行版本的管理和多分支的合并。\n\n[](@page3)\n## 3. 多人协作下的文件改动及签入流程\n\n用svn对文件进行操作时，不需要显示的锁定签出文件即可更改，任何的冲突检测都是在签入时进行的。不过，尽管svn可以有效的控制冲突，但冲突的解决却需要程序员自己来进行。为了最大限度的避免冲突的发生，在对某个文件进行操作时，推荐的流程如下：\n\n>1. 在对文件进行操作之前，从版本库中显示的更新svn中指定版本号文件的最新版本，这可以使得在进行操作之前，本地文件与svn库中的文件的版本一致。\n2. 在对文件的操作完成之后，不要立即签入，再次从svn中进行一次更新，因为在这过程中，可能有其他同事也更改了该文件。通过该过程，svn可以自动的将数据库中该文件的最新内容合并到本地拷贝。\n3. 对合并后的本地拷贝进行编译，试运行，看是否通过。\n4. 将本地拷贝签入到svn数据库中，这样可以基本上避免冲突的发生。\n\n[](@page4)\n## 4. 工作版本分支的建立及合并\n\n当我们需要在系统中加入一个大的系统模块时，这个模块的开发周期可能为一至两个月，但同时我们也需要对当前已存在的版本进行维护并修改bug。因此，需要针对该模块建立一个工作版本分支，所有新模块的内容都在分支上进行开发，而同时可以对主版本中的bug进行修复及维护。在此过程中，需要定期的对主版本及分支版本进行同步操作。最终，当这个大的系统模块开发完成并调试通过后，可将其合并到当前的主版本中，作为一次统一的系统升级。在这里以前段时间门派及国家系统的服务器端修改流程为例进行描述。\n\n### 建立工作分支\n\n首先，在gonfu\\_server的顶级目录建立一个brance\\_guild目录。该目录的创建方法可选择在svn数据库浏览器上直接操作：\n\n![](/data/uploads/programmer_common/images/m_af74eb5dbfb2a16522dcc94948a13d45_r.png)\n\n其次，在本地拷贝目录下建立分支\n\n![](/data/uploads/programmer_common/images/m_a332f4ae72978ebc149c194dc6a4beb1_r.png)\n\n在弹出的窗口中，可以看到，我们需要基于gongfu\\_server/trunk目录的文件建立分支，下面的三个单选钮用于指定是基于哪个具体的版本建立分支。一般情况下我们会选择trunk上的最新版本，但如果此时trunk上并不是一个稳定的版本，则可能需要明确的指定一个版本建立分支，在&quot;To URL&quot;输入框中，我们输入分支保存在svn数据库中的路径，也就是我们刚才建立的分支目录，点击&quot;确定&quot;，此时trunk中某一特定版本对应的文件将会拷贝到该分支对应的目录下：\n\n![](/data/uploads/programmer_common/images/m_961b39629e67d242a9bfb3b1ba63348c_r.png)\n\n如果我们需要在分支上进行开发，需要将本地的工作拷贝切换到分支版本下，可以切换整个数据库下的文件，也可以针对某个程序文件（如xZoneServer）进行切换。右键点选`TortoiseSVN——Switch`：\n\n![](/data/uploads/programmer_common/images/m_4a2f9026b909dec6ea62adeae877f781_r.png)\n\n将弹出下面的窗口，在该窗口中，我们填写或者浏览到想要获取的分支版本，点击确定，则此分支对应的文件将会从数据库中导出，并更新我们本地的工作拷贝：\n\n![](/data/uploads/programmer_common/images/m_3fee5492d94cc4653cbedd9d11bcd4d9_r.png)\n\n在这里我选择了branch\\_guild分支，此操作会将分支中的所有服务器程序文件拷贝到本地工作目录，如果只想切换某一个具体的程序，只需要右键单击该程序文件目录，并在最后&quot;To URL&quot;输入框中，写入该程序的具体路径就可以了，比如，在上面的输入框中，我在后面加上/xZoneServer，则xZoneServer目录中的文件将切换成分支上的文件，其他服务器程序仍然保持trunk上的版本。\n\n### 分支上的开发\n\n在分支上进行开发，与在trunk下进行开发的流程相同，之前提到的多人协同工作时的建议同样适用于分支。只是需要确保在本地分支拷贝上进行修改的过程中中，不要再切换到其他任何版本，如果需要切换，则先将分支版本签入。\n\n如果此时主版本需要修改某个bug，则需要先将本地拷贝切换到trunk版本，在此上进行修改，并签入到主版本。此时所有这些改动并没有添加到分支中，分支中对应的主版本内容仍然是建立分支时刻对应的主版本内容。\n\n### 主版本到分支版本的合并\n\n在某一个时刻，一般为每周周末，我们需要将当周主版本的改动合并到分支中，以保证主版本和分支内容上的同步，具体操作流程如下：\n\n首先将本地工作拷贝切换到分支版本。\n\n接下来察看分支版本的日志，右键点选`TortoiseSVN——ShowLog`，查找分支建立时对应的主版本号，如图：\n\n![](/data/uploads/programmer_common/images/m_6719e6f4106ffbf589c0596c5fd84a9b_r.png)\n\n由图可以看到，分支版本建立时对应的版本号为213，在最下面的框中可以看到，它是基于主版本212版本号对应的程序文件建立的，而这个版本号则是我们合并的起始点。\n\n在本地拷贝中目录下右键点击`TortoiseSVN——Merge`，出现如图对话框：\n\n![](/data/uploads/programmer_common/images/m_c412744825162aa96b022908f9571312_r.png)\n\n通过查看日志，我们已经知道合并的起始点为主版本的212版本，因此在上图中的&quot;From：&quot;输入框中，我们需要填入主版本的工作目录，并将对应的版本号填入212，在下面的&quot;To：&quot;输入框中，由于我们是将主版本的当前版本内容并入分支，因此只需要将版本号注为&quot;Head Version&quot;，目录不需要变化。这样，就会将主版本在分支建立时到当前的所有改动并入分支，使得分支中除了新加入的内容之外，其余部分均与主版本内容同步。\n\n除了&quot;Merge&quot;按钮外，其他三个按钮可以用于对将要合并的内容进行一下预检，可以用Diff和Unified diff分别检查版本间的文件级和代码级差异，&quot;Dry Run&quot;可以做一次预合并。注意这种合并可能会产生冲突，如果有冲突产生，可以根据冲突给出的提示信息来进行手动修正，待修正完毕后再进行签入。冲突的产生一般情况下是因为两个版本修改了代码文件的同一行引起的。如果保证在分支中只增加新内容，而将原有内容的修改都放在主版本中进行，可以最大程度的避免冲突的发生。\n\n当合并之后，再将合并后的内容签入到分支中，整个过程就完成了。不过需要注意的一个非常重要问题是，此时的主版本和分支版本的合并点已不是之前的212版本，而是此次合并时主版本在&quot;To：&quot;中指定的版本号，因此当在合并后对分支进行签入时，最好在注释框中注明本次合并的终点主版本号，当下一次再需要将主版本的改动合并到分支时，将以该版本号作为合并起始点。我通过查日志并没有发现明确注明合并事件的日志，所以才加入了注释。如果今后发现了更明确的日志信息，本部分内容再做调整。\n\n### 分支版本合并到主版本\n\n当分支开发完毕并测试通过后，需要将分支的内容合并入主版本，以使主版本的内容与分支中的内容完全一致，在合并分支内容之前，如果主版本此时相对上次合并又做了改动，则需要执行上述的过程先将主版本的改动并入到分支，并记录此次合并点的主版本号。待该步骤完毕后，再执行分支的合并操作，具体合并流程如下：\n\n本地工作拷贝切换到主版本。\n\n在主版本的工作目录下右键点选`TortoiseSVN——Merge`，弹出如下窗口：\n\n![](/data/uploads/programmer_common/images/m_8a8e9de7e68e8686648377be922607c1_r.png)\n\n此合并相对于之前主版本合并到分支过程最大的不同在于&quot;From：&quot;和&quot;To：&quot;分别指向不同的目录，其中&quot;From：&quot;指向主版本目录，Revision中的版本号是主版本到分支版本最后一次合并时的版本号，而&quot;To：&quot;中则是分支目录中当前的版本号。此合并的意义是：将分支版本中新加入的内容全部合并到主版本中。同样可以采用一些预检手段来达到消除冲突的目的，不过，由于我们定期的将主版本更新内容合并入分支版本，因此该次合并的冲突产生几率几乎为零。当完成了该次操作后，主版本内容将和分支版本内容完全同步，此时branch\\_guild工作目录已经没有存在的必要，可以将其删除。\n\n将合并后的主版本内容签入到主版本目录，以完成整个操作。\n\n[](@page5)\n## 5. 建立稳定的tags版本\n\n当一个版本测试稳定了之后，可以将当前稳定的主版本内容建立一个标记。标记的建立方式和工作分支的建立方式完全相同，但意义不同。标记的建立是标明某一阶段的一个稳定版本，它直接对应我们向外发布的文件版本号，在开发多语言版本时，该地运营商使用的版本可能落后于我们本地的版本，因此可以直接从标记中获取该稳定版本，生成对应的程序文件送交该运营商，并可针对该版本进行相应的维护。\n\n[](@page6)\n## 6. 利用合并特性修改bug\n\n如果程序文件中存在一个bug，并且该bug在之前的多个版本中都存在，那么要解决该bug，不需要依次调出每个版本进行修改，而只需要修改一份，并通过合并操作更改其他版本，具体步骤如下：\n\n> 1. 本地工作目录切换到主版本（我们默认主版本中也存在该bug）\n> 2. 在主版本中进行bug修正，并签入。\n\n切换到每一个过去包含该bug的标记版本（因为有可能是因为加入了某一个新功能导致的bug，如果某些标记版本中不包含该功能，就部需要修改），进行合并操作，如图：\n\n![](/data/uploads/programmer_common/images/m_fb38cbbcbffdf0f3fe2df44e63edabe5_r.png)\n\n可以看到，我们是针对tags/1.0.30进行合并，而合并的内容是主版本265到266之间的变化，而这部分的变化则对应bug的修复。也就是说，我们只将修复该bug的内容合并入分支标记版本，而1.0.30至主版本原有的变化则不签入1.0.30，这样就可以保证1.0.30版本除了修正该bug外，不会加入任何主版本中加入的新内容，以保证各个版本之间的独立性。\n\n当然在这种情况下，冲突是有可能发生的。在这种情况下，只能进行手动的修正。不过在多数情况下，该方法可以快速的对bug进行全版本修复，并且能避免手动更改情况下的一些人为错误。\n\n[](@page7)\n## 7. 其它注意的问题\n\n当本地版本需要针对当前版本库进行更新时，或者从一个版本切换到另一个版本时，不推荐使用VC中的Anka插件。实验证明，该插件存在bug，可能导致不能正确进行文件更新及版本切换，导致在生成对应的程序版本时发生错误。','<article class=\"markdown-article-inner\"><h1 id=\"acbojc\" class=\"markdown-heading\"><a name=\"acbojc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>SVN日常操作流程文档</h1><p class=\"line\">Version： 0.6</p>\n<p class=\"line\">Author：  刘晓冬</p>\n<p class=\"line\">Data：  2008-01-30</p>\n<ul>\n<li><a href=\"#page1\">1. 获取远程svn数据库中文件的流程</a></li><li><a href=\"#page2\">2. 向svn数据库中添加文件</a></li><li><a href=\"#page3\">3. 多人协作下的文件改动及签入流程</a></li><li><a href=\"#page4\">4. 工作版本分支的建立及合并</a></li><li><a href=\"#page5\">5. 建立稳定的tags版本</a></li><li><a href=\"#page6\">6. 利用合并特性修改bug</a></li><li><a href=\"#page7\">7. 其它注意的问题</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"6vr2t1\" class=\"markdown-heading\"><a name=\"6vr2t1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1. 获取远程svn数据库中文件的流程</h2><ul>\n<li>新建一个本地目录<br/><img src=\"/data/uploads/programmer_common/images/m_79d2f39b3f92bf4d0f3e94878e51a3c2_r.png\" title=\"null\" alt=\"\"/></li></ul>\n<ul>\n<li>进入该目录，右键菜单中选择<code>Svn Checkout</code><br/><img src=\"/data/uploads/programmer_common/images/m_c7a8abbe24dad834590fad11187c8786_r.png\" title=\"null\" alt=\"\"/></li></ul>\n<ul>\n<li>在弹出的svn数据库窗口中，选择需要获取的文件，点击确定后，即在本地建立SVN数据库的文件副本：<br/><img src=\"/data/uploads/programmer_common/images/m_fd1abec90781469b17227bee8f253c19_r.png\" title=\"null\" alt=\"\"/></li></ul>\n<blockquote class=\"warning\">\n<p class=\"line\">注意，如果需要在本地目录下获取多个svn数据库中的文件，则首先获取自己主要工作的版本，然后针对其他数据库要获取的相应目录建立对应的本地目录，然后针对该目录进行获取。比如我们在本地建立一个KungfuClient的目录，该目录用于存储gongfu_client数据库中保存的客户端所有程序文件，而此时如果我们同时需要在本地获取地图编辑器工具程序，则可以在KungfuClient目录下建立一个MapEditor的目录，然后进入该目录获取gongfu_tool中的该程序对应的程序文件，这样就可以让两个库中的程序共享同一层目录，方便联合编译。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"8yi7ti\" class=\"markdown-heading\"><a name=\"8yi7ti\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2. 向svn数据库中添加文件</h2><p class=\"line\">首先将要加入的文件放入到本地程序目录下。比如在此时，我需要在zoneserver目录下加入一个MyStream.h的文件，那么先将该文件放入zoneserver的目录下：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_8465e4a57d9c50224e50f28ddd8b411c_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">当要将其加入到svn数据时，右键单击该文件，选取<code>TortoiseSVN——Add</code>，在弹出的界面中确认该文件的加入即可：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_27dcea83ef4bbc0110932a48c05ea7f8_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">此时该文件会变成带加号的图标格式，然后我们将其再次签入即可：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_1b5bdc5665249f1a22b4fce3447223a4_r.png\" title=\"null\" alt=\"\"/></p>\n<blockquote class=\"warning\">\n<p class=\"line\">注意，如果需要在数据库中添加一个二进制文件，比如Excel文件，svn会将其保存为其他的文件类型，比如Excel文件，svn用默认的mime-type进行保存，我在本地进行过实验，该种类型文件也可以进行版本的管理和多分支的合并。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"8os118\" class=\"markdown-heading\"><a name=\"8os118\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3. 多人协作下的文件改动及签入流程</h2><p class=\"line\">用svn对文件进行操作时，不需要显示的锁定签出文件即可更改，任何的冲突检测都是在签入时进行的。不过，尽管svn可以有效的控制冲突，但冲突的解决却需要程序员自己来进行。为了最大限度的避免冲突的发生，在对某个文件进行操作时，推荐的流程如下：</p>\n<blockquote class=\"default\">\n<ol>\n<li>在对文件进行操作之前，从版本库中显示的更新svn中指定版本号文件的最新版本，这可以使得在进行操作之前，本地文件与svn库中的文件的版本一致。</li><li>在对文件的操作完成之后，不要立即签入，再次从svn中进行一次更新，因为在这过程中，可能有其他同事也更改了该文件。通过该过程，svn可以自动的将数据库中该文件的最新内容合并到本地拷贝。</li><li>对合并后的本地拷贝进行编译，试运行，看是否通过。</li><li>将本地拷贝签入到svn数据库中，这样可以基本上避免冲突的发生。</li></ol>\n</blockquote>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"fyt54o\" class=\"markdown-heading\"><a name=\"fyt54o\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4. 工作版本分支的建立及合并</h2><p class=\"line\">当我们需要在系统中加入一个大的系统模块时，这个模块的开发周期可能为一至两个月，但同时我们也需要对当前已存在的版本进行维护并修改bug。因此，需要针对该模块建立一个工作版本分支，所有新模块的内容都在分支上进行开发，而同时可以对主版本中的bug进行修复及维护。在此过程中，需要定期的对主版本及分支版本进行同步操作。最终，当这个大的系统模块开发完成并调试通过后，可将其合并到当前的主版本中，作为一次统一的系统升级。在这里以前段时间门派及国家系统的服务器端修改流程为例进行描述。</p>\n<h3 id=\"5jzcmv\" class=\"markdown-heading\"><a name=\"5jzcmv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>建立工作分支</h3><p class=\"line\">首先，在gonfu_server的顶级目录建立一个brance_guild目录。该目录的创建方法可选择在svn数据库浏览器上直接操作：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_af74eb5dbfb2a16522dcc94948a13d45_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">其次，在本地拷贝目录下建立分支</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_a332f4ae72978ebc149c194dc6a4beb1_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">在弹出的窗口中，可以看到，我们需要基于gongfu_server/trunk目录的文件建立分支，下面的三个单选钮用于指定是基于哪个具体的版本建立分支。一般情况下我们会选择trunk上的最新版本，但如果此时trunk上并不是一个稳定的版本，则可能需要明确的指定一个版本建立分支，在&#34;To URL&#34;输入框中，我们输入分支保存在svn数据库中的路径，也就是我们刚才建立的分支目录，点击&#34;确定&#34;，此时trunk中某一特定版本对应的文件将会拷贝到该分支对应的目录下：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_961b39629e67d242a9bfb3b1ba63348c_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">如果我们需要在分支上进行开发，需要将本地的工作拷贝切换到分支版本下，可以切换整个数据库下的文件，也可以针对某个程序文件（如xZoneServer）进行切换。右键点选<code>TortoiseSVN——Switch</code>：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_4a2f9026b909dec6ea62adeae877f781_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">将弹出下面的窗口，在该窗口中，我们填写或者浏览到想要获取的分支版本，点击确定，则此分支对应的文件将会从数据库中导出，并更新我们本地的工作拷贝：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_3fee5492d94cc4653cbedd9d11bcd4d9_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">在这里我选择了branch_guild分支，此操作会将分支中的所有服务器程序文件拷贝到本地工作目录，如果只想切换某一个具体的程序，只需要右键单击该程序文件目录，并在最后&#34;To URL&#34;输入框中，写入该程序的具体路径就可以了，比如，在上面的输入框中，我在后面加上/xZoneServer，则xZoneServer目录中的文件将切换成分支上的文件，其他服务器程序仍然保持trunk上的版本。</p>\n<h3 id=\"ajg8f8\" class=\"markdown-heading\"><a name=\"ajg8f8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>分支上的开发</h3><p class=\"line\">在分支上进行开发，与在trunk下进行开发的流程相同，之前提到的多人协同工作时的建议同样适用于分支。只是需要确保在本地分支拷贝上进行修改的过程中中，不要再切换到其他任何版本，如果需要切换，则先将分支版本签入。</p>\n<p class=\"line\">如果此时主版本需要修改某个bug，则需要先将本地拷贝切换到trunk版本，在此上进行修改，并签入到主版本。此时所有这些改动并没有添加到分支中，分支中对应的主版本内容仍然是建立分支时刻对应的主版本内容。</p>\n<h3 id=\"4cr8r0\" class=\"markdown-heading\"><a name=\"4cr8r0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>主版本到分支版本的合并</h3><p class=\"line\">在某一个时刻，一般为每周周末，我们需要将当周主版本的改动合并到分支中，以保证主版本和分支内容上的同步，具体操作流程如下：</p>\n<p class=\"line\">首先将本地工作拷贝切换到分支版本。</p>\n<p class=\"line\">接下来察看分支版本的日志，右键点选<code>TortoiseSVN——ShowLog</code>，查找分支建立时对应的主版本号，如图：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_6719e6f4106ffbf589c0596c5fd84a9b_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">由图可以看到，分支版本建立时对应的版本号为213，在最下面的框中可以看到，它是基于主版本212版本号对应的程序文件建立的，而这个版本号则是我们合并的起始点。</p>\n<p class=\"line\">在本地拷贝中目录下右键点击<code>TortoiseSVN——Merge</code>，出现如图对话框：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_c412744825162aa96b022908f9571312_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">通过查看日志，我们已经知道合并的起始点为主版本的212版本，因此在上图中的&#34;From：&#34;输入框中，我们需要填入主版本的工作目录，并将对应的版本号填入212，在下面的&#34;To：&#34;输入框中，由于我们是将主版本的当前版本内容并入分支，因此只需要将版本号注为&#34;Head Version&#34;，目录不需要变化。这样，就会将主版本在分支建立时到当前的所有改动并入分支，使得分支中除了新加入的内容之外，其余部分均与主版本内容同步。</p>\n<p class=\"line\">除了&#34;Merge&#34;按钮外，其他三个按钮可以用于对将要合并的内容进行一下预检，可以用Diff和Unified diff分别检查版本间的文件级和代码级差异，&#34;Dry Run&#34;可以做一次预合并。注意这种合并可能会产生冲突，如果有冲突产生，可以根据冲突给出的提示信息来进行手动修正，待修正完毕后再进行签入。冲突的产生一般情况下是因为两个版本修改了代码文件的同一行引起的。如果保证在分支中只增加新内容，而将原有内容的修改都放在主版本中进行，可以最大程度的避免冲突的发生。</p>\n<p class=\"line\">当合并之后，再将合并后的内容签入到分支中，整个过程就完成了。不过需要注意的一个非常重要问题是，此时的主版本和分支版本的合并点已不是之前的212版本，而是此次合并时主版本在&#34;To：&#34;中指定的版本号，因此当在合并后对分支进行签入时，最好在注释框中注明本次合并的终点主版本号，当下一次再需要将主版本的改动合并到分支时，将以该版本号作为合并起始点。我通过查日志并没有发现明确注明合并事件的日志，所以才加入了注释。如果今后发现了更明确的日志信息，本部分内容再做调整。</p>\n<h3 id=\"dxmgyb\" class=\"markdown-heading\"><a name=\"dxmgyb\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>分支版本合并到主版本</h3><p class=\"line\">当分支开发完毕并测试通过后，需要将分支的内容合并入主版本，以使主版本的内容与分支中的内容完全一致，在合并分支内容之前，如果主版本此时相对上次合并又做了改动，则需要执行上述的过程先将主版本的改动并入到分支，并记录此次合并点的主版本号。待该步骤完毕后，再执行分支的合并操作，具体合并流程如下：</p>\n<p class=\"line\">本地工作拷贝切换到主版本。</p>\n<p class=\"line\">在主版本的工作目录下右键点选<code>TortoiseSVN——Merge</code>，弹出如下窗口：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_8a8e9de7e68e8686648377be922607c1_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">此合并相对于之前主版本合并到分支过程最大的不同在于&#34;From：&#34;和&#34;To：&#34;分别指向不同的目录，其中&#34;From：&#34;指向主版本目录，Revision中的版本号是主版本到分支版本最后一次合并时的版本号，而&#34;To：&#34;中则是分支目录中当前的版本号。此合并的意义是：将分支版本中新加入的内容全部合并到主版本中。同样可以采用一些预检手段来达到消除冲突的目的，不过，由于我们定期的将主版本更新内容合并入分支版本，因此该次合并的冲突产生几率几乎为零。当完成了该次操作后，主版本内容将和分支版本内容完全同步，此时branch_guild工作目录已经没有存在的必要，可以将其删除。</p>\n<p class=\"line\">将合并后的主版本内容签入到主版本目录，以完成整个操作。</p>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"5t6yis\" class=\"markdown-heading\"><a name=\"5t6yis\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5. 建立稳定的tags版本</h2><p class=\"line\">当一个版本测试稳定了之后，可以将当前稳定的主版本内容建立一个标记。标记的建立方式和工作分支的建立方式完全相同，但意义不同。标记的建立是标明某一阶段的一个稳定版本，它直接对应我们向外发布的文件版本号，在开发多语言版本时，该地运营商使用的版本可能落后于我们本地的版本，因此可以直接从标记中获取该稳定版本，生成对应的程序文件送交该运营商，并可针对该版本进行相应的维护。</p>\n<p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"cdqa7n\" class=\"markdown-heading\"><a name=\"cdqa7n\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6. 利用合并特性修改bug</h2><p class=\"line\">如果程序文件中存在一个bug，并且该bug在之前的多个版本中都存在，那么要解决该bug，不需要依次调出每个版本进行修改，而只需要修改一份，并通过合并操作更改其他版本，具体步骤如下：</p>\n<blockquote class=\"default\">\n<ol>\n<li>本地工作目录切换到主版本（我们默认主版本中也存在该bug）</li><li>在主版本中进行bug修正，并签入。</li></ol>\n</blockquote>\n<p class=\"line\">切换到每一个过去包含该bug的标记版本（因为有可能是因为加入了某一个新功能导致的bug，如果某些标记版本中不包含该功能，就部需要修改），进行合并操作，如图：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_fb38cbbcbffdf0f3fe2df44e63edabe5_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">可以看到，我们是针对tags/1.0.30进行合并，而合并的内容是主版本265到266之间的变化，而这部分的变化则对应bug的修复。也就是说，我们只将修复该bug的内容合并入分支标记版本，而1.0.30至主版本原有的变化则不签入1.0.30，这样就可以保证1.0.30版本除了修正该bug外，不会加入任何主版本中加入的新内容，以保证各个版本之间的独立性。</p>\n<p class=\"line\">当然在这种情况下，冲突是有可能发生的。在这种情况下，只能进行手动的修正。不过在多数情况下，该方法可以快速的对bug进行全版本修复，并且能避免手动更改情况下的一些人为错误。</p>\n<p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"2m0tu2\" class=\"markdown-heading\"><a name=\"2m0tu2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7. 其它注意的问题</h2><p class=\"line\">当本地版本需要针对当前版本库进行更新时，或者从一个版本切换到另一个版本时，不推荐使用VC中的Anka插件。实验证明，该插件存在bug，可能导致不能正确进行文件更新及版本切换，导致在生成对应的程序版本时发生错误。</p><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-20 13:59   作者：万韬</div></article>','<h1 id=\"acbojc\" class=\"markdown-heading\"><a name=\"acbojc\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>SVN日常操作流程文档</h1><p class=\"line\">Version： 0.6</p>\n<p class=\"line\">Author：  刘晓冬</p>\n<p class=\"line\">Data：  2008-01-30</p>\n<ul>\n<li><a href=\"#page1\">1. 获取远程svn数据库中文件的流程</a></li><li><a href=\"#page2\">2. 向svn数据库中添加文件</a></li><li><a href=\"#page3\">3. 多人协作下的文件改动及签入流程</a></li><li><a href=\"#page4\">4. 工作版本分支的建立及合并</a></li><li><a href=\"#page5\">5. 建立稳定的tags版本</a></li><li><a href=\"#page6\">6. 利用合并特性修改bug</a></li><li><a href=\"#page7\">7. 其它注意的问题</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"6vr2t1\" class=\"markdown-heading\"><a name=\"6vr2t1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1. 获取远程svn数据库中文件的流程</h2><ul>\n<li>新建一个本地目录<br><img src=\"/data/uploads/programmer_common/images/m_79d2f39b3f92bf4d0f3e94878e51a3c2_r.png\" title=\"null\" alt=\"\"></li></ul>\n<ul>\n<li>进入该目录，右键菜单中选择<code>Svn Checkout</code><br><img src=\"/data/uploads/programmer_common/images/m_c7a8abbe24dad834590fad11187c8786_r.png\" title=\"null\" alt=\"\"></li></ul>\n<ul>\n<li>在弹出的svn数据库窗口中，选择需要获取的文件，点击确定后，即在本地建立SVN数据库的文件副本：<br><img src=\"/data/uploads/programmer_common/images/m_fd1abec90781469b17227bee8f253c19_r.png\" title=\"null\" alt=\"\"></li></ul>\n<blockquote class=\"warning\">\n<p class=\"line\">注意，如果需要在本地目录下获取多个svn数据库中的文件，则首先获取自己主要工作的版本，然后针对其他数据库要获取的相应目录建立对应的本地目录，然后针对该目录进行获取。比如我们在本地建立一个KungfuClient的目录，该目录用于存储gongfu_client数据库中保存的客户端所有程序文件，而此时如果我们同时需要在本地获取地图编辑器工具程序，则可以在KungfuClient目录下建立一个MapEditor的目录，然后进入该目录获取gongfu_tool中的该程序对应的程序文件，这样就可以让两个库中的程序共享同一层目录，方便联合编译。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"8yi7ti\" class=\"markdown-heading\"><a name=\"8yi7ti\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2. 向svn数据库中添加文件</h2><p class=\"line\">首先将要加入的文件放入到本地程序目录下。比如在此时，我需要在zoneserver目录下加入一个MyStream.h的文件，那么先将该文件放入zoneserver的目录下：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_8465e4a57d9c50224e50f28ddd8b411c_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">当要将其加入到svn数据时，右键单击该文件，选取<code>TortoiseSVN——Add</code>，在弹出的界面中确认该文件的加入即可：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_27dcea83ef4bbc0110932a48c05ea7f8_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">此时该文件会变成带加号的图标格式，然后我们将其再次签入即可：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_1b5bdc5665249f1a22b4fce3447223a4_r.png\" title=\"null\" alt=\"\"></p>\n<blockquote class=\"warning\">\n<p class=\"line\">注意，如果需要在数据库中添加一个二进制文件，比如Excel文件，svn会将其保存为其他的文件类型，比如Excel文件，svn用默认的mime-type进行保存，我在本地进行过实验，该种类型文件也可以进行版本的管理和多分支的合并。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"8os118\" class=\"markdown-heading\"><a name=\"8os118\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3. 多人协作下的文件改动及签入流程</h2><p class=\"line\">用svn对文件进行操作时，不需要显示的锁定签出文件即可更改，任何的冲突检测都是在签入时进行的。不过，尽管svn可以有效的控制冲突，但冲突的解决却需要程序员自己来进行。为了最大限度的避免冲突的发生，在对某个文件进行操作时，推荐的流程如下：</p>\n<blockquote class=\"default\">\n<ol>\n<li>在对文件进行操作之前，从版本库中显示的更新svn中指定版本号文件的最新版本，这可以使得在进行操作之前，本地文件与svn库中的文件的版本一致。</li><li>在对文件的操作完成之后，不要立即签入，再次从svn中进行一次更新，因为在这过程中，可能有其他同事也更改了该文件。通过该过程，svn可以自动的将数据库中该文件的最新内容合并到本地拷贝。</li><li>对合并后的本地拷贝进行编译，试运行，看是否通过。</li><li>将本地拷贝签入到svn数据库中，这样可以基本上避免冲突的发生。</li></ol>\n</blockquote>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"fyt54o\" class=\"markdown-heading\"><a name=\"fyt54o\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4. 工作版本分支的建立及合并</h2><p class=\"line\">当我们需要在系统中加入一个大的系统模块时，这个模块的开发周期可能为一至两个月，但同时我们也需要对当前已存在的版本进行维护并修改bug。因此，需要针对该模块建立一个工作版本分支，所有新模块的内容都在分支上进行开发，而同时可以对主版本中的bug进行修复及维护。在此过程中，需要定期的对主版本及分支版本进行同步操作。最终，当这个大的系统模块开发完成并调试通过后，可将其合并到当前的主版本中，作为一次统一的系统升级。在这里以前段时间门派及国家系统的服务器端修改流程为例进行描述。</p>\n<h3 id=\"5jzcmv\" class=\"markdown-heading\"><a name=\"5jzcmv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>建立工作分支</h3><p class=\"line\">首先，在gonfu_server的顶级目录建立一个brance_guild目录。该目录的创建方法可选择在svn数据库浏览器上直接操作：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_af74eb5dbfb2a16522dcc94948a13d45_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">其次，在本地拷贝目录下建立分支</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_a332f4ae72978ebc149c194dc6a4beb1_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">在弹出的窗口中，可以看到，我们需要基于gongfu_server/trunk目录的文件建立分支，下面的三个单选钮用于指定是基于哪个具体的版本建立分支。一般情况下我们会选择trunk上的最新版本，但如果此时trunk上并不是一个稳定的版本，则可能需要明确的指定一个版本建立分支，在\"To URL\"输入框中，我们输入分支保存在svn数据库中的路径，也就是我们刚才建立的分支目录，点击\"确定\"，此时trunk中某一特定版本对应的文件将会拷贝到该分支对应的目录下：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_961b39629e67d242a9bfb3b1ba63348c_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">如果我们需要在分支上进行开发，需要将本地的工作拷贝切换到分支版本下，可以切换整个数据库下的文件，也可以针对某个程序文件（如xZoneServer）进行切换。右键点选<code>TortoiseSVN——Switch</code>：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_4a2f9026b909dec6ea62adeae877f781_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">将弹出下面的窗口，在该窗口中，我们填写或者浏览到想要获取的分支版本，点击确定，则此分支对应的文件将会从数据库中导出，并更新我们本地的工作拷贝：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_3fee5492d94cc4653cbedd9d11bcd4d9_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">在这里我选择了branch_guild分支，此操作会将分支中的所有服务器程序文件拷贝到本地工作目录，如果只想切换某一个具体的程序，只需要右键单击该程序文件目录，并在最后\"To URL\"输入框中，写入该程序的具体路径就可以了，比如，在上面的输入框中，我在后面加上/xZoneServer，则xZoneServer目录中的文件将切换成分支上的文件，其他服务器程序仍然保持trunk上的版本。</p>\n<h3 id=\"ajg8f8\" class=\"markdown-heading\"><a name=\"ajg8f8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>分支上的开发</h3><p class=\"line\">在分支上进行开发，与在trunk下进行开发的流程相同，之前提到的多人协同工作时的建议同样适用于分支。只是需要确保在本地分支拷贝上进行修改的过程中中，不要再切换到其他任何版本，如果需要切换，则先将分支版本签入。</p>\n<p class=\"line\">如果此时主版本需要修改某个bug，则需要先将本地拷贝切换到trunk版本，在此上进行修改，并签入到主版本。此时所有这些改动并没有添加到分支中，分支中对应的主版本内容仍然是建立分支时刻对应的主版本内容。</p>\n<h3 id=\"4cr8r0\" class=\"markdown-heading\"><a name=\"4cr8r0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>主版本到分支版本的合并</h3><p class=\"line\">在某一个时刻，一般为每周周末，我们需要将当周主版本的改动合并到分支中，以保证主版本和分支内容上的同步，具体操作流程如下：</p>\n<p class=\"line\">首先将本地工作拷贝切换到分支版本。</p>\n<p class=\"line\">接下来察看分支版本的日志，右键点选<code>TortoiseSVN——ShowLog</code>，查找分支建立时对应的主版本号，如图：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_6719e6f4106ffbf589c0596c5fd84a9b_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">由图可以看到，分支版本建立时对应的版本号为213，在最下面的框中可以看到，它是基于主版本212版本号对应的程序文件建立的，而这个版本号则是我们合并的起始点。</p>\n<p class=\"line\">在本地拷贝中目录下右键点击<code>TortoiseSVN——Merge</code>，出现如图对话框：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_c412744825162aa96b022908f9571312_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">通过查看日志，我们已经知道合并的起始点为主版本的212版本，因此在上图中的\"From：\"输入框中，我们需要填入主版本的工作目录，并将对应的版本号填入212，在下面的\"To：\"输入框中，由于我们是将主版本的当前版本内容并入分支，因此只需要将版本号注为\"Head Version\"，目录不需要变化。这样，就会将主版本在分支建立时到当前的所有改动并入分支，使得分支中除了新加入的内容之外，其余部分均与主版本内容同步。</p>\n<p class=\"line\">除了\"Merge\"按钮外，其他三个按钮可以用于对将要合并的内容进行一下预检，可以用Diff和Unified diff分别检查版本间的文件级和代码级差异，\"Dry Run\"可以做一次预合并。注意这种合并可能会产生冲突，如果有冲突产生，可以根据冲突给出的提示信息来进行手动修正，待修正完毕后再进行签入。冲突的产生一般情况下是因为两个版本修改了代码文件的同一行引起的。如果保证在分支中只增加新内容，而将原有内容的修改都放在主版本中进行，可以最大程度的避免冲突的发生。</p>\n<p class=\"line\">当合并之后，再将合并后的内容签入到分支中，整个过程就完成了。不过需要注意的一个非常重要问题是，此时的主版本和分支版本的合并点已不是之前的212版本，而是此次合并时主版本在\"To：\"中指定的版本号，因此当在合并后对分支进行签入时，最好在注释框中注明本次合并的终点主版本号，当下一次再需要将主版本的改动合并到分支时，将以该版本号作为合并起始点。我通过查日志并没有发现明确注明合并事件的日志，所以才加入了注释。如果今后发现了更明确的日志信息，本部分内容再做调整。</p>\n<h3 id=\"dxmgyb\" class=\"markdown-heading\"><a name=\"dxmgyb\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>分支版本合并到主版本</h3><p class=\"line\">当分支开发完毕并测试通过后，需要将分支的内容合并入主版本，以使主版本的内容与分支中的内容完全一致，在合并分支内容之前，如果主版本此时相对上次合并又做了改动，则需要执行上述的过程先将主版本的改动并入到分支，并记录此次合并点的主版本号。待该步骤完毕后，再执行分支的合并操作，具体合并流程如下：</p>\n<p class=\"line\">本地工作拷贝切换到主版本。</p>\n<p class=\"line\">在主版本的工作目录下右键点选<code>TortoiseSVN——Merge</code>，弹出如下窗口：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_8a8e9de7e68e8686648377be922607c1_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">此合并相对于之前主版本合并到分支过程最大的不同在于\"From：\"和\"To：\"分别指向不同的目录，其中\"From：\"指向主版本目录，Revision中的版本号是主版本到分支版本最后一次合并时的版本号，而\"To：\"中则是分支目录中当前的版本号。此合并的意义是：将分支版本中新加入的内容全部合并到主版本中。同样可以采用一些预检手段来达到消除冲突的目的，不过，由于我们定期的将主版本更新内容合并入分支版本，因此该次合并的冲突产生几率几乎为零。当完成了该次操作后，主版本内容将和分支版本内容完全同步，此时branch_guild工作目录已经没有存在的必要，可以将其删除。</p>\n<p class=\"line\">将合并后的主版本内容签入到主版本目录，以完成整个操作。</p>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"5t6yis\" class=\"markdown-heading\"><a name=\"5t6yis\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5. 建立稳定的tags版本</h2><p class=\"line\">当一个版本测试稳定了之后，可以将当前稳定的主版本内容建立一个标记。标记的建立方式和工作分支的建立方式完全相同，但意义不同。标记的建立是标明某一阶段的一个稳定版本，它直接对应我们向外发布的文件版本号，在开发多语言版本时，该地运营商使用的版本可能落后于我们本地的版本，因此可以直接从标记中获取该稳定版本，生成对应的程序文件送交该运营商，并可针对该版本进行相应的维护。</p>\n<p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"cdqa7n\" class=\"markdown-heading\"><a name=\"cdqa7n\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6. 利用合并特性修改bug</h2><p class=\"line\">如果程序文件中存在一个bug，并且该bug在之前的多个版本中都存在，那么要解决该bug，不需要依次调出每个版本进行修改，而只需要修改一份，并通过合并操作更改其他版本，具体步骤如下：</p>\n<blockquote class=\"default\">\n<ol>\n<li>本地工作目录切换到主版本（我们默认主版本中也存在该bug）</li><li>在主版本中进行bug修正，并签入。</li></ol>\n</blockquote>\n<p class=\"line\">切换到每一个过去包含该bug的标记版本（因为有可能是因为加入了某一个新功能导致的bug，如果某些标记版本中不包含该功能，就部需要修改），进行合并操作，如图：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_fb38cbbcbffdf0f3fe2df44e63edabe5_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">可以看到，我们是针对tags/1.0.30进行合并，而合并的内容是主版本265到266之间的变化，而这部分的变化则对应bug的修复。也就是说，我们只将修复该bug的内容合并入分支标记版本，而1.0.30至主版本原有的变化则不签入1.0.30，这样就可以保证1.0.30版本除了修正该bug外，不会加入任何主版本中加入的新内容，以保证各个版本之间的独立性。</p>\n<p class=\"line\">当然在这种情况下，冲突是有可能发生的。在这种情况下，只能进行手动的修正。不过在多数情况下，该方法可以快速的对bug进行全版本修复，并且能避免手动更改情况下的一些人为错误。</p>\n<p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"2m0tu2\" class=\"markdown-heading\"><a name=\"2m0tu2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7. 其它注意的问题</h2><p class=\"line\">当本地版本需要针对当前版本库进行更新时，或者从一个版本切换到另一个版本时，不推荐使用VC中的Anka插件。实验证明，该插件存在bug，可能导致不能正确进行文件更新及版本切换，导致在生成对应的程序版本时发生错误。</p>\n','2019-09-17 15:30:59',2,'2019-09-20 14:13:13',2,1568732160,0),(13,'封神召唤师服务器本机配置说明','programmer_common-1bh99h3rilnqo',4,0,2,'# 封神召唤师服务器本机配置说明\n\n## 安装MySql\n>32位系统:  **mysql-5.1.41-win32**\n64位系统:  **mysql-5.1.41-winx64**\n\n## 安装数据库:\n* 用SQLyogEnt导入以下server \\server\\sql 文件夹下的 sql文件\n>**game_db.sql**\n**log_db.sql**\n**logon_db.sql**\n\n* 修改服务器相关配置文件\n>文件路径**server\\server\\settings\\\nconnecting_config.ini\n![](/data/uploads/programmer_common/images/m_cbe3cfac835155a3a33fb7d77368de98_r.png)\ndb_config.ini**\n![](/data/uploads/programmer_common/images/m_9ace96c47be6db3a5c61d46db44b9c49_r.png)\n\n## 服务器所需工具\n* DES Tool.exe\n>数据库密码加密工具用于db_config.ini文件中 pwd字段的加密\n\n* SQLyog\n>数据库工具用于研发查看对应数据\n\n* Windbg\n>安装后\n1.需要将ADplus.bat修改\n![](/data/uploads/programmer_common/images/m_e2928300ea9c529551631c425f9e50d4_r.png)\n2.需要把adplus.vbs替换到windbg安装路径  \nC:\\Program Files\\Debugging Tools for Windows (x64)','<article class=\"markdown-article-inner\"><h1 id=\"9ocfnx\" class=\"markdown-heading\"><a name=\"9ocfnx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>封神召唤师服务器本机配置说明</h1><h2 id=\"6kyjyj\" class=\"markdown-heading\"><a name=\"6kyjyj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>安装MySql</h2><blockquote class=\"default\">\n<p class=\"line\">32位系统:  <strong>mysql-5.1.41-win32</strong><br/>64位系统:  <strong>mysql-5.1.41-winx64</strong></p>\n</blockquote>\n<h2 id=\"3i4agl\" class=\"markdown-heading\"><a name=\"3i4agl\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>安装数据库:</h2><ul>\n<li><p class=\"line\">用SQLyogEnt导入以下server \\server\\sql 文件夹下的 sql文件</p>\n<blockquote class=\"default\">\n<p class=\"line\"><strong>game_db.sql</strong><br/><strong>log_db.sql</strong><br/><strong>logon_db.sql</strong></p>\n</blockquote>\n</li><li><p class=\"line\">修改服务器相关配置文件</p>\n<blockquote class=\"default\">\n<p class=\"line\">文件路径<strong>server\\server\\settings<br/>connecting_config.ini<br/><img src=\"/data/uploads/programmer_common/images/m_cbe3cfac835155a3a33fb7d77368de98_r.png\" title=\"null\" alt=\"\"/><br/>db_config.ini</strong><br/><img src=\"/data/uploads/programmer_common/images/m_9ace96c47be6db3a5c61d46db44b9c49_r.png\" title=\"null\" alt=\"\"/></p>\n</blockquote>\n</li></ul>\n<h2 id=\"cvtmp5\" class=\"markdown-heading\"><a name=\"cvtmp5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>服务器所需工具</h2><ul>\n<li><p class=\"line\">DES Tool.exe</p>\n<blockquote class=\"default\">\n<p class=\"line\">数据库密码加密工具用于db_config.ini文件中 pwd字段的加密</p>\n</blockquote>\n</li><li><p class=\"line\">SQLyog</p>\n<blockquote class=\"default\">\n<p class=\"line\">数据库工具用于研发查看对应数据</p>\n</blockquote>\n</li><li><p class=\"line\">Windbg</p>\n<blockquote class=\"default\">\n<p class=\"line\">安装后<br/>1.需要将ADplus.bat修改<br/><img src=\"/data/uploads/programmer_common/images/m_e2928300ea9c529551631c425f9e50d4_r.png\" title=\"null\" alt=\"\"/><br/>2.需要把adplus.vbs替换到windbg安装路径<br/>C:\\Program Files\\Debugging Tools for Windows (x64)</p>\n</blockquote>\n</li></ul><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-17 23:02   作者：万韬</div></article>','<h1 id=\"9ocfnx\" class=\"markdown-heading\"><a name=\"9ocfnx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>封神召唤师服务器本机配置说明</h1><h2 id=\"6kyjyj\" class=\"markdown-heading\"><a name=\"6kyjyj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>安装MySql</h2><blockquote class=\"default\">\n<p class=\"line\">32位系统:  <strong>mysql-5.1.41-win32</strong><br>64位系统:  <strong>mysql-5.1.41-winx64</strong></p>\n</blockquote>\n<h2 id=\"3i4agl\" class=\"markdown-heading\"><a name=\"3i4agl\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>安装数据库:</h2><ul>\n<li><p class=\"line\">用SQLyogEnt导入以下server \\server\\sql 文件夹下的 sql文件</p>\n<blockquote class=\"default\">\n<p class=\"line\"><strong>game_db.sql</strong><br><strong>log_db.sql</strong><br><strong>logon_db.sql</strong></p>\n</blockquote>\n</li><li><p class=\"line\">修改服务器相关配置文件</p>\n<blockquote class=\"default\">\n<p class=\"line\">文件路径<strong>server\\server\\settings<br>connecting_config.ini<br><img src=\"/data/uploads/programmer_common/images/m_cbe3cfac835155a3a33fb7d77368de98_r.png\" title=\"null\" alt=\"\"><br>db_config.ini</strong><br><img src=\"/data/uploads/programmer_common/images/m_9ace96c47be6db3a5c61d46db44b9c49_r.png\" title=\"null\" alt=\"\"></p>\n</blockquote>\n</li></ul>\n<h2 id=\"cvtmp5\" class=\"markdown-heading\"><a name=\"cvtmp5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>服务器所需工具</h2><ul>\n<li><p class=\"line\">DES Tool.exe</p>\n<blockquote class=\"default\">\n<p class=\"line\">数据库密码加密工具用于db_config.ini文件中 pwd字段的加密</p>\n</blockquote>\n</li><li><p class=\"line\">SQLyog</p>\n<blockquote class=\"default\">\n<p class=\"line\">数据库工具用于研发查看对应数据</p>\n</blockquote>\n</li><li><p class=\"line\">Windbg</p>\n<blockquote class=\"default\">\n<p class=\"line\">安装后<br>1.需要将ADplus.bat修改<br><img src=\"/data/uploads/programmer_common/images/m_e2928300ea9c529551631c425f9e50d4_r.png\" title=\"null\" alt=\"\"><br>2.需要把adplus.vbs替换到windbg安装路径<br>C:\\Program Files\\Debugging Tools for Windows (x64)</p>\n</blockquote>\n</li></ul>\n','2019-09-17 15:35:13',2,'2019-09-18 15:02:34',2,1568706446,0),(14,'程序工作规范','programmer_common-1bh9a57c4cfqg',4,0,0,'# 目录\n\n* [源码书写格式](#page1)\n\n* [规定执行的规范](#page2)\n\n* [建议的风格](#page3)\n\n* [工作流程](#page4)\n\n* [客户端工作路径设置](#page5)\n\n* [外部依赖项目](#page6)\n\n* [源码路径设置](#page7)\n\n* [新建项目属性设置注意](#page8)\n\n* [编辑输出目录和调试工作目录设置](#page9)\n\n[](@page1)\n## 源码书写格式\n[](@page2)\n### 规定执行的规范\n\n* 在公共模块的接口class 和接口函数声明处(或者是在函数定义前), 必须有Doxygen风格的注释;\n![](/data/uploads/programmer_common/images/m_c006dacc0b0c78b8d144c38dcc0e81aa_r.png)\n\n* 定义结构：\n\n	```\n	struct tagScore\n	{\n	DWORD dwKatty,\n	DWORD dwTommy,\n	DWORD dwLucy,\n	....\n	};\n	```\n		\n	>[info]上面例子强调使用tag前缀;\n\n* 枚举：\n\n	```\n	enum Eweek\n	{\n	EW_Monday,\n	EW_Tuesday,\n	EW_Wednesday,\n	....\n	};\n	```\n\n	>[info]上面例子强调使用大写E前缀，以及EW\\_前缀(W代表Week)\n\n	```\n	enum Eplanet\n	{\n		EP_Mercurial,\n		EP_Hesperus,\n		EP_Earth,\n			....\n	};\n	```\n\n	>[info]上面例子强调使用大写E前缀，以及EP\\_前缀(P代表Planet)\n\n\n* 定义常量：\nconst DWORD PERSON\\_NUM = 10; (**常量名用大写**)\n如果非要使用define的话\n```\n#define PERSON\\_NUM 10\n```\n\n* 前缀：\n>全局变量：`g_`(如`g_nScreenWidth`)\n类的成员变量：`m_`(如`m_eWeek`)\n\n* 跨越函数范围的变量的前缀(对于函数内部的变量建议参考)\n>指针：p(如`pRect`)\n枚举成员：e(如`eWeek`)\nBOOL(bool)：b(如`bSwitch`)\nINT(int)：n(如`nPerson`)\nLONG：l(如`lSize`)\nFLOAT(float)：f(如`fTime`)\nDWORD：dw(如`dwTick`)\nWORD：w(如`wHeight`)\nBYTE：by(如`byRed`)\nchar：c(如`cLetter`)\nTCHAR[]：sz(如`szFileName`)\nLPCTSTR\\LPTSTR：`lpsz`(`sz`也可)\n\n[](@page3)\n## 建议的风格\n\n* 前缀：\n>文件作用域内的变量：`f_`\n静态变量：`s_`\n句柄：`h`\nSTL:\nstring：`str`(如`strFileName`)\nvector：`vec`(如`vecArray`)\nlist：`list`(如`listScore`)\nmap：`map`(如`mapCSV`)\n\n* 字符以及字符串：\n>建议使用`TCHAR`, `LPCTSTR`, `LPTSTR`等\n\n* 注释\n	>* 每40行代码至少有1行注释\n	>* 因为某原因将一段程序注释掉后，最好写上注释的原因\n		\n* 关于程序文件结构\n	>* 尽量利用预编译头文件\n	>* 普通头文件中尽量不包含除基类头文件或常量定义头文件外的其他头文件\n\n[](@page4)\n## 工作流程\n\n* 项目程序应指定一个总负责人，另外客户端、服务器各指定一个主程序；\n* 项目的整体架构设计应该经过核心程序团队充分讨论，并制定架构文档；\n* 架构设计完成之后，可以进行模块分工，每个模块可以指定一个负责人；\n* 模块设计应先详细了解策划案，并与策划充分讨论，若有不同意见，可与程序负责人、策划讨论修改意见；\n* 模块设计可由模块负责人或者主程序完成，并形成文档，要求文档至少要包含UML静态结构图，以及关键流程、核心算法的序列图或状态图，或者流程图或者文字描述；\n* 模块设计完成之后，应由主程序复审。主程序应从架构，以及设计质量等方面详细考察设计方案，并指出不恰当的地方予以修正；\n* 模块设计确认之后，可以进行编码实现。在编码完成的同时要求完成单元测试代码，对于界面可以使用交互式测试框架，对于游戏逻辑代码可以使用自动运行的测试代码；\n* 模块负责人完成全部代码，并且通过单元测试之后，应提交主程序进行代码复审，此工作也可由另外一位程序员来做；\n* 上述工作完成之后，可以将模块整合进整个游戏，并根据策划案设计整合测试用例，进行整合测试。\n\n[](@page5)\n# 客户端工作路径设置\n\n[](@page6)\n## 外部依赖项目\n![](/data/uploads/programmer_common/images/m_57ff35aa348560b1c27d330afbd05336_r.png)\n\n![](/data/uploads/programmer_common/images/m_4cbb567c7828a635cf50e54cb867a26f_r.png)\n\n[](@page7)\n## 源码路径设置\n![](/data/uploads/programmer_common/images/m_fbb785f1d345c95027ab8f7eced252cf_r.png)\n\n\n* Work目录结构说明：\n>Work目录包含两个 **主要解决方案** `KungfuClient.sln` , `QuantaClient.sln` , 一个工程输出目录 `\\bin`.每个解决方案又分别包含多个工程.  所有工程都应将**工作目录**设置为`d:\\Work\\bin`\n>结构如下:\n	* KungfuClient.sln :\n		* FWorldEditor   游戏世界编辑器\n		* GameFrame    客户端游戏框架\n		* KungfuClient   游戏客户端程序\n	* QuantaClient.sln\n		* F3D           客户端游戏引擎\n		* F3dView       图片浏览工具\n		* FterrainEditor   地形编辑器\n		* lua            LUA脚本语言解释器\n\n[](@page8)\n## 新建项目属性设置注意\n![](/data/uploads/programmer_common/images/m_d31599babf086acaf3a0c4212e3a02b7_r.png)\n\n[](@page9)\n### 编辑输出目录和调试工作目录设置\n![](/data/uploads/programmer_common/images/m_4468a03fb07bef165284cccf0b06e3ec_r.png)\n\n![](/data/uploads/programmer_common/images/m_228d6e6727dc51921f8d05642a578700_r.png)','<article class=\"markdown-article-inner\"><h1 id=\"6jod01\" class=\"markdown-heading\"><a name=\"6jod01\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>目录</h1><ul>\n<li><p class=\"line\"><a href=\"#page1\">源码书写格式</a></p>\n</li><li><p class=\"line\"><a href=\"#page2\">规定执行的规范</a></p>\n</li><li><p class=\"line\"><a href=\"#page3\">建议的风格</a></p>\n</li><li><p class=\"line\"><a href=\"#page4\">工作流程</a></p>\n</li><li><p class=\"line\"><a href=\"#page5\">客户端工作路径设置</a></p>\n</li><li><p class=\"line\"><a href=\"#page6\">外部依赖项目</a></p>\n</li><li><p class=\"line\"><a href=\"#page7\">源码路径设置</a></p>\n</li><li><p class=\"line\"><a href=\"#page8\">新建项目属性设置注意</a></p>\n</li><li><p class=\"line\"><a href=\"#page9\">编辑输出目录和调试工作目录设置</a></p>\n</li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"738yzg\" class=\"markdown-heading\"><a name=\"738yzg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>源码书写格式</h2><p class=\"line\"><a name=\"page2\"></a></p>\n<h3 id=\"aqd4n6\" class=\"markdown-heading\"><a name=\"aqd4n6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>规定执行的规范</h3><ul>\n<li><p class=\"line\">在公共模块的接口class 和接口函数声明处(或者是在函数定义前), 必须有Doxygen风格的注释;<br/><img src=\"/data/uploads/programmer_common/images/m_c006dacc0b0c78b8d144c38dcc0e81aa_r.png\" title=\"null\" alt=\"\"/></p>\n</li><li><p class=\"line\">定义结构：</p>\n<pre class=\"hljs nginx\"><code>  <span class=\"hljs-attribute\">struct</span> tagScore\n  {\n  <span class=\"hljs-attribute\">DWORD</span> dwKatty,\n  DWORD dwTommy,\n  DWORD dwLucy,\n  ....\n  };</code></pre><blockquote class=\"info\">\n<p class=\"line\">上面例子强调使用tag前缀;</p>\n</blockquote>\n</li><li><p class=\"line\">枚举：</p>\n<pre class=\"hljs cpp\"><code>  <span class=\"hljs-keyword\">enum</span> Eweek\n  {\n  EW_Monday,\n  EW_Tuesday,\n  EW_Wednesday,\n  ....\n  };</code></pre><blockquote class=\"info\">\n<p class=\"line\">上面例子强调使用大写E前缀，以及EW_前缀(W代表Week)</p>\n</blockquote>\n<pre class=\"hljs cpp\"><code>  <span class=\"hljs-keyword\">enum</span> Eplanet\n  {\n      EP_Mercurial,\n      EP_Hesperus,\n      EP_Earth,\n          ....\n  };</code></pre><blockquote class=\"info\">\n<p class=\"line\">上面例子强调使用大写E前缀，以及EP_前缀(P代表Planet)</p>\n</blockquote>\n</li></ul>\n<ul>\n<li><p class=\"line\">定义常量：<br/>const DWORD PERSON_NUM = 10; (<strong>常量名用大写</strong>)<br/>如果非要使用define的话</p>\n<pre class=\"hljs cpp\"><code><span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">define</span> PERSON\\_NUM 10</span></code></pre></li><li><p class=\"line\">前缀：</p>\n<blockquote class=\"default\">\n<p class=\"line\">全局变量：<code>g_</code>(如<code>g_nScreenWidth</code>)<br/>类的成员变量：<code>m_</code>(如<code>m_eWeek</code>)</p>\n</blockquote>\n</li><li><p class=\"line\">跨越函数范围的变量的前缀(对于函数内部的变量建议参考)</p>\n<blockquote class=\"default\">\n<p class=\"line\">指针：p(如<code>pRect</code>)<br/>枚举成员：e(如<code>eWeek</code>)<br/>BOOL(bool)：b(如<code>bSwitch</code>)<br/>INT(int)：n(如<code>nPerson</code>)<br/>LONG：l(如<code>lSize</code>)<br/>FLOAT(float)：f(如<code>fTime</code>)<br/>DWORD：dw(如<code>dwTick</code>)<br/>WORD：w(如<code>wHeight</code>)<br/>BYTE：by(如<code>byRed</code>)<br/>char：c(如<code>cLetter</code>)<br/>TCHAR[]：sz(如<code>szFileName</code>)<br/>LPCTSTR\\LPTSTR：<code>lpsz</code>(<code>sz</code>也可)</p>\n</blockquote>\n</li></ul>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"8ydwo8\" class=\"markdown-heading\"><a name=\"8ydwo8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>建议的风格</h2><ul>\n<li><p class=\"line\">前缀：</p>\n<blockquote class=\"default\">\n<p class=\"line\">文件作用域内的变量：<code>f_</code><br/>静态变量：<code>s_</code><br/>句柄：<code>h</code><br/>STL:<br/>string：<code>str</code>(如<code>strFileName</code>)<br/>vector：<code>vec</code>(如<code>vecArray</code>)<br/>list：<code>list</code>(如<code>listScore</code>)<br/>map：<code>map</code>(如<code>mapCSV</code>)</p>\n</blockquote>\n</li><li><p class=\"line\">字符以及字符串：</p>\n<blockquote class=\"default\">\n<p class=\"line\">建议使用<code>TCHAR</code>, <code>LPCTSTR</code>, <code>LPTSTR</code>等</p>\n</blockquote>\n</li><li><p class=\"line\">注释</p>\n<blockquote class=\"default\">\n<ul>\n<li>每40行代码至少有1行注释</li><li>因为某原因将一段程序注释掉后，最好写上注释的原因</li></ul>\n</blockquote>\n</li><li><p class=\"line\">关于程序文件结构</p>\n<blockquote class=\"default\">\n<ul>\n<li>尽量利用预编译头文件</li><li>普通头文件中尽量不包含除基类头文件或常量定义头文件外的其他头文件</li></ul>\n</blockquote>\n</li></ul>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"9k2849\" class=\"markdown-heading\"><a name=\"9k2849\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>工作流程</h2><ul>\n<li>项目程序应指定一个总负责人，另外客户端、服务器各指定一个主程序；</li><li>项目的整体架构设计应该经过核心程序团队充分讨论，并制定架构文档；</li><li>架构设计完成之后，可以进行模块分工，每个模块可以指定一个负责人；</li><li>模块设计应先详细了解策划案，并与策划充分讨论，若有不同意见，可与程序负责人、策划讨论修改意见；</li><li>模块设计可由模块负责人或者主程序完成，并形成文档，要求文档至少要包含UML静态结构图，以及关键流程、核心算法的序列图或状态图，或者流程图或者文字描述；</li><li>模块设计完成之后，应由主程序复审。主程序应从架构，以及设计质量等方面详细考察设计方案，并指出不恰当的地方予以修正；</li><li>模块设计确认之后，可以进行编码实现。在编码完成的同时要求完成单元测试代码，对于界面可以使用交互式测试框架，对于游戏逻辑代码可以使用自动运行的测试代码；</li><li>模块负责人完成全部代码，并且通过单元测试之后，应提交主程序进行代码复审，此工作也可由另外一位程序员来做；</li><li>上述工作完成之后，可以将模块整合进整个游戏，并根据策划案设计整合测试用例，进行整合测试。</li></ul>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h1 id=\"focj3o\" class=\"markdown-heading\"><a name=\"focj3o\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>客户端工作路径设置</h1><p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"9dyk7g\" class=\"markdown-heading\"><a name=\"9dyk7g\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>外部依赖项目</h2><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_57ff35aa348560b1c27d330afbd05336_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_4cbb567c7828a635cf50e54cb867a26f_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"15jttv\" class=\"markdown-heading\"><a name=\"15jttv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>源码路径设置</h2><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_fbb785f1d345c95027ab8f7eced252cf_r.png\" title=\"null\" alt=\"\"/></p>\n<ul>\n<li>Work目录结构说明：<blockquote class=\"default\">\n<p class=\"line\">Work目录包含两个 <strong>主要解决方案</strong> <code>KungfuClient.sln</code> , <code>QuantaClient.sln</code> , 一个工程输出目录 <code>\\bin</code>.每个解决方案又分别包含多个工程.  所有工程都应将<strong>工作目录</strong>设置为<code>d:\\Work\\bin</code><br/>结构如下:</p>\n<ul>\n<li>KungfuClient.sln :<ul>\n<li>FWorldEditor   游戏世界编辑器</li><li>GameFrame    客户端游戏框架</li><li>KungfuClient   游戏客户端程序</li></ul>\n</li><li>QuantaClient.sln<ul>\n<li>F3D           客户端游戏引擎</li><li>F3dView       图片浏览工具</li><li>FterrainEditor   地形编辑器</li><li>lua            LUA脚本语言解释器</li></ul>\n</li></ul>\n</blockquote>\n</li></ul>\n<p class=\"line\"><a name=\"page8\"></a></p>\n<h2 id=\"clmpf5\" class=\"markdown-heading\"><a name=\"clmpf5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>新建项目属性设置注意</h2><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_d31599babf086acaf3a0c4212e3a02b7_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\"><a name=\"page9\"></a></p>\n<h3 id=\"7b0hmj\" class=\"markdown-heading\"><a name=\"7b0hmj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>编辑输出目录和调试工作目录设置</h3><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_4468a03fb07bef165284cccf0b06e3ec_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_228d6e6727dc51921f8d05642a578700_r.png\" title=\"null\" alt=\"\"/></p><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-17 23:02   作者：万韬</div></article>','<h1 id=\"6jod01\" class=\"markdown-heading\"><a name=\"6jod01\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>目录</h1><ul>\n<li><p class=\"line\"><a href=\"#page1\">源码书写格式</a></p>\n</li><li><p class=\"line\"><a href=\"#page2\">规定执行的规范</a></p>\n</li><li><p class=\"line\"><a href=\"#page3\">建议的风格</a></p>\n</li><li><p class=\"line\"><a href=\"#page4\">工作流程</a></p>\n</li><li><p class=\"line\"><a href=\"#page5\">客户端工作路径设置</a></p>\n</li><li><p class=\"line\"><a href=\"#page6\">外部依赖项目</a></p>\n</li><li><p class=\"line\"><a href=\"#page7\">源码路径设置</a></p>\n</li><li><p class=\"line\"><a href=\"#page8\">新建项目属性设置注意</a></p>\n</li><li><p class=\"line\"><a href=\"#page9\">编辑输出目录和调试工作目录设置</a></p>\n</li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"738yzg\" class=\"markdown-heading\"><a name=\"738yzg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>源码书写格式</h2><p class=\"line\"><a name=\"page2\"></a></p>\n<h3 id=\"aqd4n6\" class=\"markdown-heading\"><a name=\"aqd4n6\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>规定执行的规范</h3><ul>\n<li><p class=\"line\">在公共模块的接口class 和接口函数声明处(或者是在函数定义前), 必须有Doxygen风格的注释;<br><img src=\"/data/uploads/programmer_common/images/m_c006dacc0b0c78b8d144c38dcc0e81aa_r.png\" title=\"null\" alt=\"\"></p>\n</li><li><p class=\"line\">定义结构：</p>\n<pre class=\"hljs nginx\"><code>  <span class=\"hljs-attribute\">struct</span> tagScore\n  {\n  <span class=\"hljs-attribute\">DWORD</span> dwKatty,\n  DWORD dwTommy,\n  DWORD dwLucy,\n  ....\n  };</code></pre><blockquote class=\"info\">\n<p class=\"line\">上面例子强调使用tag前缀;</p>\n</blockquote>\n</li><li><p class=\"line\">枚举：</p>\n<pre class=\"hljs cpp\"><code>  <span class=\"hljs-keyword\">enum</span> Eweek\n  {\n  EW_Monday,\n  EW_Tuesday,\n  EW_Wednesday,\n  ....\n  };</code></pre><blockquote class=\"info\">\n<p class=\"line\">上面例子强调使用大写E前缀，以及EW_前缀(W代表Week)</p>\n</blockquote>\n<pre class=\"hljs cpp\"><code>  <span class=\"hljs-keyword\">enum</span> Eplanet\n  {\n      EP_Mercurial,\n      EP_Hesperus,\n      EP_Earth,\n          ....\n  };</code></pre><blockquote class=\"info\">\n<p class=\"line\">上面例子强调使用大写E前缀，以及EP_前缀(P代表Planet)</p>\n</blockquote>\n</li></ul>\n<ul>\n<li><p class=\"line\">定义常量：<br>const DWORD PERSON_NUM = 10; (<strong>常量名用大写</strong>)<br>如果非要使用define的话</p>\n<pre class=\"hljs cpp\"><code><span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">define</span> PERSON\\_NUM 10</span></code></pre></li><li><p class=\"line\">前缀：</p>\n<blockquote class=\"default\">\n<p class=\"line\">全局变量：<code>g_</code>(如<code>g_nScreenWidth</code>)<br>类的成员变量：<code>m_</code>(如<code>m_eWeek</code>)</p>\n</blockquote>\n</li><li><p class=\"line\">跨越函数范围的变量的前缀(对于函数内部的变量建议参考)</p>\n<blockquote class=\"default\">\n<p class=\"line\">指针：p(如<code>pRect</code>)<br>枚举成员：e(如<code>eWeek</code>)<br>BOOL(bool)：b(如<code>bSwitch</code>)<br>INT(int)：n(如<code>nPerson</code>)<br>LONG：l(如<code>lSize</code>)<br>FLOAT(float)：f(如<code>fTime</code>)<br>DWORD：dw(如<code>dwTick</code>)<br>WORD：w(如<code>wHeight</code>)<br>BYTE：by(如<code>byRed</code>)<br>char：c(如<code>cLetter</code>)<br>TCHAR[]：sz(如<code>szFileName</code>)<br>LPCTSTR\\LPTSTR：<code>lpsz</code>(<code>sz</code>也可)</p>\n</blockquote>\n</li></ul>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"8ydwo8\" class=\"markdown-heading\"><a name=\"8ydwo8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>建议的风格</h2><ul>\n<li><p class=\"line\">前缀：</p>\n<blockquote class=\"default\">\n<p class=\"line\">文件作用域内的变量：<code>f_</code><br>静态变量：<code>s_</code><br>句柄：<code>h</code><br>STL:<br>string：<code>str</code>(如<code>strFileName</code>)<br>vector：<code>vec</code>(如<code>vecArray</code>)<br>list：<code>list</code>(如<code>listScore</code>)<br>map：<code>map</code>(如<code>mapCSV</code>)</p>\n</blockquote>\n</li><li><p class=\"line\">字符以及字符串：</p>\n<blockquote class=\"default\">\n<p class=\"line\">建议使用<code>TCHAR</code>, <code>LPCTSTR</code>, <code>LPTSTR</code>等</p>\n</blockquote>\n</li><li><p class=\"line\">注释</p>\n<blockquote class=\"default\">\n<ul>\n<li>每40行代码至少有1行注释</li><li>因为某原因将一段程序注释掉后，最好写上注释的原因</li></ul>\n</blockquote>\n</li><li><p class=\"line\">关于程序文件结构</p>\n<blockquote class=\"default\">\n<ul>\n<li>尽量利用预编译头文件</li><li>普通头文件中尽量不包含除基类头文件或常量定义头文件外的其他头文件</li></ul>\n</blockquote>\n</li></ul>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"9k2849\" class=\"markdown-heading\"><a name=\"9k2849\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>工作流程</h2><ul>\n<li>项目程序应指定一个总负责人，另外客户端、服务器各指定一个主程序；</li><li>项目的整体架构设计应该经过核心程序团队充分讨论，并制定架构文档；</li><li>架构设计完成之后，可以进行模块分工，每个模块可以指定一个负责人；</li><li>模块设计应先详细了解策划案，并与策划充分讨论，若有不同意见，可与程序负责人、策划讨论修改意见；</li><li>模块设计可由模块负责人或者主程序完成，并形成文档，要求文档至少要包含UML静态结构图，以及关键流程、核心算法的序列图或状态图，或者流程图或者文字描述；</li><li>模块设计完成之后，应由主程序复审。主程序应从架构，以及设计质量等方面详细考察设计方案，并指出不恰当的地方予以修正；</li><li>模块设计确认之后，可以进行编码实现。在编码完成的同时要求完成单元测试代码，对于界面可以使用交互式测试框架，对于游戏逻辑代码可以使用自动运行的测试代码；</li><li>模块负责人完成全部代码，并且通过单元测试之后，应提交主程序进行代码复审，此工作也可由另外一位程序员来做；</li><li>上述工作完成之后，可以将模块整合进整个游戏，并根据策划案设计整合测试用例，进行整合测试。</li></ul>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h1 id=\"focj3o\" class=\"markdown-heading\"><a name=\"focj3o\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>客户端工作路径设置</h1><p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"9dyk7g\" class=\"markdown-heading\"><a name=\"9dyk7g\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>外部依赖项目</h2><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_57ff35aa348560b1c27d330afbd05336_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_4cbb567c7828a635cf50e54cb867a26f_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"15jttv\" class=\"markdown-heading\"><a name=\"15jttv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>源码路径设置</h2><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_fbb785f1d345c95027ab8f7eced252cf_r.png\" title=\"null\" alt=\"\"></p>\n<ul>\n<li>Work目录结构说明：<blockquote class=\"default\">\n<p class=\"line\">Work目录包含两个 <strong>主要解决方案</strong> <code>KungfuClient.sln</code> , <code>QuantaClient.sln</code> , 一个工程输出目录 <code>\\bin</code>.每个解决方案又分别包含多个工程.  所有工程都应将<strong>工作目录</strong>设置为<code>d:\\Work\\bin</code><br>结构如下:</p>\n<ul>\n<li>KungfuClient.sln :<ul>\n<li>FWorldEditor   游戏世界编辑器</li><li>GameFrame    客户端游戏框架</li><li>KungfuClient   游戏客户端程序</li></ul>\n</li><li>QuantaClient.sln<ul>\n<li>F3D           客户端游戏引擎</li><li>F3dView       图片浏览工具</li><li>FterrainEditor   地形编辑器</li><li>lua            LUA脚本语言解释器</li></ul>\n</li></ul>\n</blockquote>\n</li></ul>\n<p class=\"line\"><a name=\"page8\"></a></p>\n<h2 id=\"clmpf5\" class=\"markdown-heading\"><a name=\"clmpf5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>新建项目属性设置注意</h2><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_d31599babf086acaf3a0c4212e3a02b7_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\"><a name=\"page9\"></a></p>\n<h3 id=\"7b0hmj\" class=\"markdown-heading\"><a name=\"7b0hmj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>编辑输出目录和调试工作目录设置</h3><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_4468a03fb07bef165284cccf0b06e3ec_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_228d6e6727dc51921f8d05642a578700_r.png\" title=\"null\" alt=\"\"></p>\n','2019-09-17 15:46:44',2,'2019-09-18 15:02:34',2,1568709827,0),(15,'服务器脚本系统说明文档','programmer_common-1bh9dbetuvu8g',4,0,1,'# 服务器脚本系统说明文档\n\n## 主要内容\n\n- [脚本分类及脚本ID的分配](#page1)\n- [脚本目录存放约定](#page2)\n- [脚本文件命名方式](#page3)\n- [脚本变量，脚本参数及脚本函数命名方式](#page4)\n- [脚本注释及脚本版式](#page5)\n- [脚本数据ScriptValue定义](#page6)\n- [脚本读取xml文件](#page7)\n- [服务器端脚本接口](#page8)\n- [字符串表StringTable定义](#page9)\n- [多脚本协同开发机制](#page10)\n\n[](@page1)\n### 脚本分类及脚本ID的分配\n\n>游戏中的脚本一般均为事件驱动的，比如某个玩家、怪物、任务、场景、地物等等产生了某些通用的游戏事件触发，为了让这些通用事件触发出多样化的行为，一般在这些地方触发脚本调用。每个脚本均有一个脚本ID；如果游戏内的某种物件要触发脚本，需要在其静态属性中填写对应的脚本ID，然后在这个ID对应的脚本文件中编写并注册对应的事件处理接口。这样在服务器内部产生某个事件时，可以查询该物件是否有脚本ID，并且该脚本ID是否注册了对应该事件的脚本接口，如果有，就产生调用，从而达到逻辑和表现上的丰富。\n\n>鉴于游戏内有多种需要调用脚本的物件，所以对脚本ID范围的划分就非常重要，以免导致管理上的混乱。下面的表列出了游戏内所有需要调用脚本的物件以及每种物件的ID段范围。\n\n>	| 脚本分类 | ID段 |\n	| --- | --- |\n	| 全局 | `1-999` |\n	| 玩家 | `10000-19999` |\n	| 活动 | `20000-29999` |\n	| 物品使用 | `30000-39999` |\n	| 战斗 | `40000-49999` |\n	| 排行榜 | `50000-59999` |\n\n>[info]以上是目前脚本ID的范围划分约定。如果要开发某种物件的脚本，需要在对应的范围内申请脚本ID，并通知组内的所有开发者此脚本ID已经占用，防止脚本ID重复定义。\n\n[](@page2)\n### 脚本存放目录约定\n>	| 目录名 | 脚本类型 |\n>	| -- | -- |\n	|/script |\n	/activity |      活动脚本\n	/global  |    全局脚本\n	/item    |  物品脚本\n	/player  |    玩家脚本\n	/scene   |   场景和场景事件脚本\n	/rank    |  排行榜脚本\n\n>[info]以上是脚本文件的存放目录。有的目录下面会有二级目录。对于活动脚本目录，其下的子目录按照活动名.\n\n[](@page3)\n### 脚本文件命名方式\n\n	脚本文件的命名方式一共有两种：\n	1. 普通脚本文件\n	2. 模块文件\n\n#### 普通脚本文件\n\n>对于普通脚本文件，今后的所有脚本完全采用一下的命名方式：\n`s_{脚本ID}_{脚本描述}.lua`\n脚本描述这一部分应当采用便于记忆和便于理解的方式，比如如果是任务，可以是任务名称，如果是技能，可以是技能名称，如果是某个玩法，可以是某个玩法的名称。总之当我们要看到一个脚本的文件名时，通过其目录和文件名字，就基本上可以推断出该脚本是对应到游戏内的哪个玩法的，一般不要用数字的方式进行命名。以后技能的脚本的定义方式应该都改掉。尽可能使脚本文件变成自解释的，方便我们日后的开发，这一点要务必遵守。\n\n[](@page4)\n### 脚本变量，脚本函数参数及脚本函数命名方式\n\n#### 脚本变量\n\n>脚本变量根据其所在作用于的不同，命名方式也不同，同时要注意local的使用：\n\n| 变量类型 | 命名方式 | 解释 |\n| --- | --- | --- |\n| 全局变量 | `g_{变量名}` | 用于多脚本共享的变量 |\n| 文件级局部变量 | `f_{变量名}` | 用于一个脚本文件内多个函数使用的变量，为了跟函数内的局部变量产生区分，加上f前缀，该变量要定义成local的 |\n| 函数级局部变量 | `l_{变量名称}` | 供函数内部使用的有意义的局部变量，通过l前缀规定其是在函数作用域内，该变量要定义成local的 |\n| 函数级简单局部变量 | `{变量名}` | 供函数内部使用的简单局部变量，一般是没有意义的变量，比如for循环中的迭代器i，j等等，这些变量要是local的 |\n| table内的key | `{变量名}` | 一个table内的key变量，由于固定在table的作用域里面，一般情况下不需要做前缀约定，以方便辨识的变量名定义即可 |\n| module内的变量 | `{变量名}` | 一个module内的变量，由于固定在module的作用域内，一般不需要加入任何前缀，以方便辨识的变量名定义即可 |\n\n#### 脚本函数参数\n\n>脚本的函数参数即为某个函数被传入的参数名称。为了防止跟函数内的局部变量产生混淆，规定脚本函数参数的命名方式为：\n`_{变量名称}`\n\n>每个脚本函数参数的名称，必须以下划线开头，并附上该参数的名称。一般脚本参数的名称都有固定的名称，写时最好保持约定，比如：\n\n| 变量名 | 含义 |\n| --- | --- |\n| `_playerid` | 玩家ID |\n| `_sceneid`, `_instanceid` | 场景ID和副本ID |\n| `_questid` | 任务ID |\n| `_avtid` | 活动ID |\n| `_itemid` | 物品ID |\n\n#### 脚本函数命名方式\n\n>脚本函数一般分为全局函数，接口函数，辅助函数和模块函数，每种函数的命名方式如下表：\n\n\n\n| 函数类型 | 命名方式 | 解释 |\n| --- | --- | --- |\n| 全局函数 | `g_{脚本ID}_{函数名}` | 为供所有脚本文件共享的函数，一般为某个基础函数，加入g前缀以区分其是一个全局函数，脚本ID就是该函数所在脚本的ID，该ID为5位，高位补零：如g\\_00001\\_OnDialogg\\_10005\\_LoadXML |\n| 接口函数 | `s_{脚本ID}_{函数名}` | 注册给游戏服务器，供游戏服务器调用的脚本函数，也是最常使用的脚本函数。脚本ID的方式同上 |\n| 辅助函数 | `v_{脚本ID}_{函数名}` | 用于某个脚本文件内的辅助函数，不供服务器底层调用，脚本ID的方式同上，这种函数一般要定义成local的 |\n| 模块函数 | `{函数名}` | 定义在某个模块中的函数，供共享该模块的脚本文件调用。由于将来模块会以一个table的形式存在，所以函数名字不需要加入脚本ID前缀，也不需要指定类型前缀。这与模块内定义的脚本变量的方式一致 |\n\n[](@page5)\n### 脚本注释与脚本版式\n\n#### 脚本注释注意事项\n\n>1. 在脚本开头应该用详细的注释来说明该脚本的用途及详细的流程。这样一来可以作为该脚本文件的编写指导，避免编写时的遗漏；二来便于日后的自查和维护，也方便将来可能的维护者的交接。\n\n>2. 如果某个脚本文件包含多块逻辑，比如同时包含任务的和怪物AI的，那么需要在开头的注释中分别对两者进行描述，并同时突出两者在逻辑结合点处的逻辑。可参考&quot;解救人质&quot;脚本中的编写方式。\n\n>3. 对脚本中定义的每一个全局变量和文件级局部变量，都需要在变量定义后面用注释注明其详细的含义。\n\n>4. 对每个函数定义，无论是全局函数、接口函数、辅助函数还是模块函数，在函数的开头都应该有该函数功能的简短描述。一来增加可读性，二来可以划分函数版式。\n\n>5. 在函数内部，需要对关键逻辑进行详细描述，方便日后其他开发者分析和检查。\n\n#### 脚本版式规范注意事项\n\n	脚本编写今后要遵循这样的版式顺序：\n	1. 脚本开头注释部分\n	2. 脚本全局变量及文件级局部变量定义\n	3. 各个类型的辅助函数定义\n	4. 各个类型的接口函数定义\n	5. 所有接口函数的注册\n\n>[warning]每个部分最好能以注释进行代码块分割，使整个代码结构清晰，对于代码量大的脚本尤其需要如此。\n\n#### 脚本书写规范\n\n>日常编写脚本时需要注意一些书写规范：\n1. 脚本变量的定义尽可能保证上下文之间的对齐，可以使用Tab键进行调整。\n2. 接口函数的名称要区分开不同的类型。比如某个任务接取时的接口，需要明确注明是任务的接口，推荐写成类似于x\\_10001\\_OnQuestAccept，而不推荐x\\_10001\\_OnAccept。又例如某个导航点到达，推荐写成x\\_12221\\_OnWaypointArrive，不推荐x\\_12221\\_OnArrive的写法。这样在多类型混合脚本中容易产生混淆。\n3. 变量定义要养成定义成local的习惯，除了全局变量和模块中导出的变量，所有的脚本变量都应该是local的。今后我们对全局变量会有严格的控制，通过机制来防止全局变量误定义。\n4. 对脚本中用到的数据常量，比如物品和技能ID，活动id, 消耗和产出等等，都应该在脚本的文件级局部变量中进行定义，而不要在各个脚本函数中直接使用这些变量的值，这样方便以后修改。\n\n[](@page6)\n### 脚本数据ScriptValue\n\n>脚本数据是指存储在服务器内部但逻辑含义由脚本层定义的数据，主要是为了协调服务器的数据存储和脚本逻辑的多元化。我们为游戏内所有会参与脚本逻辑的对象都定义了相关的脚本数据，每种对象的脚本数据的数据容量都不同，但都可根据需要进行扩充。在编写脚本时，我们需要明确知道服务器为该对象类型提供了多大容量的脚本数据，不要超过这个范围，然后根据约定的方式定义脚本数据的索引，下面进行详细描述。\n\n#### 脚本数据类型\n\n>游戏内的对象分别提供了各自对应的脚本数据容量；该容量的定义主要是依据该对象能够参与的逻辑范围来评估的，当然今后如果某种类型的脚本数据空间不足，可以酌情进行扩充，但不会无限制扩充，需要同时考虑服务器的内存容量进行考虑。\n\n>目前我们的脚本数据的类型和容量的定义如下表：\n\n| 类型 | 脚本数据容量 | 是否存储数据库 |\n| --- | --- | --- |\n| 玩家 | 200个双字 | 是 |\n| 玩家动态 | 40个双字 | 否 |\n\n>[info]这里解释一下，双字在程序的表示上是4个字节，玩家的脚本数据是200个双字，那么代表其一共有800个字节的存储空间。也就是说，一个玩家的所有脚本数据只能定义在这800个字节的空间内，其它类型的脚本数据以此类推。这里面有一些是要保存到数据库里面的，有一些是不需要的。\n\n#### 脚本数据的定义方式\n\n>服务器底层只为脚本提供了存储空间，但如何对这个空间进行划分利用则是脚本层的工作。为了对存储空间进行合理的利用，脚本层一共提供了两种脚本数据定义方式。下面以&quot;解救人质&quot;脚本中何婉清的AI脚本数据举例来进行说明。其定义如下：\n\n``` lua\nNPC何婉清的AI脚本数据\n\nlocal f_hwq_ai_sv =\n{\n 	escort_player  = 0,   -- 护送其的玩家ID\n 	ai_state   = {2, 0, 8},  -- 当前AI状态\n 	ai_in_combat  = {2, 8, 8},  -- 记录的下层是否在战斗状态\n 	escort_check_timer = {2, 16, 8}, -- 检测的时间间隔\n}\n```\n\n>一般情况下我们会将某个对象的脚本数据定义在一个table里面，在内部通过key-value对来定义对应的脚本数据。我们将脚本数据的定义方式分为两类：\n>	\n1. *Table定义方式*。\n这种方式是最常采用的方式，它用于存储脚本数据不大于四个双字的情况。每个table里面定义三个值，这三个值的含义分别为：该脚本数据的起始双字索引；该脚本数据在该双字内的起始位索引；该脚本数据所占据的位数。通过这样的划分方式，可以最大限度的利用脚本数据空间，可以使得一个双字存储多个逻辑脚本数据。例如上面的脚本定义：ai\\_state={2,0,8}，代表AI状态占据了双字索引2内以第0位开始的8个位；ai\\_in\\_commbat={2,8,8}代表战斗状态占据了双字索引2内以第8位开始的8个位。scort\\_check\\_timer以此类推。这样，在索引2的双字里面就存储了三个脚本数据，他们在空间上是邻接的。每个脚本数据定义多大的存储空间是由其值的范围来决定的，在定义时一定要留意每个数据的范围，从而选取合适的空间来进行存储，防止因为空间不足而产生的数据截断。\n2. *数值定义方式*。\n该方式用于存储64位数据的情况，一般情况下为我们游戏内各种对象的ID。64位的数据需要两个双字才能进行存储，所以不需要再指定双字内的索引和位数了。例如上面的脚本数据定义，我们将护送何婉清的玩家ID存储在escort\\_player所对应的索引上，这里为0，实际上在存储和取值时，程序内部是把索引0和索引1里面的数据拼合成一个64位的值进行了存储和保存。所以我们看到ai\\_state脚本数据是从2而不是从1开始的，因为1里面也记录了escort\\_player的部分数据。使用时一定要注意。\n\n#### 脚本数据定义注意事项\n\n* 定义脚本数据时应尽可能节省。因为存储空间有限，在定义脚本数据时一定要合理利用脚本数据空间，不要为一个本身范围很有限的脚本数据定义一个过大的存储空间。比如一个玩家是否做过某个任务可能只需要一个位就可以保存，那这种情况下就不要使用整个双字来存储。尤其对于玩家公会这种脚本数据，更要注意日常使用时的节省。\n\n* 对玩家的脚本数据要特别注意。在我们的脚本数据中，玩家脚本数据是比较特殊的，因为这两种对象的脚本数据只能定义在一个全局表里面像。但是对于玩家对象，不论他是一个1级的免费玩家，还是一个80级的RMB玩家，他们的脚本数据划分方式实际上是完全一样的。所以我们在定义玩家或公会脚本数据时，必须在一个全局表里面定义。但实际上玩家的每个脚本数据上都是跟某些玩法关联的，所以是在定义该玩法的时候才定义玩家脚本数据，比如师门任务，武功境界副本这样的玩法都会添加玩家脚本数据。所以，这就需要在定义玩家脚本数据时，全组人要进行严格的沟通。比如：如果师门任务需要定义某个脚本数据，师门任务的开发者需要在群里面通知所有的开发者，他对脚本数据某一段空间进行了预定，其他开发者就不能再继续占用了，这样可以避免很多重定义问题，防止数据发生破坏。这一点切记。玩家，我们会定义在`global\\script\\_value\\_config.lua`中。\n\n[](@page7)\n### 脚本读取xml文件\n\n#### 脚本读取xml文件的时机\n\n>脚本层读取xml文件，主要是因为某些脚本可能要定义大量的数据，而如果将这些数据一个一个的定义在脚本层，会使得编写起来非常麻烦，也极难维护。所以我们选择将这些数据放入一个xml文件，脚本在运行时加载该文件，并对读取的数据进行预处理，存储在脚本层的一个table中，这样省去了在脚本中编辑的复杂度，也使得脚本更为清晰简单。\n\n#### 脚本读取xml文件应注意的问题\n\n> 由于加载文件是一个比较耗时的操作，所以我们要尽量在脚本第一次加载的时候进行xml文件的读取和预处理，不要在游戏运行阶段进行加载，尤其不能在某个函数的执行期间内临时生成一个table读取xml文件，这样会带来效率上的极大损失。\n\n[](@page9)\n### 字符串表StringTable定义\n\n>由于我们的产品将来也要考虑国际化的问题，所以游戏内所有的文字都会在将来海外版的开发过程中进行翻译。我们的属性表在设计之初就考虑了这样的问题，所以策划在编写属性表时，都会将文字相关的属性定义在另一张表里面。基于同样的设计原则，脚本层也会对文字做统一的处理。由于脚本层经常会有给客户端发送文字信息的逻辑，如果将这些文字信息都显示的编辑在各个脚本文件中，会导致将来海外事业部在翻译时遇到很大的困难，也更容易出问题。所以，我们提出脚本层StringTable的概念，将任何脚本中可能涉及到的文字信息全部保存在这一个单独的文件中，脚本层只填写对应stringtable中的索。这样，在翻译时，海外事业部只需要对StringTable文件进行翻译，然后做相应的替换即可，极大程度上减少了无谓的工作量。\n\n#### StringTable的分类\n\n>我们的StringTable定义在global\\globle\\_notice.lua中，从该文件我们看到其实际上就是一个lua的table。在里面有各个子table，分别对某个模块或者某个脚本定义的文字信息。我们原则上将文字信息分为三类：\n1. 广播类。比如，&quot;恭喜#BD#%s#W#获得了斗仙台#Y#第一名#W#&quot;这样的通用提示。\n2. 邮件类。用于邮件标题和内容的描述.\n\n#### Strinttable注意事项\n\n>StringTable中的某个文字对于那个的key，一般要起一个好理解的名字，不要有太多的数字，最好能一目了然。比玩家获得竞技场第一名的系统广播stringtable中的提示AreraFirs。','<article class=\"markdown-article-inner\"><h1 id=\"aenw8l\" class=\"markdown-heading\"><a name=\"aenw8l\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>服务器脚本系统说明文档</h1><h2 id=\"7z5oqt\" class=\"markdown-heading\"><a name=\"7z5oqt\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>主要内容</h2><ul>\n<li><a href=\"#page1\">脚本分类及脚本ID的分配</a></li><li><a href=\"#page2\">脚本目录存放约定</a></li><li><a href=\"#page3\">脚本文件命名方式</a></li><li><a href=\"#page4\">脚本变量，脚本参数及脚本函数命名方式</a></li><li><a href=\"#page5\">脚本注释及脚本版式</a></li><li><a href=\"#page6\">脚本数据ScriptValue定义</a></li><li><a href=\"#page7\">脚本读取xml文件</a></li><li><a href=\"#page8\">服务器端脚本接口</a></li><li><a href=\"#page9\">字符串表StringTable定义</a></li><li><a href=\"#page10\">多脚本协同开发机制</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h3 id=\"42o6g0\" class=\"markdown-heading\"><a name=\"42o6g0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本分类及脚本ID的分配</h3><blockquote class=\"default\">\n<p class=\"line\">游戏中的脚本一般均为事件驱动的，比如某个玩家、怪物、任务、场景、地物等等产生了某些通用的游戏事件触发，为了让这些通用事件触发出多样化的行为，一般在这些地方触发脚本调用。每个脚本均有一个脚本ID；如果游戏内的某种物件要触发脚本，需要在其静态属性中填写对应的脚本ID，然后在这个ID对应的脚本文件中编写并注册对应的事件处理接口。这样在服务器内部产生某个事件时，可以查询该物件是否有脚本ID，并且该脚本ID是否注册了对应该事件的脚本接口，如果有，就产生调用，从而达到逻辑和表现上的丰富。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">鉴于游戏内有多种需要调用脚本的物件，所以对脚本ID范围的划分就非常重要，以免导致管理上的混乱。下面的表列出了游戏内所有需要调用脚本的物件以及每种物件的ID段范围。</p>\n</blockquote>\n<blockquote class=\"default\">\n<table>\n<thead>\n<tr>\n<th>脚本分类</th>\n<th>ID段</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>全局</td>\n<td><code>1-999</code></td>\n</tr>\n<tr>\n<td>玩家</td>\n<td><code>10000-19999</code></td>\n</tr>\n<tr>\n<td>活动</td>\n<td><code>20000-29999</code></td>\n</tr>\n<tr>\n<td>物品使用</td>\n<td><code>30000-39999</code></td>\n</tr>\n<tr>\n<td>战斗</td>\n<td><code>40000-49999</code></td>\n</tr>\n<tr>\n<td>排行榜</td>\n<td><code>50000-59999</code></td>\n</tr>\n</tbody></table>\n</blockquote>\n<blockquote class=\"info\">\n<p class=\"line\">以上是目前脚本ID的范围划分约定。如果要开发某种物件的脚本，需要在对应的范围内申请脚本ID，并通知组内的所有开发者此脚本ID已经占用，防止脚本ID重复定义。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page2\"></a></p>\n<h3 id=\"1v6ra2\" class=\"markdown-heading\"><a name=\"1v6ra2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本存放目录约定</h3><blockquote class=\"default\">\n<table>\n<thead>\n<tr>\n<th>目录名</th>\n<th>脚本类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>/script</td>\n<td></td>\n</tr>\n<tr>\n<td>/activity</td>\n<td>活动脚本</td>\n</tr>\n<tr>\n<td>/global</td>\n<td>全局脚本</td>\n</tr>\n<tr>\n<td>/item</td>\n<td>物品脚本</td>\n</tr>\n<tr>\n<td>/player</td>\n<td>玩家脚本</td>\n</tr>\n<tr>\n<td>/scene</td>\n<td>场景和场景事件脚本</td>\n</tr>\n<tr>\n<td>/rank</td>\n<td>排行榜脚本</td>\n</tr>\n</tbody></table>\n</blockquote>\n<blockquote class=\"info\">\n<p class=\"line\">以上是脚本文件的存放目录。有的目录下面会有二级目录。对于活动脚本目录，其下的子目录按照活动名.</p>\n</blockquote>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h3 id=\"1bu5s4\" class=\"markdown-heading\"><a name=\"1bu5s4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本文件命名方式</h3><pre class=\"hljs markdown\"><code>脚本文件的命名方式一共有两种：\n<span class=\"hljs-bullet\">1. </span>普通脚本文件\n<span class=\"hljs-bullet\">2. </span>模块文件</code></pre><h4 id=\"3mq3di\" class=\"markdown-heading\"><a name=\"3mq3di\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>普通脚本文件</h4><blockquote class=\"default\">\n<p class=\"line\">对于普通脚本文件，今后的所有脚本完全采用一下的命名方式：<br/><code>s_{脚本ID}_{脚本描述}.lua</code><br/>脚本描述这一部分应当采用便于记忆和便于理解的方式，比如如果是任务，可以是任务名称，如果是技能，可以是技能名称，如果是某个玩法，可以是某个玩法的名称。总之当我们要看到一个脚本的文件名时，通过其目录和文件名字，就基本上可以推断出该脚本是对应到游戏内的哪个玩法的，一般不要用数字的方式进行命名。以后技能的脚本的定义方式应该都改掉。尽可能使脚本文件变成自解释的，方便我们日后的开发，这一点要务必遵守。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h3 id=\"dn9xqi\" class=\"markdown-heading\"><a name=\"dn9xqi\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本变量，脚本函数参数及脚本函数命名方式</h3><h4 id=\"eolux3\" class=\"markdown-heading\"><a name=\"eolux3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本变量</h4><blockquote class=\"default\">\n<p class=\"line\">脚本变量根据其所在作用于的不同，命名方式也不同，同时要注意local的使用：</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>变量类型</th>\n<th>命名方式</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>全局变量</td>\n<td><code>g_{变量名}</code></td>\n<td>用于多脚本共享的变量</td>\n</tr>\n<tr>\n<td>文件级局部变量</td>\n<td><code>f_{变量名}</code></td>\n<td>用于一个脚本文件内多个函数使用的变量，为了跟函数内的局部变量产生区分，加上f前缀，该变量要定义成local的</td>\n</tr>\n<tr>\n<td>函数级局部变量</td>\n<td><code>l_{变量名称}</code></td>\n<td>供函数内部使用的有意义的局部变量，通过l前缀规定其是在函数作用域内，该变量要定义成local的</td>\n</tr>\n<tr>\n<td>函数级简单局部变量</td>\n<td><code>{变量名}</code></td>\n<td>供函数内部使用的简单局部变量，一般是没有意义的变量，比如for循环中的迭代器i，j等等，这些变量要是local的</td>\n</tr>\n<tr>\n<td>table内的key</td>\n<td><code>{变量名}</code></td>\n<td>一个table内的key变量，由于固定在table的作用域里面，一般情况下不需要做前缀约定，以方便辨识的变量名定义即可</td>\n</tr>\n<tr>\n<td>module内的变量</td>\n<td><code>{变量名}</code></td>\n<td>一个module内的变量，由于固定在module的作用域内，一般不需要加入任何前缀，以方便辨识的变量名定义即可</td>\n</tr>\n</tbody></table>\n<h4 id=\"68gk42\" class=\"markdown-heading\"><a name=\"68gk42\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本函数参数</h4><blockquote class=\"default\">\n<p class=\"line\">脚本的函数参数即为某个函数被传入的参数名称。为了防止跟函数内的局部变量产生混淆，规定脚本函数参数的命名方式为：<br/><code>_{变量名称}</code></p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">每个脚本函数参数的名称，必须以下划线开头，并附上该参数的名称。一般脚本参数的名称都有固定的名称，写时最好保持约定，比如：</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>变量名</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>_playerid</code></td>\n<td>玩家ID</td>\n</tr>\n<tr>\n<td><code>_sceneid</code>, <code>_instanceid</code></td>\n<td>场景ID和副本ID</td>\n</tr>\n<tr>\n<td><code>_questid</code></td>\n<td>任务ID</td>\n</tr>\n<tr>\n<td><code>_avtid</code></td>\n<td>活动ID</td>\n</tr>\n<tr>\n<td><code>_itemid</code></td>\n<td>物品ID</td>\n</tr>\n</tbody></table>\n<h4 id=\"2phx1h\" class=\"markdown-heading\"><a name=\"2phx1h\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本函数命名方式</h4><blockquote class=\"default\">\n<p class=\"line\">脚本函数一般分为全局函数，接口函数，辅助函数和模块函数，每种函数的命名方式如下表：</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>函数类型</th>\n<th>命名方式</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>全局函数</td>\n<td><code>g_{脚本ID}_{函数名}</code></td>\n<td>为供所有脚本文件共享的函数，一般为某个基础函数，加入g前缀以区分其是一个全局函数，脚本ID就是该函数所在脚本的ID，该ID为5位，高位补零：如g_00001_OnDialogg_10005_LoadXML</td>\n</tr>\n<tr>\n<td>接口函数</td>\n<td><code>s_{脚本ID}_{函数名}</code></td>\n<td>注册给游戏服务器，供游戏服务器调用的脚本函数，也是最常使用的脚本函数。脚本ID的方式同上</td>\n</tr>\n<tr>\n<td>辅助函数</td>\n<td><code>v_{脚本ID}_{函数名}</code></td>\n<td>用于某个脚本文件内的辅助函数，不供服务器底层调用，脚本ID的方式同上，这种函数一般要定义成local的</td>\n</tr>\n<tr>\n<td>模块函数</td>\n<td><code>{函数名}</code></td>\n<td>定义在某个模块中的函数，供共享该模块的脚本文件调用。由于将来模块会以一个table的形式存在，所以函数名字不需要加入脚本ID前缀，也不需要指定类型前缀。这与模块内定义的脚本变量的方式一致</td>\n</tr>\n</tbody></table>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h3 id=\"eyosiy\" class=\"markdown-heading\"><a name=\"eyosiy\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本注释与脚本版式</h3><h4 id=\"clkkyk\" class=\"markdown-heading\"><a name=\"clkkyk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本注释注意事项</h4><blockquote class=\"default\">\n<ol>\n<li>在脚本开头应该用详细的注释来说明该脚本的用途及详细的流程。这样一来可以作为该脚本文件的编写指导，避免编写时的遗漏；二来便于日后的自查和维护，也方便将来可能的维护者的交接。</li></ol>\n</blockquote>\n<blockquote class=\"default\">\n<ol start=\"2\">\n<li>如果某个脚本文件包含多块逻辑，比如同时包含任务的和怪物AI的，那么需要在开头的注释中分别对两者进行描述，并同时突出两者在逻辑结合点处的逻辑。可参考&#34;解救人质&#34;脚本中的编写方式。</li></ol>\n</blockquote>\n<blockquote class=\"default\">\n<ol start=\"3\">\n<li>对脚本中定义的每一个全局变量和文件级局部变量，都需要在变量定义后面用注释注明其详细的含义。</li></ol>\n</blockquote>\n<blockquote class=\"default\">\n<ol start=\"4\">\n<li>对每个函数定义，无论是全局函数、接口函数、辅助函数还是模块函数，在函数的开头都应该有该函数功能的简短描述。一来增加可读性，二来可以划分函数版式。</li></ol>\n</blockquote>\n<blockquote class=\"default\">\n<ol start=\"5\">\n<li>在函数内部，需要对关键逻辑进行详细描述，方便日后其他开发者分析和检查。</li></ol>\n</blockquote>\n<h4 id=\"cjo88e\" class=\"markdown-heading\"><a name=\"cjo88e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本版式规范注意事项</h4><pre class=\"hljs markdown\"><code>脚本编写今后要遵循这样的版式顺序：\n<span class=\"hljs-bullet\">1. </span>脚本开头注释部分\n<span class=\"hljs-bullet\">2. </span>脚本全局变量及文件级局部变量定义\n<span class=\"hljs-bullet\">3. </span>各个类型的辅助函数定义\n<span class=\"hljs-bullet\">4. </span>各个类型的接口函数定义\n<span class=\"hljs-bullet\">5. </span>所有接口函数的注册</code></pre><blockquote class=\"warning\">\n<p class=\"line\">每个部分最好能以注释进行代码块分割，使整个代码结构清晰，对于代码量大的脚本尤其需要如此。</p>\n</blockquote>\n<h4 id=\"7mtg8e\" class=\"markdown-heading\"><a name=\"7mtg8e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本书写规范</h4><blockquote class=\"default\">\n<p class=\"line\">日常编写脚本时需要注意一些书写规范：</p>\n<ol>\n<li>脚本变量的定义尽可能保证上下文之间的对齐，可以使用Tab键进行调整。</li><li>接口函数的名称要区分开不同的类型。比如某个任务接取时的接口，需要明确注明是任务的接口，推荐写成类似于x_10001_OnQuestAccept，而不推荐x_10001_OnAccept。又例如某个导航点到达，推荐写成x_12221_OnWaypointArrive，不推荐x_12221_OnArrive的写法。这样在多类型混合脚本中容易产生混淆。</li><li>变量定义要养成定义成local的习惯，除了全局变量和模块中导出的变量，所有的脚本变量都应该是local的。今后我们对全局变量会有严格的控制，通过机制来防止全局变量误定义。</li><li>对脚本中用到的数据常量，比如物品和技能ID，活动id, 消耗和产出等等，都应该在脚本的文件级局部变量中进行定义，而不要在各个脚本函数中直接使用这些变量的值，这样方便以后修改。</li></ol>\n</blockquote>\n<p class=\"line\"><a name=\"page6\"></a></p>\n<h3 id=\"4x1ghk\" class=\"markdown-heading\"><a name=\"4x1ghk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本数据ScriptValue</h3><blockquote class=\"default\">\n<p class=\"line\">脚本数据是指存储在服务器内部但逻辑含义由脚本层定义的数据，主要是为了协调服务器的数据存储和脚本逻辑的多元化。我们为游戏内所有会参与脚本逻辑的对象都定义了相关的脚本数据，每种对象的脚本数据的数据容量都不同，但都可根据需要进行扩充。在编写脚本时，我们需要明确知道服务器为该对象类型提供了多大容量的脚本数据，不要超过这个范围，然后根据约定的方式定义脚本数据的索引，下面进行详细描述。</p>\n</blockquote>\n<h4 id=\"flxni4\" class=\"markdown-heading\"><a name=\"flxni4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本数据类型</h4><blockquote class=\"default\">\n<p class=\"line\">游戏内的对象分别提供了各自对应的脚本数据容量；该容量的定义主要是依据该对象能够参与的逻辑范围来评估的，当然今后如果某种类型的脚本数据空间不足，可以酌情进行扩充，但不会无限制扩充，需要同时考虑服务器的内存容量进行考虑。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">目前我们的脚本数据的类型和容量的定义如下表：</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>脚本数据容量</th>\n<th>是否存储数据库</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>玩家</td>\n<td>200个双字</td>\n<td>是</td>\n</tr>\n<tr>\n<td>玩家动态</td>\n<td>40个双字</td>\n<td>否</td>\n</tr>\n</tbody></table>\n<blockquote class=\"info\">\n<p class=\"line\">这里解释一下，双字在程序的表示上是4个字节，玩家的脚本数据是200个双字，那么代表其一共有800个字节的存储空间。也就是说，一个玩家的所有脚本数据只能定义在这800个字节的空间内，其它类型的脚本数据以此类推。这里面有一些是要保存到数据库里面的，有一些是不需要的。</p>\n</blockquote>\n<h4 id=\"5nxbck\" class=\"markdown-heading\"><a name=\"5nxbck\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本数据的定义方式</h4><blockquote class=\"default\">\n<p class=\"line\">服务器底层只为脚本提供了存储空间，但如何对这个空间进行划分利用则是脚本层的工作。为了对存储空间进行合理的利用，脚本层一共提供了两种脚本数据定义方式。下面以&#34;解救人质&#34;脚本中何婉清的AI脚本数据举例来进行说明。其定义如下：</p>\n</blockquote>\n<pre class=\"hljs bash\"><code class=\"language-lua\">NPC何婉清的AI脚本数据\n\n<span class=\"hljs-built_in\">local</span> f_hwq_ai_sv =\n{\n     escort_player  = 0,   -- 护送其的玩家ID\n     ai_state   = {2, 0, 8},  -- 当前AI状态\n     ai_in_combat  = {2, 8, 8},  -- 记录的下层是否在战斗状态\n     escort_check_timer = {2, 16, 8}, -- 检测的时间间隔\n}</code></pre>\n<blockquote class=\"default\">\n<p class=\"line\">一般情况下我们会将某个对象的脚本数据定义在一个table里面，在内部通过key-value对来定义对应的脚本数据。我们将脚本数据的定义方式分为两类：</p>\n<ol>\n<li><em>Table定义方式</em>。<br/>这种方式是最常采用的方式，它用于存储脚本数据不大于四个双字的情况。每个table里面定义三个值，这三个值的含义分别为：该脚本数据的起始双字索引；该脚本数据在该双字内的起始位索引；该脚本数据所占据的位数。通过这样的划分方式，可以最大限度的利用脚本数据空间，可以使得一个双字存储多个逻辑脚本数据。例如上面的脚本定义：ai_state={2,0,8}，代表AI状态占据了双字索引2内以第0位开始的8个位；ai_in_commbat={2,8,8}代表战斗状态占据了双字索引2内以第8位开始的8个位。scort_check_timer以此类推。这样，在索引2的双字里面就存储了三个脚本数据，他们在空间上是邻接的。每个脚本数据定义多大的存储空间是由其值的范围来决定的，在定义时一定要留意每个数据的范围，从而选取合适的空间来进行存储，防止因为空间不足而产生的数据截断。</li><li><em>数值定义方式</em>。<br/>该方式用于存储64位数据的情况，一般情况下为我们游戏内各种对象的ID。64位的数据需要两个双字才能进行存储，所以不需要再指定双字内的索引和位数了。例如上面的脚本数据定义，我们将护送何婉清的玩家ID存储在escort_player所对应的索引上，这里为0，实际上在存储和取值时，程序内部是把索引0和索引1里面的数据拼合成一个64位的值进行了存储和保存。所以我们看到ai_state脚本数据是从2而不是从1开始的，因为1里面也记录了escort_player的部分数据。使用时一定要注意。</li></ol>\n</blockquote>\n<h4 id=\"egnnys\" class=\"markdown-heading\"><a name=\"egnnys\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本数据定义注意事项</h4><ul>\n<li><p class=\"line\">定义脚本数据时应尽可能节省。因为存储空间有限，在定义脚本数据时一定要合理利用脚本数据空间，不要为一个本身范围很有限的脚本数据定义一个过大的存储空间。比如一个玩家是否做过某个任务可能只需要一个位就可以保存，那这种情况下就不要使用整个双字来存储。尤其对于玩家公会这种脚本数据，更要注意日常使用时的节省。</p>\n</li><li><p class=\"line\">对玩家的脚本数据要特别注意。在我们的脚本数据中，玩家脚本数据是比较特殊的，因为这两种对象的脚本数据只能定义在一个全局表里面像。但是对于玩家对象，不论他是一个1级的免费玩家，还是一个80级的RMB玩家，他们的脚本数据划分方式实际上是完全一样的。所以我们在定义玩家或公会脚本数据时，必须在一个全局表里面定义。但实际上玩家的每个脚本数据上都是跟某些玩法关联的，所以是在定义该玩法的时候才定义玩家脚本数据，比如师门任务，武功境界副本这样的玩法都会添加玩家脚本数据。所以，这就需要在定义玩家脚本数据时，全组人要进行严格的沟通。比如：如果师门任务需要定义某个脚本数据，师门任务的开发者需要在群里面通知所有的开发者，他对脚本数据某一段空间进行了预定，其他开发者就不能再继续占用了，这样可以避免很多重定义问题，防止数据发生破坏。这一点切记。玩家，我们会定义在<code>global\\script\\_value\\_config.lua</code>中。</p>\n</li></ul>\n<p class=\"line\"><a name=\"page7\"></a></p>\n<h3 id=\"aqxst5\" class=\"markdown-heading\"><a name=\"aqxst5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本读取xml文件</h3><h4 id=\"8xexuf\" class=\"markdown-heading\"><a name=\"8xexuf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本读取xml文件的时机</h4><blockquote class=\"default\">\n<p class=\"line\">脚本层读取xml文件，主要是因为某些脚本可能要定义大量的数据，而如果将这些数据一个一个的定义在脚本层，会使得编写起来非常麻烦，也极难维护。所以我们选择将这些数据放入一个xml文件，脚本在运行时加载该文件，并对读取的数据进行预处理，存储在脚本层的一个table中，这样省去了在脚本中编辑的复杂度，也使得脚本更为清晰简单。</p>\n</blockquote>\n<h4 id=\"5mpfpg\" class=\"markdown-heading\"><a name=\"5mpfpg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本读取xml文件应注意的问题</h4><blockquote class=\"default\">\n<p class=\"line\">由于加载文件是一个比较耗时的操作，所以我们要尽量在脚本第一次加载的时候进行xml文件的读取和预处理，不要在游戏运行阶段进行加载，尤其不能在某个函数的执行期间内临时生成一个table读取xml文件，这样会带来效率上的极大损失。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page9\"></a></p>\n<h3 id=\"8ts7ki\" class=\"markdown-heading\"><a name=\"8ts7ki\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>字符串表StringTable定义</h3><blockquote class=\"default\">\n<p class=\"line\">由于我们的产品将来也要考虑国际化的问题，所以游戏内所有的文字都会在将来海外版的开发过程中进行翻译。我们的属性表在设计之初就考虑了这样的问题，所以策划在编写属性表时，都会将文字相关的属性定义在另一张表里面。基于同样的设计原则，脚本层也会对文字做统一的处理。由于脚本层经常会有给客户端发送文字信息的逻辑，如果将这些文字信息都显示的编辑在各个脚本文件中，会导致将来海外事业部在翻译时遇到很大的困难，也更容易出问题。所以，我们提出脚本层StringTable的概念，将任何脚本中可能涉及到的文字信息全部保存在这一个单独的文件中，脚本层只填写对应stringtable中的索。这样，在翻译时，海外事业部只需要对StringTable文件进行翻译，然后做相应的替换即可，极大程度上减少了无谓的工作量。</p>\n</blockquote>\n<h4 id=\"9gukvs\" class=\"markdown-heading\"><a name=\"9gukvs\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>StringTable的分类</h4><blockquote class=\"default\">\n<p class=\"line\">我们的StringTable定义在global\\globle_notice.lua中，从该文件我们看到其实际上就是一个lua的table。在里面有各个子table，分别对某个模块或者某个脚本定义的文字信息。我们原则上将文字信息分为三类：</p>\n<ol>\n<li>广播类。比如，&#34;恭喜#BD#%s#W#获得了斗仙台#Y#第一名#W#&#34;这样的通用提示。</li><li>邮件类。用于邮件标题和内容的描述.</li></ol>\n</blockquote>\n<h4 id=\"fhafd5\" class=\"markdown-heading\"><a name=\"fhafd5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Strinttable注意事项</h4><blockquote class=\"default\">\n<p class=\"line\">StringTable中的某个文字对于那个的key，一般要起一个好理解的名字，不要有太多的数字，最好能一目了然。比玩家获得竞技场第一名的系统广播stringtable中的提示AreraFirs。</p>\n</blockquote><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-17 23:02   作者：万韬</div></article>','<h1 id=\"aenw8l\" class=\"markdown-heading\"><a name=\"aenw8l\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>服务器脚本系统说明文档</h1><h2 id=\"7z5oqt\" class=\"markdown-heading\"><a name=\"7z5oqt\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>主要内容</h2><ul>\n<li><a href=\"#page1\">脚本分类及脚本ID的分配</a></li><li><a href=\"#page2\">脚本目录存放约定</a></li><li><a href=\"#page3\">脚本文件命名方式</a></li><li><a href=\"#page4\">脚本变量，脚本参数及脚本函数命名方式</a></li><li><a href=\"#page5\">脚本注释及脚本版式</a></li><li><a href=\"#page6\">脚本数据ScriptValue定义</a></li><li><a href=\"#page7\">脚本读取xml文件</a></li><li><a href=\"#page8\">服务器端脚本接口</a></li><li><a href=\"#page9\">字符串表StringTable定义</a></li><li><a href=\"#page10\">多脚本协同开发机制</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h3 id=\"42o6g0\" class=\"markdown-heading\"><a name=\"42o6g0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本分类及脚本ID的分配</h3><blockquote class=\"default\">\n<p class=\"line\">游戏中的脚本一般均为事件驱动的，比如某个玩家、怪物、任务、场景、地物等等产生了某些通用的游戏事件触发，为了让这些通用事件触发出多样化的行为，一般在这些地方触发脚本调用。每个脚本均有一个脚本ID；如果游戏内的某种物件要触发脚本，需要在其静态属性中填写对应的脚本ID，然后在这个ID对应的脚本文件中编写并注册对应的事件处理接口。这样在服务器内部产生某个事件时，可以查询该物件是否有脚本ID，并且该脚本ID是否注册了对应该事件的脚本接口，如果有，就产生调用，从而达到逻辑和表现上的丰富。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">鉴于游戏内有多种需要调用脚本的物件，所以对脚本ID范围的划分就非常重要，以免导致管理上的混乱。下面的表列出了游戏内所有需要调用脚本的物件以及每种物件的ID段范围。</p>\n</blockquote>\n<blockquote class=\"default\">\n<table>\n<thead>\n<tr>\n<th>脚本分类</th>\n<th>ID段</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>全局</td>\n<td><code>1-999</code></td>\n</tr>\n<tr>\n<td>玩家</td>\n<td><code>10000-19999</code></td>\n</tr>\n<tr>\n<td>活动</td>\n<td><code>20000-29999</code></td>\n</tr>\n<tr>\n<td>物品使用</td>\n<td><code>30000-39999</code></td>\n</tr>\n<tr>\n<td>战斗</td>\n<td><code>40000-49999</code></td>\n</tr>\n<tr>\n<td>排行榜</td>\n<td><code>50000-59999</code></td>\n</tr>\n</tbody></table>\n</blockquote>\n<blockquote class=\"info\">\n<p class=\"line\">以上是目前脚本ID的范围划分约定。如果要开发某种物件的脚本，需要在对应的范围内申请脚本ID，并通知组内的所有开发者此脚本ID已经占用，防止脚本ID重复定义。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page2\"></a></p>\n<h3 id=\"1v6ra2\" class=\"markdown-heading\"><a name=\"1v6ra2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本存放目录约定</h3><blockquote class=\"default\">\n<table>\n<thead>\n<tr>\n<th>目录名</th>\n<th>脚本类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>/script</td>\n<td></td>\n</tr>\n<tr>\n<td>/activity</td>\n<td>活动脚本</td>\n</tr>\n<tr>\n<td>/global</td>\n<td>全局脚本</td>\n</tr>\n<tr>\n<td>/item</td>\n<td>物品脚本</td>\n</tr>\n<tr>\n<td>/player</td>\n<td>玩家脚本</td>\n</tr>\n<tr>\n<td>/scene</td>\n<td>场景和场景事件脚本</td>\n</tr>\n<tr>\n<td>/rank</td>\n<td>排行榜脚本</td>\n</tr>\n</tbody></table>\n</blockquote>\n<blockquote class=\"info\">\n<p class=\"line\">以上是脚本文件的存放目录。有的目录下面会有二级目录。对于活动脚本目录，其下的子目录按照活动名.</p>\n</blockquote>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h3 id=\"1bu5s4\" class=\"markdown-heading\"><a name=\"1bu5s4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本文件命名方式</h3><pre class=\"hljs markdown\"><code>脚本文件的命名方式一共有两种：\n<span class=\"hljs-bullet\">1. </span>普通脚本文件\n<span class=\"hljs-bullet\">2. </span>模块文件</code></pre><h4 id=\"3mq3di\" class=\"markdown-heading\"><a name=\"3mq3di\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>普通脚本文件</h4><blockquote class=\"default\">\n<p class=\"line\">对于普通脚本文件，今后的所有脚本完全采用一下的命名方式：<br><code>s_{脚本ID}_{脚本描述}.lua</code><br>脚本描述这一部分应当采用便于记忆和便于理解的方式，比如如果是任务，可以是任务名称，如果是技能，可以是技能名称，如果是某个玩法，可以是某个玩法的名称。总之当我们要看到一个脚本的文件名时，通过其目录和文件名字，就基本上可以推断出该脚本是对应到游戏内的哪个玩法的，一般不要用数字的方式进行命名。以后技能的脚本的定义方式应该都改掉。尽可能使脚本文件变成自解释的，方便我们日后的开发，这一点要务必遵守。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h3 id=\"dn9xqi\" class=\"markdown-heading\"><a name=\"dn9xqi\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本变量，脚本函数参数及脚本函数命名方式</h3><h4 id=\"eolux3\" class=\"markdown-heading\"><a name=\"eolux3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本变量</h4><blockquote class=\"default\">\n<p class=\"line\">脚本变量根据其所在作用于的不同，命名方式也不同，同时要注意local的使用：</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>变量类型</th>\n<th>命名方式</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>全局变量</td>\n<td><code>g_{变量名}</code></td>\n<td>用于多脚本共享的变量</td>\n</tr>\n<tr>\n<td>文件级局部变量</td>\n<td><code>f_{变量名}</code></td>\n<td>用于一个脚本文件内多个函数使用的变量，为了跟函数内的局部变量产生区分，加上f前缀，该变量要定义成local的</td>\n</tr>\n<tr>\n<td>函数级局部变量</td>\n<td><code>l_{变量名称}</code></td>\n<td>供函数内部使用的有意义的局部变量，通过l前缀规定其是在函数作用域内，该变量要定义成local的</td>\n</tr>\n<tr>\n<td>函数级简单局部变量</td>\n<td><code>{变量名}</code></td>\n<td>供函数内部使用的简单局部变量，一般是没有意义的变量，比如for循环中的迭代器i，j等等，这些变量要是local的</td>\n</tr>\n<tr>\n<td>table内的key</td>\n<td><code>{变量名}</code></td>\n<td>一个table内的key变量，由于固定在table的作用域里面，一般情况下不需要做前缀约定，以方便辨识的变量名定义即可</td>\n</tr>\n<tr>\n<td>module内的变量</td>\n<td><code>{变量名}</code></td>\n<td>一个module内的变量，由于固定在module的作用域内，一般不需要加入任何前缀，以方便辨识的变量名定义即可</td>\n</tr>\n</tbody></table>\n<h4 id=\"68gk42\" class=\"markdown-heading\"><a name=\"68gk42\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本函数参数</h4><blockquote class=\"default\">\n<p class=\"line\">脚本的函数参数即为某个函数被传入的参数名称。为了防止跟函数内的局部变量产生混淆，规定脚本函数参数的命名方式为：<br><code>_{变量名称}</code></p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">每个脚本函数参数的名称，必须以下划线开头，并附上该参数的名称。一般脚本参数的名称都有固定的名称，写时最好保持约定，比如：</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>变量名</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>_playerid</code></td>\n<td>玩家ID</td>\n</tr>\n<tr>\n<td><code>_sceneid</code>, <code>_instanceid</code></td>\n<td>场景ID和副本ID</td>\n</tr>\n<tr>\n<td><code>_questid</code></td>\n<td>任务ID</td>\n</tr>\n<tr>\n<td><code>_avtid</code></td>\n<td>活动ID</td>\n</tr>\n<tr>\n<td><code>_itemid</code></td>\n<td>物品ID</td>\n</tr>\n</tbody></table>\n<h4 id=\"2phx1h\" class=\"markdown-heading\"><a name=\"2phx1h\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本函数命名方式</h4><blockquote class=\"default\">\n<p class=\"line\">脚本函数一般分为全局函数，接口函数，辅助函数和模块函数，每种函数的命名方式如下表：</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>函数类型</th>\n<th>命名方式</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>全局函数</td>\n<td><code>g_{脚本ID}_{函数名}</code></td>\n<td>为供所有脚本文件共享的函数，一般为某个基础函数，加入g前缀以区分其是一个全局函数，脚本ID就是该函数所在脚本的ID，该ID为5位，高位补零：如g_00001_OnDialogg_10005_LoadXML</td>\n</tr>\n<tr>\n<td>接口函数</td>\n<td><code>s_{脚本ID}_{函数名}</code></td>\n<td>注册给游戏服务器，供游戏服务器调用的脚本函数，也是最常使用的脚本函数。脚本ID的方式同上</td>\n</tr>\n<tr>\n<td>辅助函数</td>\n<td><code>v_{脚本ID}_{函数名}</code></td>\n<td>用于某个脚本文件内的辅助函数，不供服务器底层调用，脚本ID的方式同上，这种函数一般要定义成local的</td>\n</tr>\n<tr>\n<td>模块函数</td>\n<td><code>{函数名}</code></td>\n<td>定义在某个模块中的函数，供共享该模块的脚本文件调用。由于将来模块会以一个table的形式存在，所以函数名字不需要加入脚本ID前缀，也不需要指定类型前缀。这与模块内定义的脚本变量的方式一致</td>\n</tr>\n</tbody></table>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h3 id=\"eyosiy\" class=\"markdown-heading\"><a name=\"eyosiy\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本注释与脚本版式</h3><h4 id=\"clkkyk\" class=\"markdown-heading\"><a name=\"clkkyk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本注释注意事项</h4><blockquote class=\"default\">\n<ol>\n<li>在脚本开头应该用详细的注释来说明该脚本的用途及详细的流程。这样一来可以作为该脚本文件的编写指导，避免编写时的遗漏；二来便于日后的自查和维护，也方便将来可能的维护者的交接。</li></ol>\n</blockquote>\n<blockquote class=\"default\">\n<ol start=\"2\">\n<li>如果某个脚本文件包含多块逻辑，比如同时包含任务的和怪物AI的，那么需要在开头的注释中分别对两者进行描述，并同时突出两者在逻辑结合点处的逻辑。可参考\"解救人质\"脚本中的编写方式。</li></ol>\n</blockquote>\n<blockquote class=\"default\">\n<ol start=\"3\">\n<li>对脚本中定义的每一个全局变量和文件级局部变量，都需要在变量定义后面用注释注明其详细的含义。</li></ol>\n</blockquote>\n<blockquote class=\"default\">\n<ol start=\"4\">\n<li>对每个函数定义，无论是全局函数、接口函数、辅助函数还是模块函数，在函数的开头都应该有该函数功能的简短描述。一来增加可读性，二来可以划分函数版式。</li></ol>\n</blockquote>\n<blockquote class=\"default\">\n<ol start=\"5\">\n<li>在函数内部，需要对关键逻辑进行详细描述，方便日后其他开发者分析和检查。</li></ol>\n</blockquote>\n<h4 id=\"cjo88e\" class=\"markdown-heading\"><a name=\"cjo88e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本版式规范注意事项</h4><pre class=\"hljs markdown\"><code>脚本编写今后要遵循这样的版式顺序：\n<span class=\"hljs-bullet\">1. </span>脚本开头注释部分\n<span class=\"hljs-bullet\">2. </span>脚本全局变量及文件级局部变量定义\n<span class=\"hljs-bullet\">3. </span>各个类型的辅助函数定义\n<span class=\"hljs-bullet\">4. </span>各个类型的接口函数定义\n<span class=\"hljs-bullet\">5. </span>所有接口函数的注册</code></pre><blockquote class=\"warning\">\n<p class=\"line\">每个部分最好能以注释进行代码块分割，使整个代码结构清晰，对于代码量大的脚本尤其需要如此。</p>\n</blockquote>\n<h4 id=\"7mtg8e\" class=\"markdown-heading\"><a name=\"7mtg8e\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本书写规范</h4><blockquote class=\"default\">\n<p class=\"line\">日常编写脚本时需要注意一些书写规范：</p>\n<ol>\n<li>脚本变量的定义尽可能保证上下文之间的对齐，可以使用Tab键进行调整。</li><li>接口函数的名称要区分开不同的类型。比如某个任务接取时的接口，需要明确注明是任务的接口，推荐写成类似于x_10001_OnQuestAccept，而不推荐x_10001_OnAccept。又例如某个导航点到达，推荐写成x_12221_OnWaypointArrive，不推荐x_12221_OnArrive的写法。这样在多类型混合脚本中容易产生混淆。</li><li>变量定义要养成定义成local的习惯，除了全局变量和模块中导出的变量，所有的脚本变量都应该是local的。今后我们对全局变量会有严格的控制，通过机制来防止全局变量误定义。</li><li>对脚本中用到的数据常量，比如物品和技能ID，活动id, 消耗和产出等等，都应该在脚本的文件级局部变量中进行定义，而不要在各个脚本函数中直接使用这些变量的值，这样方便以后修改。</li></ol>\n</blockquote>\n<p class=\"line\"><a name=\"page6\"></a></p>\n<h3 id=\"4x1ghk\" class=\"markdown-heading\"><a name=\"4x1ghk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本数据ScriptValue</h3><blockquote class=\"default\">\n<p class=\"line\">脚本数据是指存储在服务器内部但逻辑含义由脚本层定义的数据，主要是为了协调服务器的数据存储和脚本逻辑的多元化。我们为游戏内所有会参与脚本逻辑的对象都定义了相关的脚本数据，每种对象的脚本数据的数据容量都不同，但都可根据需要进行扩充。在编写脚本时，我们需要明确知道服务器为该对象类型提供了多大容量的脚本数据，不要超过这个范围，然后根据约定的方式定义脚本数据的索引，下面进行详细描述。</p>\n</blockquote>\n<h4 id=\"flxni4\" class=\"markdown-heading\"><a name=\"flxni4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本数据类型</h4><blockquote class=\"default\">\n<p class=\"line\">游戏内的对象分别提供了各自对应的脚本数据容量；该容量的定义主要是依据该对象能够参与的逻辑范围来评估的，当然今后如果某种类型的脚本数据空间不足，可以酌情进行扩充，但不会无限制扩充，需要同时考虑服务器的内存容量进行考虑。</p>\n</blockquote>\n<blockquote class=\"default\">\n<p class=\"line\">目前我们的脚本数据的类型和容量的定义如下表：</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>脚本数据容量</th>\n<th>是否存储数据库</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>玩家</td>\n<td>200个双字</td>\n<td>是</td>\n</tr>\n<tr>\n<td>玩家动态</td>\n<td>40个双字</td>\n<td>否</td>\n</tr>\n</tbody></table>\n<blockquote class=\"info\">\n<p class=\"line\">这里解释一下，双字在程序的表示上是4个字节，玩家的脚本数据是200个双字，那么代表其一共有800个字节的存储空间。也就是说，一个玩家的所有脚本数据只能定义在这800个字节的空间内，其它类型的脚本数据以此类推。这里面有一些是要保存到数据库里面的，有一些是不需要的。</p>\n</blockquote>\n<h4 id=\"5nxbck\" class=\"markdown-heading\"><a name=\"5nxbck\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本数据的定义方式</h4><blockquote class=\"default\">\n<p class=\"line\">服务器底层只为脚本提供了存储空间，但如何对这个空间进行划分利用则是脚本层的工作。为了对存储空间进行合理的利用，脚本层一共提供了两种脚本数据定义方式。下面以\"解救人质\"脚本中何婉清的AI脚本数据举例来进行说明。其定义如下：</p>\n</blockquote>\n<pre class=\"hljs bash\"><code class=\"language-lua\">NPC何婉清的AI脚本数据\n\n<span class=\"hljs-built_in\">local</span> f_hwq_ai_sv =\n{\n     escort_player  = 0,   -- 护送其的玩家ID\n     ai_state   = {2, 0, 8},  -- 当前AI状态\n     ai_in_combat  = {2, 8, 8},  -- 记录的下层是否在战斗状态\n     escort_check_timer = {2, 16, 8}, -- 检测的时间间隔\n}</code></pre>\n<blockquote class=\"default\">\n<p class=\"line\">一般情况下我们会将某个对象的脚本数据定义在一个table里面，在内部通过key-value对来定义对应的脚本数据。我们将脚本数据的定义方式分为两类：</p>\n<ol>\n<li><em>Table定义方式</em>。<br>这种方式是最常采用的方式，它用于存储脚本数据不大于四个双字的情况。每个table里面定义三个值，这三个值的含义分别为：该脚本数据的起始双字索引；该脚本数据在该双字内的起始位索引；该脚本数据所占据的位数。通过这样的划分方式，可以最大限度的利用脚本数据空间，可以使得一个双字存储多个逻辑脚本数据。例如上面的脚本定义：ai_state={2,0,8}，代表AI状态占据了双字索引2内以第0位开始的8个位；ai_in_commbat={2,8,8}代表战斗状态占据了双字索引2内以第8位开始的8个位。scort_check_timer以此类推。这样，在索引2的双字里面就存储了三个脚本数据，他们在空间上是邻接的。每个脚本数据定义多大的存储空间是由其值的范围来决定的，在定义时一定要留意每个数据的范围，从而选取合适的空间来进行存储，防止因为空间不足而产生的数据截断。</li><li><em>数值定义方式</em>。<br>该方式用于存储64位数据的情况，一般情况下为我们游戏内各种对象的ID。64位的数据需要两个双字才能进行存储，所以不需要再指定双字内的索引和位数了。例如上面的脚本数据定义，我们将护送何婉清的玩家ID存储在escort_player所对应的索引上，这里为0，实际上在存储和取值时，程序内部是把索引0和索引1里面的数据拼合成一个64位的值进行了存储和保存。所以我们看到ai_state脚本数据是从2而不是从1开始的，因为1里面也记录了escort_player的部分数据。使用时一定要注意。</li></ol>\n</blockquote>\n<h4 id=\"egnnys\" class=\"markdown-heading\"><a name=\"egnnys\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本数据定义注意事项</h4><ul>\n<li><p class=\"line\">定义脚本数据时应尽可能节省。因为存储空间有限，在定义脚本数据时一定要合理利用脚本数据空间，不要为一个本身范围很有限的脚本数据定义一个过大的存储空间。比如一个玩家是否做过某个任务可能只需要一个位就可以保存，那这种情况下就不要使用整个双字来存储。尤其对于玩家公会这种脚本数据，更要注意日常使用时的节省。</p>\n</li><li><p class=\"line\">对玩家的脚本数据要特别注意。在我们的脚本数据中，玩家脚本数据是比较特殊的，因为这两种对象的脚本数据只能定义在一个全局表里面像。但是对于玩家对象，不论他是一个1级的免费玩家，还是一个80级的RMB玩家，他们的脚本数据划分方式实际上是完全一样的。所以我们在定义玩家或公会脚本数据时，必须在一个全局表里面定义。但实际上玩家的每个脚本数据上都是跟某些玩法关联的，所以是在定义该玩法的时候才定义玩家脚本数据，比如师门任务，武功境界副本这样的玩法都会添加玩家脚本数据。所以，这就需要在定义玩家脚本数据时，全组人要进行严格的沟通。比如：如果师门任务需要定义某个脚本数据，师门任务的开发者需要在群里面通知所有的开发者，他对脚本数据某一段空间进行了预定，其他开发者就不能再继续占用了，这样可以避免很多重定义问题，防止数据发生破坏。这一点切记。玩家，我们会定义在<code>global\\script\\_value\\_config.lua</code>中。</p>\n</li></ul>\n<p class=\"line\"><a name=\"page7\"></a></p>\n<h3 id=\"aqxst5\" class=\"markdown-heading\"><a name=\"aqxst5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本读取xml文件</h3><h4 id=\"8xexuf\" class=\"markdown-heading\"><a name=\"8xexuf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本读取xml文件的时机</h4><blockquote class=\"default\">\n<p class=\"line\">脚本层读取xml文件，主要是因为某些脚本可能要定义大量的数据，而如果将这些数据一个一个的定义在脚本层，会使得编写起来非常麻烦，也极难维护。所以我们选择将这些数据放入一个xml文件，脚本在运行时加载该文件，并对读取的数据进行预处理，存储在脚本层的一个table中，这样省去了在脚本中编辑的复杂度，也使得脚本更为清晰简单。</p>\n</blockquote>\n<h4 id=\"5mpfpg\" class=\"markdown-heading\"><a name=\"5mpfpg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本读取xml文件应注意的问题</h4><blockquote class=\"default\">\n<p class=\"line\">由于加载文件是一个比较耗时的操作，所以我们要尽量在脚本第一次加载的时候进行xml文件的读取和预处理，不要在游戏运行阶段进行加载，尤其不能在某个函数的执行期间内临时生成一个table读取xml文件，这样会带来效率上的极大损失。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page9\"></a></p>\n<h3 id=\"8ts7ki\" class=\"markdown-heading\"><a name=\"8ts7ki\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>字符串表StringTable定义</h3><blockquote class=\"default\">\n<p class=\"line\">由于我们的产品将来也要考虑国际化的问题，所以游戏内所有的文字都会在将来海外版的开发过程中进行翻译。我们的属性表在设计之初就考虑了这样的问题，所以策划在编写属性表时，都会将文字相关的属性定义在另一张表里面。基于同样的设计原则，脚本层也会对文字做统一的处理。由于脚本层经常会有给客户端发送文字信息的逻辑，如果将这些文字信息都显示的编辑在各个脚本文件中，会导致将来海外事业部在翻译时遇到很大的困难，也更容易出问题。所以，我们提出脚本层StringTable的概念，将任何脚本中可能涉及到的文字信息全部保存在这一个单独的文件中，脚本层只填写对应stringtable中的索。这样，在翻译时，海外事业部只需要对StringTable文件进行翻译，然后做相应的替换即可，极大程度上减少了无谓的工作量。</p>\n</blockquote>\n<h4 id=\"9gukvs\" class=\"markdown-heading\"><a name=\"9gukvs\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>StringTable的分类</h4><blockquote class=\"default\">\n<p class=\"line\">我们的StringTable定义在global\\globle_notice.lua中，从该文件我们看到其实际上就是一个lua的table。在里面有各个子table，分别对某个模块或者某个脚本定义的文字信息。我们原则上将文字信息分为三类：</p>\n<ol>\n<li>广播类。比如，\"恭喜#BD#%s#W#获得了斗仙台#Y#第一名#W#\"这样的通用提示。</li><li>邮件类。用于邮件标题和内容的描述.</li></ol>\n</blockquote>\n<h4 id=\"fhafd5\" class=\"markdown-heading\"><a name=\"fhafd5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Strinttable注意事项</h4><blockquote class=\"default\">\n<p class=\"line\">StringTable中的某个文字对于那个的key，一般要起一个好理解的名字，不要有太多的数字，最好能一目了然。比玩家获得竞技场第一名的系统广播stringtable中的提示AreraFirs。</p>\n</blockquote>\n','2019-09-17 16:45:17',2,'2019-09-18 15:02:34',2,1568711735,0),(16,'服务器相关文档','programmer_common-1bh9hmk9a99n0',4,0,5,'# 服务器操作\n\n## 开服\n\n1. 搭建好服务器环境。\n2. 进入**\\server_bin64**启动`ServerConsole.exe`，`ServerCache.exe`，`ServerDB.exe`，`ServerWorld.exe`。\n3. 观察`ServerConsole` 中的`ServerWorld`进程，当右上角的标示变成绿色启动\n![](/data/uploads/programmer_common/images/m_6033e7ebb726d152435314dbf605f4c8_r.png)\n\n\n>[success]Serverworld.exe进程启动完毕。（通过图中左上角蓝色区域的下拉菜单可切换其他进程观察，因配置正确的情况下其他进程不会出现问题所以没有特殊说明。）\n\n4. 将`\\server\\settings`下`connecting\\_config.ini`中红色部分修改为测试用IP和端口以用于测试服务器是否开启。\n![](/data/uploads/programmer_common/images/m_ee5602d716b199233c9e886a6aa55678_r.png)\n\n5. 启动`ServerLogon.exe`\n6. 使用测试用客户端登陆游戏进行建号，新手任务，重新登录等基本操作没有异常即可。\n7. 测试完成后开将`\\server\\settings`下`connecting\\_config.ini`中红色部分修改为对外用用IP和端口以用于测试服务器是否开启。\n![](/data/uploads/programmer_common/images/m_29734fdd6cc862b9774de01b1ecca9e7_r.png)\n\n8. 关闭`ServerLogon.exe`服务器，待需要对外时开启`ServerLogon.exe`服务器\n\n9. 开启`ServerLogon.exe`后开启`windebug`脚本\n\n![](/data/uploads/programmer_common/images/m_a32db0636d6cbf5931f324ce74e0b6d1_r.png)\n\n>[info]出现四个这种窗体为已经挂起windebug脚本。\n\n>[danger]注：此时绝对不能将这四个窗体关闭！关闭后相关进程也会被关闭！**\n\n\n\n## 停服\n### 正常情况下停服\n![](/data/uploads/programmer_common/images/m_93cfb4e6153486181d074fa5c21f86fd_r.png)\n\n  1. 在ServerConsole上方下拉菜单中选中LocalServer ServerLogon 然后在下方输入框输入quit 后回车\n  2. 待到右上角部分status变成黑色服务器为关闭完毕（如下图）\n![](/data/uploads/programmer_common/images/m_00f73f45b79f9b1465def522d206cef2_r.png)\n\n  3. 然后依次将ServerWorld.exe，ServerCache.exe，ServerDB.exe关闭\n	>[danger]（注：前一个关闭后才能关闭后一个）\n	\n### ServerWorld.exe宕机后关机流程\n1. 等windebug记录完dump（看见serverconsole  serverworld变黑）之后将ServerConsole选中ServerDB  在下边控制台输入saveall 回车会出现下列屏显\n\n```\nstart saving cache data, do not touch anything!\nSave Player OK!\nSave PlayerInfo OK!\nSave GScriptData OK!\nSave AvyInfo OK!\nSave RankAtt OK!\nSave RankLast OK!\nSave Arena OK!\nSave MailData OK!\nSave PlayerMail OK!\nSave MailAttachment OK!\nSave Mine OK!\nSave MineStore OK!\nSave SeaTrader OK!\nSave Escort OK!\nSave SeaHot OK!\nSave Friend OK!\nSave Guild OK!\nSave GuildMem OK!\nSave DevilOffer OK!\nSave Home OK!\nSave Bill OK!\ncache data save complete!\n```\n\n当出现`cache data save complete!`证明数据保存完成然后就可以把ServerLogon和ServerCache 关闭后按照开服流程重新开服，并且把d:\\dump下对应时间的文件夹压缩后发给我们。\n\n## 维护更新\n### 维护\n1. 按照正常停服步骤停服\n2. 将数据库进行备份\n3. 重启服务器硬件\n4. 开启服务器\n\n### 更新\n按照正常维护步骤维护后，把之前的服务器文件备份，然后进行以下操作。\n\n    1. 没有配置文件更新\n	将提供的服务器更新包覆盖到服务器文件中，然后按照开服流程开服。\n\n\n    2. 有配置文件更新\n	根据服务器更新包中的更新说明修改配置文件，然后将更新包中的文件覆盖到服务器文件中，按照开服流程开服。\n\n### 数据库更新\n\n按照正常维护步骤维护后，把之前的服务器文件备份，然后使用提供的数据库更新脚本对相应数据库进行更新。','<article class=\"markdown-article-inner\"><h1 id=\"393che\" class=\"markdown-heading\"><a name=\"393che\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>服务器操作</h1><h2 id=\"1kvklk\" class=\"markdown-heading\"><a name=\"1kvklk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>开服</h2><ol>\n<li>搭建好服务器环境。</li><li>进入<strong>\\server_bin64</strong>启动<code>ServerConsole.exe</code>，<code>ServerCache.exe</code>，<code>ServerDB.exe</code>，<code>ServerWorld.exe</code>。</li><li>观察<code>ServerConsole</code> 中的<code>ServerWorld</code>进程，当右上角的标示变成绿色启动<br/><img src=\"/data/uploads/programmer_common/images/m_6033e7ebb726d152435314dbf605f4c8_r.png\" title=\"null\" alt=\"\"/></li></ol>\n<blockquote class=\"success\">\n<p class=\"line\">Serverworld.exe进程启动完毕。（通过图中左上角蓝色区域的下拉菜单可切换其他进程观察，因配置正确的情况下其他进程不会出现问题所以没有特殊说明。）</p>\n</blockquote>\n<ol start=\"4\">\n<li><p class=\"line\">将<code>\\server\\settings</code>下<code>connecting\\_config.ini</code>中红色部分修改为测试用IP和端口以用于测试服务器是否开启。<br/><img src=\"/data/uploads/programmer_common/images/m_ee5602d716b199233c9e886a6aa55678_r.png\" title=\"null\" alt=\"\"/></p>\n</li><li><p class=\"line\">启动<code>ServerLogon.exe</code></p>\n</li><li><p class=\"line\">使用测试用客户端登陆游戏进行建号，新手任务，重新登录等基本操作没有异常即可。</p>\n</li><li><p class=\"line\">测试完成后开将<code>\\server\\settings</code>下<code>connecting\\_config.ini</code>中红色部分修改为对外用用IP和端口以用于测试服务器是否开启。<br/><img src=\"/data/uploads/programmer_common/images/m_29734fdd6cc862b9774de01b1ecca9e7_r.png\" title=\"null\" alt=\"\"/></p>\n</li><li><p class=\"line\">关闭<code>ServerLogon.exe</code>服务器，待需要对外时开启<code>ServerLogon.exe</code>服务器</p>\n</li><li><p class=\"line\">开启<code>ServerLogon.exe</code>后开启<code>windebug</code>脚本</p>\n</li></ol>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_a32db0636d6cbf5931f324ce74e0b6d1_r.png\" title=\"null\" alt=\"\"/></p>\n<blockquote class=\"info\">\n<p class=\"line\">出现四个这种窗体为已经挂起windebug脚本。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">注：此时绝对不能将这四个窗体关闭！关闭后相关进程也会被关闭！**</p>\n</blockquote>\n<h2 id=\"2kg4kh\" class=\"markdown-heading\"><a name=\"2kg4kh\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>停服</h2><h3 id=\"5wndli\" class=\"markdown-heading\"><a name=\"5wndli\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>正常情况下停服</h3><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_93cfb4e6153486181d074fa5c21f86fd_r.png\" title=\"null\" alt=\"\"/></p>\n<ol>\n<li><p class=\"line\">在ServerConsole上方下拉菜单中选中LocalServer ServerLogon 然后在下方输入框输入quit 后回车</p>\n</li><li><p class=\"line\">待到右上角部分status变成黑色服务器为关闭完毕（如下图）<br/><img src=\"/data/uploads/programmer_common/images/m_00f73f45b79f9b1465def522d206cef2_r.png\" title=\"null\" alt=\"\"/></p>\n</li><li><p class=\"line\">然后依次将ServerWorld.exe，ServerCache.exe，ServerDB.exe关闭</p>\n<blockquote class=\"danger\">\n<p class=\"line\">（注：前一个关闭后才能关闭后一个）</p>\n</blockquote>\n</li></ol>\n<h3 id=\"6h0208\" class=\"markdown-heading\"><a name=\"6h0208\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>ServerWorld.exe宕机后关机流程</h3><ol>\n<li>等windebug记录完dump（看见serverconsole  serverworld变黑）之后将ServerConsole选中ServerDB  在下边控制台输入saveall 回车会出现下列屏显</li></ol>\n<pre class=\"hljs sql\"><code><span class=\"hljs-keyword\">start</span> saving <span class=\"hljs-keyword\">cache</span> <span class=\"hljs-keyword\">data</span>, <span class=\"hljs-keyword\">do</span> <span class=\"hljs-keyword\">not</span> touch anything!\n<span class=\"hljs-keyword\">Save</span> Player OK!\n<span class=\"hljs-keyword\">Save</span> PlayerInfo OK!\n<span class=\"hljs-keyword\">Save</span> GScriptData OK!\n<span class=\"hljs-keyword\">Save</span> AvyInfo OK!\n<span class=\"hljs-keyword\">Save</span> RankAtt OK!\n<span class=\"hljs-keyword\">Save</span> RankLast OK!\n<span class=\"hljs-keyword\">Save</span> Arena OK!\n<span class=\"hljs-keyword\">Save</span> MailData OK!\n<span class=\"hljs-keyword\">Save</span> PlayerMail OK!\n<span class=\"hljs-keyword\">Save</span> MailAttachment OK!\n<span class=\"hljs-keyword\">Save</span> Mine OK!\n<span class=\"hljs-keyword\">Save</span> MineStore OK!\n<span class=\"hljs-keyword\">Save</span> SeaTrader OK!\n<span class=\"hljs-keyword\">Save</span> Escort OK!\n<span class=\"hljs-keyword\">Save</span> SeaHot OK!\n<span class=\"hljs-keyword\">Save</span> Friend OK!\n<span class=\"hljs-keyword\">Save</span> Guild OK!\n<span class=\"hljs-keyword\">Save</span> GuildMem OK!\n<span class=\"hljs-keyword\">Save</span> DevilOffer OK!\n<span class=\"hljs-keyword\">Save</span> Home OK!\n<span class=\"hljs-keyword\">Save</span> Bill OK!\n<span class=\"hljs-keyword\">cache</span> <span class=\"hljs-keyword\">data</span> <span class=\"hljs-keyword\">save</span> <span class=\"hljs-keyword\">complete</span>!</code></pre><p class=\"line\">当出现<code>cache data save complete!</code>证明数据保存完成然后就可以把ServerLogon和ServerCache 关闭后按照开服流程重新开服，并且把d:\\dump下对应时间的文件夹压缩后发给我们。</p>\n<h2 id=\"g5hlh7\" class=\"markdown-heading\"><a name=\"g5hlh7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>维护更新</h2><h3 id=\"a0rvkv\" class=\"markdown-heading\"><a name=\"a0rvkv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>维护</h3><ol>\n<li>按照正常停服步骤停服</li><li>将数据库进行备份</li><li>重启服务器硬件</li><li>开启服务器</li></ol>\n<h3 id=\"77syaf\" class=\"markdown-heading\"><a name=\"77syaf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>更新</h3><p class=\"line\">按照正常维护步骤维护后，把之前的服务器文件备份，然后进行以下操作。</p>\n<pre class=\"hljs markdown\"><code><span class=\"hljs-bullet\">1. </span>没有配置文件更新\n将提供的服务器更新包覆盖到服务器文件中，然后按照开服流程开服。\n\n\n<span class=\"hljs-bullet\">2. </span>有配置文件更新\n根据服务器更新包中的更新说明修改配置文件，然后将更新包中的文件覆盖到服务器文件中，按照开服流程开服。</code></pre><h3 id=\"porgk\" class=\"markdown-heading\"><a name=\"porgk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>数据库更新</h3><p class=\"line\">按照正常维护步骤维护后，把之前的服务器文件备份，然后使用提供的数据库更新脚本对相应数据库进行更新。</p><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-17 23:02   作者：万韬</div></article>','<h1 id=\"393che\" class=\"markdown-heading\"><a name=\"393che\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>服务器操作</h1><h2 id=\"1kvklk\" class=\"markdown-heading\"><a name=\"1kvklk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>开服</h2><ol>\n<li>搭建好服务器环境。</li><li>进入<strong>\\server_bin64</strong>启动<code>ServerConsole.exe</code>，<code>ServerCache.exe</code>，<code>ServerDB.exe</code>，<code>ServerWorld.exe</code>。</li><li>观察<code>ServerConsole</code> 中的<code>ServerWorld</code>进程，当右上角的标示变成绿色启动<br><img src=\"/data/uploads/programmer_common/images/m_6033e7ebb726d152435314dbf605f4c8_r.png\" title=\"null\" alt=\"\"></li></ol>\n<blockquote class=\"success\">\n<p class=\"line\">Serverworld.exe进程启动完毕。（通过图中左上角蓝色区域的下拉菜单可切换其他进程观察，因配置正确的情况下其他进程不会出现问题所以没有特殊说明。）</p>\n</blockquote>\n<ol start=\"4\">\n<li><p class=\"line\">将<code>\\server\\settings</code>下<code>connecting\\_config.ini</code>中红色部分修改为测试用IP和端口以用于测试服务器是否开启。<br><img src=\"/data/uploads/programmer_common/images/m_ee5602d716b199233c9e886a6aa55678_r.png\" title=\"null\" alt=\"\"></p>\n</li><li><p class=\"line\">启动<code>ServerLogon.exe</code></p>\n</li><li><p class=\"line\">使用测试用客户端登陆游戏进行建号，新手任务，重新登录等基本操作没有异常即可。</p>\n</li><li><p class=\"line\">测试完成后开将<code>\\server\\settings</code>下<code>connecting\\_config.ini</code>中红色部分修改为对外用用IP和端口以用于测试服务器是否开启。<br><img src=\"/data/uploads/programmer_common/images/m_29734fdd6cc862b9774de01b1ecca9e7_r.png\" title=\"null\" alt=\"\"></p>\n</li><li><p class=\"line\">关闭<code>ServerLogon.exe</code>服务器，待需要对外时开启<code>ServerLogon.exe</code>服务器</p>\n</li><li><p class=\"line\">开启<code>ServerLogon.exe</code>后开启<code>windebug</code>脚本</p>\n</li></ol>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_a32db0636d6cbf5931f324ce74e0b6d1_r.png\" title=\"null\" alt=\"\"></p>\n<blockquote class=\"info\">\n<p class=\"line\">出现四个这种窗体为已经挂起windebug脚本。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">注：此时绝对不能将这四个窗体关闭！关闭后相关进程也会被关闭！**</p>\n</blockquote>\n<h2 id=\"2kg4kh\" class=\"markdown-heading\"><a name=\"2kg4kh\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>停服</h2><h3 id=\"5wndli\" class=\"markdown-heading\"><a name=\"5wndli\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>正常情况下停服</h3><p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_93cfb4e6153486181d074fa5c21f86fd_r.png\" title=\"null\" alt=\"\"></p>\n<ol>\n<li><p class=\"line\">在ServerConsole上方下拉菜单中选中LocalServer ServerLogon 然后在下方输入框输入quit 后回车</p>\n</li><li><p class=\"line\">待到右上角部分status变成黑色服务器为关闭完毕（如下图）<br><img src=\"/data/uploads/programmer_common/images/m_00f73f45b79f9b1465def522d206cef2_r.png\" title=\"null\" alt=\"\"></p>\n</li><li><p class=\"line\">然后依次将ServerWorld.exe，ServerCache.exe，ServerDB.exe关闭</p>\n<blockquote class=\"danger\">\n<p class=\"line\">（注：前一个关闭后才能关闭后一个）</p>\n</blockquote>\n</li></ol>\n<h3 id=\"6h0208\" class=\"markdown-heading\"><a name=\"6h0208\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>ServerWorld.exe宕机后关机流程</h3><ol>\n<li>等windebug记录完dump（看见serverconsole  serverworld变黑）之后将ServerConsole选中ServerDB  在下边控制台输入saveall 回车会出现下列屏显</li></ol>\n<pre class=\"hljs sql\"><code><span class=\"hljs-keyword\">start</span> saving <span class=\"hljs-keyword\">cache</span> <span class=\"hljs-keyword\">data</span>, <span class=\"hljs-keyword\">do</span> <span class=\"hljs-keyword\">not</span> touch anything!\n<span class=\"hljs-keyword\">Save</span> Player OK!\n<span class=\"hljs-keyword\">Save</span> PlayerInfo OK!\n<span class=\"hljs-keyword\">Save</span> GScriptData OK!\n<span class=\"hljs-keyword\">Save</span> AvyInfo OK!\n<span class=\"hljs-keyword\">Save</span> RankAtt OK!\n<span class=\"hljs-keyword\">Save</span> RankLast OK!\n<span class=\"hljs-keyword\">Save</span> Arena OK!\n<span class=\"hljs-keyword\">Save</span> MailData OK!\n<span class=\"hljs-keyword\">Save</span> PlayerMail OK!\n<span class=\"hljs-keyword\">Save</span> MailAttachment OK!\n<span class=\"hljs-keyword\">Save</span> Mine OK!\n<span class=\"hljs-keyword\">Save</span> MineStore OK!\n<span class=\"hljs-keyword\">Save</span> SeaTrader OK!\n<span class=\"hljs-keyword\">Save</span> Escort OK!\n<span class=\"hljs-keyword\">Save</span> SeaHot OK!\n<span class=\"hljs-keyword\">Save</span> Friend OK!\n<span class=\"hljs-keyword\">Save</span> Guild OK!\n<span class=\"hljs-keyword\">Save</span> GuildMem OK!\n<span class=\"hljs-keyword\">Save</span> DevilOffer OK!\n<span class=\"hljs-keyword\">Save</span> Home OK!\n<span class=\"hljs-keyword\">Save</span> Bill OK!\n<span class=\"hljs-keyword\">cache</span> <span class=\"hljs-keyword\">data</span> <span class=\"hljs-keyword\">save</span> <span class=\"hljs-keyword\">complete</span>!</code></pre><p class=\"line\">当出现<code>cache data save complete!</code>证明数据保存完成然后就可以把ServerLogon和ServerCache 关闭后按照开服流程重新开服，并且把d:\\dump下对应时间的文件夹压缩后发给我们。</p>\n<h2 id=\"g5hlh7\" class=\"markdown-heading\"><a name=\"g5hlh7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>维护更新</h2><h3 id=\"a0rvkv\" class=\"markdown-heading\"><a name=\"a0rvkv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>维护</h3><ol>\n<li>按照正常停服步骤停服</li><li>将数据库进行备份</li><li>重启服务器硬件</li><li>开启服务器</li></ol>\n<h3 id=\"77syaf\" class=\"markdown-heading\"><a name=\"77syaf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>更新</h3><p class=\"line\">按照正常维护步骤维护后，把之前的服务器文件备份，然后进行以下操作。</p>\n<pre class=\"hljs markdown\"><code><span class=\"hljs-bullet\">1. </span>没有配置文件更新\n将提供的服务器更新包覆盖到服务器文件中，然后按照开服流程开服。\n\n\n<span class=\"hljs-bullet\">2. </span>有配置文件更新\n根据服务器更新包中的更新说明修改配置文件，然后将更新包中的文件覆盖到服务器文件中，按照开服流程开服。</code></pre><h3 id=\"porgk\" class=\"markdown-heading\"><a name=\"porgk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>数据库更新</h3><p class=\"line\">按照正常维护步骤维护后，把之前的服务器文件备份，然后使用提供的数据库更新脚本对相应数据库进行更新。</p>\n','2019-09-17 18:04:59',2,'2019-09-18 15:02:34',2,1568716113,0),(17,'国内版本服务器需求','fengshen-1bh9j36or02g8',2,3,0,'# 封神国内版本服务器需求\n\n| 项目 |	用途 |	亚马逊相近型号 |	CPU |	内存 |	数据盘 |	操作系统 |	数量 |	带宽 |	分区要求 |	备注 |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 封神	| 游戏服 |	r3.xlarge |	8核 |	32GB |	300GB |	win2008R2_x64简体中文版或英文版 |	n台 |	10Mb/s |	C盘50GB  D盘:300GB	|  | \n| |测试服	|m3.xlarge	|4核|	16GB|	200GB	|win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	审核服	|m3.xlarge|	4核|	16GB|	200GB|	win2008R2_x64简体中文版或英文版	|1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	程序监控服务器|	m3.xlarge|	4核|	16GB	|200GB|	win2008R2_x64简体中文版或英文版|	1台	|10Mb/s|	C盘50GB   D盘:200GB|	 \n|  | 	跨服服务器|	m3.xlarge|	4核	|16GB|	200GB|	win2008R2_x64简体中文版或英文版|	1台|	10Mb/s|	C盘50GB   D盘:200GB|	 \n | |	列表&CDN源服务器|	带宽大,待定|	2核	|4GB|	200GB	|CentOS-6.x-x86_64-minimal|	1台 | 1Gb/s 或100Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间	| \n | |	SDK服务器 |	c3.2xlarge |	8核 |	16GB |	200GB |	CentOS-6.x-x86_64-minimal |	2台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	`需要负载均衡` |\n | |	SDK数据服务器 |	c3.xlarge |	4核 |	8GB |	500GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap 16G  / 剩余所有空间 |	 \n | |	数据采集服务器 |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口：8001` |\n |   |	数据服务器 |	c3.xlarge |	6C12T |	32GB |	硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |	`开放端口:14000 10000` |\n |  | GMT |	c3.xlarge |	4核 |	4GB |	300GB |	CentOS-6.x-x86_64-minimal |	1台 |	10Mb/s |	/boot 1GB  swap  4G  / 剩余所有空间 |\n\n>[warning]注意：1台服务器只能开1个服,单台服务器不支持开多服\n所有机器均需要内外网IP,内网能互通\n带宽: 每台机器均需要`10Mb/s`外网带宽\n\n>[danger]如果\"列表&CDN源服务器\"和其它机器在同一内网,可以和\"管理机Linux\"合并,配置按\"列表&CDN源服务器\"提供','<article class=\"markdown-article-inner\"><h1 id=\"cqtb3p\" class=\"markdown-heading\"><a name=\"cqtb3p\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>封神国内版本服务器需求</h1><table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td><code>需要负载均衡</code></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK数据服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>8GB</td>\n<td>500GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>数据采集服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口：8001</code></td>\n</tr>\n<tr>\n<td></td>\n<td>数据服务器</td>\n<td>c3.xlarge</td>\n<td>6C12T</td>\n<td>32GB</td>\n<td>硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口:14000 10000</code></td>\n</tr>\n<tr>\n<td></td>\n<td>GMT</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">注意：1台服务器只能开1个服,单台服务器不支持开多服<br/>所有机器均需要内外网IP,内网能互通<br/>带宽: 每台机器均需要<code>10Mb/s</code>外网带宽</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">如果”列表&amp;CDN源服务器”和其它机器在同一内网,可以和”管理机Linux”合并,配置按”列表&amp;CDN源服务器”提供</p>\n</blockquote><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-17 18:46   作者：万韬</div></article>','<h1 id=\"cqtb3p\" class=\"markdown-heading\"><a name=\"cqtb3p\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>封神国内版本服务器需求</h1><table>\n<thead>\n<tr>\n<th>项目</th>\n<th>用途</th>\n<th>亚马逊相近型号</th>\n<th>CPU</th>\n<th>内存</th>\n<th>数据盘</th>\n<th>操作系统</th>\n<th>数量</th>\n<th>带宽</th>\n<th>分区要求</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>封神</td>\n<td>游戏服</td>\n<td>r3.xlarge</td>\n<td>8核</td>\n<td>32GB</td>\n<td>300GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>n台</td>\n<td>10Mb/s</td>\n<td>C盘50GB  D盘:300GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>测试服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>审核服</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>程序监控服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>跨服服务器</td>\n<td>m3.xlarge</td>\n<td>4核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>win2008R2_x64简体中文版或英文版</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>C盘50GB   D盘:200GB</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>列表&amp;CDN源服务器</td>\n<td>带宽大,待定</td>\n<td>2核</td>\n<td>4GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>1Gb/s 或100Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK服务器</td>\n<td>c3.2xlarge</td>\n<td>8核</td>\n<td>16GB</td>\n<td>200GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>2台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td><code>需要负载均衡</code></td>\n</tr>\n<tr>\n<td></td>\n<td>SDK数据服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>8GB</td>\n<td>500GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap 16G  / 剩余所有空间</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>数据采集服务器</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口：8001</code></td>\n</tr>\n<tr>\n<td></td>\n<td>数据服务器</td>\n<td>c3.xlarge</td>\n<td>6C12T</td>\n<td>32GB</td>\n<td>硬盘做完RAID（最好是RAID10  RAID5也可以）后容量至少40T</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td><code>开放端口:14000 10000</code></td>\n</tr>\n<tr>\n<td></td>\n<td>GMT</td>\n<td>c3.xlarge</td>\n<td>4核</td>\n<td>4GB</td>\n<td>300GB</td>\n<td>CentOS-6.x-x86_64-minimal</td>\n<td>1台</td>\n<td>10Mb/s</td>\n<td>/boot 1GB  swap  4G  / 剩余所有空间</td>\n<td></td>\n</tr>\n</tbody></table>\n<blockquote class=\"warning\">\n<p class=\"line\">注意：1台服务器只能开1个服,单台服务器不支持开多服<br>所有机器均需要内外网IP,内网能互通<br>带宽: 每台机器均需要<code>10Mb/s</code>外网带宽</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">如果”列表&amp;CDN源服务器”和其它机器在同一内网,可以和”管理机Linux”合并,配置按”列表&amp;CDN源服务器”提供</p>\n</blockquote>\n','2019-09-17 18:30:31',2,'2019-09-17 18:46:44',2,1568717200,0),(18,'客户端脚本书写规范','programmer_common-1bh9k2pd4d6bo',4,0,6,'# 客户端脚本书写规范\n\n\n## 脚本类型和前缀对应表\n\n### Frame框架类对应脚本：\n|前缀名| 功能 |\n|-- | -- |\n| `ui_`  |   界面脚本 |\n| `scene_` |		场景脚本		|\n| `ai_` |		角色AI脚本 |\n| `session_` |	主要注册网络消息的脚本 |\n| `frame_` |		普通框架脚本 |\n\n### 各种方法类脚本\n|前缀名| 功能 |\n|-- | -- |\n| `util_`| 		方法类脚本 |\n| `db_` |		存储游戏数据的脚本 |\n| `container_` |	容器类脚本，存储背包英雄等数据的脚本 |\n| `enum_` |		枚举类脚本 |\n\n### 各种对象模块脚本\n|前缀名| 功能 |\n|-- | -- |\n| `object_` |		对象脚本|\n| `ctrl_` |		控制器脚本|\n\n\n## 脚本函数规则\n脚本函数和C++接口函数命名要有所区分，方便识别C++脚本接口\n全局函数以_开头全部小写的方式（为了和原来用法习惯保持不变），如 _createframe\n\n成员函数以单词首字母大写连写的方式命名，如 `GetFrameName`\n\n### Lua全局接口:\n* global_functions.lua中的函数以单词首字母大写连写的方式命名，如 GetEntry\n* global_enums.lua中枚举命名以服务器枚举命名规则为准，自己添加的枚举首字母大写\n* global_string.lua中的字符串名称首字母大写\n\n>[info]三个全局接口加载顺序依次是enums->strings->functions，分别对应枚举，字符串和函数，所以每个文件不要有不相符的内容\n\n\n### Lua框架类脚本\n* C++回调函数以单词首字母大写连写方式命名，如Init\n* 局部函数以V_开头，单词首字母大写连写方式命名，如V_InitUI\n* 事件处理函数以OnEvent_开头，如OnEvent_OpenDialog\n* 网络消息处理函数以OnNet_开头，如OnNet_ChangeName\n控件事件处理函数以“控件名_On操作”，如bt_close_OnClick\n\n### Lua方法类和对象类脚本\n* 接口函数采用小写单词用下划线分割的方式，如get_player_info\n* 局部函数以v_为开头小写单词用下划线分割的方式，如v_get_player_name\n* 对象成员函数采用小写单词用下划线分割的方式，如get_player_info\n\n## 变量命名规则\n变量都已小写单词用下划线分割的方式\n* 文件级的局部变量以`f_`开头，如`local f_name`\n* 函数级的局部变量以`l_`开头，如`local l_name`\n* 函数的参数以`_`为开头，如 `function OnEvent(_event)`\n* 定义的常量以`x_`开头，枚举以`e_`开头\n* 全局变量只用于常量或者枚举\n\n\n### 框架类脚本结构:\n\n```\n//-----------------------------------------------------------------\n// 脚本方法模块声明\n//-----------------------------------------------------------------\nlocal f_string 	= require(\"util_string\")\n\n//-----------------------------------------------------------------\n// 局部变量声明\n//-----------------------------------------------------------------\nlocal f_name	= \"\"\n\n//-----------------------------------------------------------------\n// 局部函数声明\n//-----------------------------------------------------------------\nlocal V_InitUI\n\n//-----------------------------------------------------------------\n// C++回调函数\n//-----------------------------------------------------------------\nfunction Init(_param)\n	// 注册UI事件	\n	this:RegUIEvent(bt_close, \"Close\", \"bt_close_OnClick()\")\n	\n	// 注册游戏事件\n	this:RegGameEvent(\"OpenWindow\", \"OnEvent_OpenWindow\")\n\n	// 注册网络事件\n	this:RegNetCmd(\"MS_OpenWindow\", OnNet_OpenWindow)	\n\n\n	V_InitUI()			\nend\n\n//-----------------------------------------------------------------\n// 控件事件处理函数\n//-----------------------------------------------------------------\nfunction bt_close_OnClick()\n\nend\n\n//-----------------------------------------------------------------\n// 游戏事件处理函数\n//-----------------------------------------------------------------\nfunction OnEvent_OpenWindow(_name, _event)\n\nend\n\n//-----------------------------------------------------------------\n// 网络消息处理函数\n//-----------------------------------------------------------------\nfunction OnNet_OpenWindow(_name, _cmd)\n\nend\n\n//-----------------------------------------------------------------\n// 局部函数\n//-----------------------------------------------------------------\nfunction V_InitUI()\n\nend\n```\n\n\n### 方法类脚本结构:\n\n```\n//-----------------------------------------------------------------\n// 脚本方法模块声明\n//-----------------------------------------------------------------\nmodule(\"util_string\", package.seeall)\n\n//-----------------------------------------------------------------\n// 局部变量声明\n//-----------------------------------------------------------------\nlocal f_string = \"\"\n\n//-----------------------------------------------------------------\n// 局部函数声明\n//-----------------------------------------------------------------\nlocal v_get_string\n\n//-----------------------------------------------------------------\n// 接口函数\n//-----------------------------------------------------------------\nfunction parse_token(_string)\n\nend\n\n//-----------------------------------------------------------------\n// 局部函数\n//-----------------------------------------------------------------\nfunction v_get_string()\n	\nend\n```\n\n### 对象类脚本\n\n```\n//-----------------------------------------------------------------\n// 脚本方法模块声明\n//-----------------------------------------------------------------\nmodule(\"object_hero\", package.seeall)\n\nlocal f_enum            = require(\"enum_combat\")\n\n//-----------------------------------------------------------------\n// 局部变量声明\n//-----------------------------------------------------------------\nlocal f_hero		= {}\n\n//-----------------------------------------------------------------\n// 局部函数声明\n//-----------------------------------------------------------------\nlocal v_init_spell\n\n//-----------------------------------------------------------------\n// 接口函数\n//-----------------------------------------------------------------\nfunction new_hero(_location, _entry_id, _fashion_id, _scene)\n\nend\n\n//-----------------------------------------------------------------\n// 对象成员函数\n//-----------------------------------------------------------------\nfunction f_hero.attack(_hero, _target)\n\nend\n\n//-----------------------------------------------------------------\n// 局部函数\n//-----------------------------------------------------------------\nfunction v_init_spell()\n\nend\n```','<article class=\"markdown-article-inner\"><h1 id=\"bvry3c\" class=\"markdown-heading\"><a name=\"bvry3c\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>客户端脚本书写规范</h1><h2 id=\"fb3ocg\" class=\"markdown-heading\"><a name=\"fb3ocg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本类型和前缀对应表</h2><h3 id=\"7olksr\" class=\"markdown-heading\"><a name=\"7olksr\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Frame框架类对应脚本：</h3><table>\n<thead>\n<tr>\n<th>前缀名</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>ui_</code></td>\n<td>界面脚本</td>\n</tr>\n<tr>\n<td><code>scene_</code></td>\n<td>场景脚本</td>\n</tr>\n<tr>\n<td><code>ai_</code></td>\n<td>角色AI脚本</td>\n</tr>\n<tr>\n<td><code>session_</code></td>\n<td>主要注册网络消息的脚本</td>\n</tr>\n<tr>\n<td><code>frame_</code></td>\n<td>普通框架脚本</td>\n</tr>\n</tbody></table>\n<h3 id=\"1urcn3\" class=\"markdown-heading\"><a name=\"1urcn3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>各种方法类脚本</h3><table>\n<thead>\n<tr>\n<th>前缀名</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>util_</code></td>\n<td>方法类脚本</td>\n</tr>\n<tr>\n<td><code>db_</code></td>\n<td>存储游戏数据的脚本</td>\n</tr>\n<tr>\n<td><code>container_</code></td>\n<td>容器类脚本，存储背包英雄等数据的脚本</td>\n</tr>\n<tr>\n<td><code>enum_</code></td>\n<td>枚举类脚本</td>\n</tr>\n</tbody></table>\n<h3 id=\"4qnsw4\" class=\"markdown-heading\"><a name=\"4qnsw4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>各种对象模块脚本</h3><table>\n<thead>\n<tr>\n<th>前缀名</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>object_</code></td>\n<td>对象脚本</td>\n</tr>\n<tr>\n<td><code>ctrl_</code></td>\n<td>控制器脚本</td>\n</tr>\n</tbody></table>\n<h2 id=\"ah1mhu\" class=\"markdown-heading\"><a name=\"ah1mhu\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本函数规则</h2><p class=\"line\">脚本函数和C++接口函数命名要有所区分，方便识别C++脚本接口<br/>全局函数以_开头全部小写的方式（为了和原来用法习惯保持不变），如 _createframe</p>\n<p class=\"line\">成员函数以单词首字母大写连写的方式命名，如 <code>GetFrameName</code></p>\n<h3 id=\"2o1hsp\" class=\"markdown-heading\"><a name=\"2o1hsp\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Lua全局接口:</h3><ul>\n<li>global_functions.lua中的函数以单词首字母大写连写的方式命名，如 GetEntry</li><li>global_enums.lua中枚举命名以服务器枚举命名规则为准，自己添加的枚举首字母大写</li><li>global_string.lua中的字符串名称首字母大写</li></ul>\n<blockquote class=\"info\">\n<p class=\"line\">三个全局接口加载顺序依次是enums-&gt;strings-&gt;functions，分别对应枚举，字符串和函数，所以每个文件不要有不相符的内容</p>\n</blockquote>\n<h3 id=\"19vnl2\" class=\"markdown-heading\"><a name=\"19vnl2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Lua框架类脚本</h3><ul>\n<li>C++回调函数以单词首字母大写连写方式命名，如Init</li><li>局部函数以V_开头，单词首字母大写连写方式命名，如V_InitUI</li><li>事件处理函数以OnEvent_开头，如OnEvent_OpenDialog</li><li>网络消息处理函数以OnNet_开头，如OnNet_ChangeName<br/>控件事件处理函数以“控件名<em>On操作”，如bt</em>close_OnClick</li></ul>\n<h3 id=\"459389\" class=\"markdown-heading\"><a name=\"459389\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Lua方法类和对象类脚本</h3><ul>\n<li>接口函数采用小写单词用下划线分割的方式，如get_player_info</li><li>局部函数以v_为开头小写单词用下划线分割的方式，如v_get_player_name</li><li>对象成员函数采用小写单词用下划线分割的方式，如get_player_info</li></ul>\n<h2 id=\"29wrmz\" class=\"markdown-heading\"><a name=\"29wrmz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>变量命名规则</h2><p class=\"line\">变量都已小写单词用下划线分割的方式</p>\n<ul>\n<li>文件级的局部变量以<code>f_</code>开头，如<code>local f_name</code></li><li>函数级的局部变量以<code>l_</code>开头，如<code>local l_name</code></li><li>函数的参数以<code>_</code>为开头，如 <code>function OnEvent(_event)</code></li><li>定义的常量以<code>x_</code>开头，枚举以<code>e_</code>开头</li><li>全局变量只用于常量或者枚举</li></ul>\n<h3 id=\"8r9bt9\" class=\"markdown-heading\"><a name=\"8r9bt9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>框架类脚本结构:</h3><pre class=\"hljs cpp\"><code><span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 脚本方法模块声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal f_string     = require(<span class=\"hljs-string\">&#34;util_string&#34;</span>)\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部变量声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal f_name    = <span class=\"hljs-string\">&#34;&#34;</span>\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal V_InitUI\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// C++回调函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction Init(_param)\n    <span class=\"hljs-comment\">// 注册UI事件    </span>\n    <span class=\"hljs-keyword\">this</span>:RegUIEvent(bt_close, <span class=\"hljs-string\">&#34;Close&#34;</span>, <span class=\"hljs-string\">&#34;bt_close_OnClick()&#34;</span>)\n\n    <span class=\"hljs-comment\">// 注册游戏事件</span>\n    <span class=\"hljs-keyword\">this</span>:RegGameEvent(<span class=\"hljs-string\">&#34;OpenWindow&#34;</span>, <span class=\"hljs-string\">&#34;OnEvent_OpenWindow&#34;</span>)\n\n    <span class=\"hljs-comment\">// 注册网络事件</span>\n    <span class=\"hljs-keyword\">this</span>:RegNetCmd(<span class=\"hljs-string\">&#34;MS_OpenWindow&#34;</span>, OnNet_OpenWindow)    \n\n\n    V_InitUI()            \nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 控件事件处理函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction bt_close_OnClick()\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 游戏事件处理函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction OnEvent_OpenWindow(_name, _event)\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 网络消息处理函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction OnNet_OpenWindow(_name, _cmd)\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction V_InitUI()\n\nend</code></pre><h3 id=\"df9oa3\" class=\"markdown-heading\"><a name=\"df9oa3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>方法类脚本结构:</h3><pre class=\"hljs java\"><code><span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 脚本方法模块声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-keyword\">module</span>(<span class=\"hljs-string\">&#34;util_string&#34;</span>, <span class=\"hljs-keyword\">package</span>.seeall)\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部变量声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal f_string = <span class=\"hljs-string\">&#34;&#34;</span>\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal v_get_string\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 接口函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-function\">function <span class=\"hljs-title\">parse_token</span><span class=\"hljs-params\">(_string)</span>\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction <span class=\"hljs-title\">v_get_string</span><span class=\"hljs-params\">()</span>\n\nend</span></code></pre><h3 id=\"cw1mjv\" class=\"markdown-heading\"><a name=\"cw1mjv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>对象类脚本</h3><pre class=\"hljs java\"><code><span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 脚本方法模块声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-keyword\">module</span>(<span class=\"hljs-string\">&#34;object_hero&#34;</span>, <span class=\"hljs-keyword\">package</span>.seeall)\n\nlocal f_enum            = require(<span class=\"hljs-string\">&#34;enum_combat&#34;</span>)\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部变量声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal f_hero        = {}\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal v_init_spell\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 接口函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-function\">function <span class=\"hljs-title\">new_hero</span><span class=\"hljs-params\">(_location, _entry_id, _fashion_id, _scene)</span>\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 对象成员函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction f_hero.<span class=\"hljs-title\">attack</span><span class=\"hljs-params\">(_hero, _target)</span>\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction <span class=\"hljs-title\">v_init_spell</span><span class=\"hljs-params\">()</span>\n\nend</span></code></pre><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-17 23:02   作者：万韬</div></article>','<h1 id=\"bvry3c\" class=\"markdown-heading\"><a name=\"bvry3c\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>客户端脚本书写规范</h1><h2 id=\"fb3ocg\" class=\"markdown-heading\"><a name=\"fb3ocg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本类型和前缀对应表</h2><h3 id=\"7olksr\" class=\"markdown-heading\"><a name=\"7olksr\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Frame框架类对应脚本：</h3><table>\n<thead>\n<tr>\n<th>前缀名</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>ui_</code></td>\n<td>界面脚本</td>\n</tr>\n<tr>\n<td><code>scene_</code></td>\n<td>场景脚本</td>\n</tr>\n<tr>\n<td><code>ai_</code></td>\n<td>角色AI脚本</td>\n</tr>\n<tr>\n<td><code>session_</code></td>\n<td>主要注册网络消息的脚本</td>\n</tr>\n<tr>\n<td><code>frame_</code></td>\n<td>普通框架脚本</td>\n</tr>\n</tbody></table>\n<h3 id=\"1urcn3\" class=\"markdown-heading\"><a name=\"1urcn3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>各种方法类脚本</h3><table>\n<thead>\n<tr>\n<th>前缀名</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>util_</code></td>\n<td>方法类脚本</td>\n</tr>\n<tr>\n<td><code>db_</code></td>\n<td>存储游戏数据的脚本</td>\n</tr>\n<tr>\n<td><code>container_</code></td>\n<td>容器类脚本，存储背包英雄等数据的脚本</td>\n</tr>\n<tr>\n<td><code>enum_</code></td>\n<td>枚举类脚本</td>\n</tr>\n</tbody></table>\n<h3 id=\"4qnsw4\" class=\"markdown-heading\"><a name=\"4qnsw4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>各种对象模块脚本</h3><table>\n<thead>\n<tr>\n<th>前缀名</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>object_</code></td>\n<td>对象脚本</td>\n</tr>\n<tr>\n<td><code>ctrl_</code></td>\n<td>控制器脚本</td>\n</tr>\n</tbody></table>\n<h2 id=\"ah1mhu\" class=\"markdown-heading\"><a name=\"ah1mhu\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>脚本函数规则</h2><p class=\"line\">脚本函数和C++接口函数命名要有所区分，方便识别C++脚本接口<br>全局函数以_开头全部小写的方式（为了和原来用法习惯保持不变），如 _createframe</p>\n<p class=\"line\">成员函数以单词首字母大写连写的方式命名，如 <code>GetFrameName</code></p>\n<h3 id=\"2o1hsp\" class=\"markdown-heading\"><a name=\"2o1hsp\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Lua全局接口:</h3><ul>\n<li>global_functions.lua中的函数以单词首字母大写连写的方式命名，如 GetEntry</li><li>global_enums.lua中枚举命名以服务器枚举命名规则为准，自己添加的枚举首字母大写</li><li>global_string.lua中的字符串名称首字母大写</li></ul>\n<blockquote class=\"info\">\n<p class=\"line\">三个全局接口加载顺序依次是enums-&gt;strings-&gt;functions，分别对应枚举，字符串和函数，所以每个文件不要有不相符的内容</p>\n</blockquote>\n<h3 id=\"19vnl2\" class=\"markdown-heading\"><a name=\"19vnl2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Lua框架类脚本</h3><ul>\n<li>C++回调函数以单词首字母大写连写方式命名，如Init</li><li>局部函数以V_开头，单词首字母大写连写方式命名，如V_InitUI</li><li>事件处理函数以OnEvent_开头，如OnEvent_OpenDialog</li><li>网络消息处理函数以OnNet_开头，如OnNet_ChangeName<br>控件事件处理函数以“控件名<em>On操作”，如bt</em>close_OnClick</li></ul>\n<h3 id=\"459389\" class=\"markdown-heading\"><a name=\"459389\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>Lua方法类和对象类脚本</h3><ul>\n<li>接口函数采用小写单词用下划线分割的方式，如get_player_info</li><li>局部函数以v_为开头小写单词用下划线分割的方式，如v_get_player_name</li><li>对象成员函数采用小写单词用下划线分割的方式，如get_player_info</li></ul>\n<h2 id=\"29wrmz\" class=\"markdown-heading\"><a name=\"29wrmz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>变量命名规则</h2><p class=\"line\">变量都已小写单词用下划线分割的方式</p>\n<ul>\n<li>文件级的局部变量以<code>f_</code>开头，如<code>local f_name</code></li><li>函数级的局部变量以<code>l_</code>开头，如<code>local l_name</code></li><li>函数的参数以<code>_</code>为开头，如 <code>function OnEvent(_event)</code></li><li>定义的常量以<code>x_</code>开头，枚举以<code>e_</code>开头</li><li>全局变量只用于常量或者枚举</li></ul>\n<h3 id=\"8r9bt9\" class=\"markdown-heading\"><a name=\"8r9bt9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>框架类脚本结构:</h3><pre class=\"hljs cpp\"><code><span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 脚本方法模块声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal f_string     = require(<span class=\"hljs-string\">\"util_string\"</span>)\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部变量声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal f_name    = <span class=\"hljs-string\">\"\"</span>\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal V_InitUI\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// C++回调函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction Init(_param)\n    <span class=\"hljs-comment\">// 注册UI事件    </span>\n    <span class=\"hljs-keyword\">this</span>:RegUIEvent(bt_close, <span class=\"hljs-string\">\"Close\"</span>, <span class=\"hljs-string\">\"bt_close_OnClick()\"</span>)\n\n    <span class=\"hljs-comment\">// 注册游戏事件</span>\n    <span class=\"hljs-keyword\">this</span>:RegGameEvent(<span class=\"hljs-string\">\"OpenWindow\"</span>, <span class=\"hljs-string\">\"OnEvent_OpenWindow\"</span>)\n\n    <span class=\"hljs-comment\">// 注册网络事件</span>\n    <span class=\"hljs-keyword\">this</span>:RegNetCmd(<span class=\"hljs-string\">\"MS_OpenWindow\"</span>, OnNet_OpenWindow)    \n\n\n    V_InitUI()            \nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 控件事件处理函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction bt_close_OnClick()\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 游戏事件处理函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction OnEvent_OpenWindow(_name, _event)\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 网络消息处理函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction OnNet_OpenWindow(_name, _cmd)\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction V_InitUI()\n\nend</code></pre><h3 id=\"df9oa3\" class=\"markdown-heading\"><a name=\"df9oa3\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>方法类脚本结构:</h3><pre class=\"hljs java\"><code><span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 脚本方法模块声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-keyword\">module</span>(<span class=\"hljs-string\">\"util_string\"</span>, <span class=\"hljs-keyword\">package</span>.seeall)\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部变量声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal f_string = <span class=\"hljs-string\">\"\"</span>\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal v_get_string\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 接口函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-function\">function <span class=\"hljs-title\">parse_token</span><span class=\"hljs-params\">(_string)</span>\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction <span class=\"hljs-title\">v_get_string</span><span class=\"hljs-params\">()</span>\n\nend</span></code></pre><h3 id=\"cw1mjv\" class=\"markdown-heading\"><a name=\"cw1mjv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>对象类脚本</h3><pre class=\"hljs java\"><code><span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 脚本方法模块声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-keyword\">module</span>(<span class=\"hljs-string\">\"object_hero\"</span>, <span class=\"hljs-keyword\">package</span>.seeall)\n\nlocal f_enum            = require(<span class=\"hljs-string\">\"enum_combat\"</span>)\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部变量声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal f_hero        = {}\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数声明</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nlocal v_init_spell\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 接口函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-function\">function <span class=\"hljs-title\">new_hero</span><span class=\"hljs-params\">(_location, _entry_id, _fashion_id, _scene)</span>\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 对象成员函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction f_hero.<span class=\"hljs-title\">attack</span><span class=\"hljs-params\">(_hero, _target)</span>\n\nend\n\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\n<span class=\"hljs-comment\">// 局部函数</span>\n<span class=\"hljs-comment\">//-----------------------------------------------------------------</span>\nfunction <span class=\"hljs-title\">v_init_spell</span><span class=\"hljs-params\">()</span>\n\nend</span></code></pre>','2019-09-17 18:48:36',2,'2019-09-18 15:02:34',2,1568718057,0),(19,'客户端版本更新说明','programmer_common-1bh9kpfqs3c7o',4,0,7,'# 更新流程\n\n```flow\nst=>start: 客户端启动，LOGO画面，VIDEO画面\ne=>end: 如果base_version不一致，则\nop1=>operation: 自动更新开始，删除之前下载的server.ini,version.ini\nop2=>operation: 根据整包内launcher.ini配置的服务器地址，下载server.ini,version.ini\nop3=>operation: 比对本地version.h和刚下载的version.h\n\n\nst->op1\nop1->op2\nop2->op3\nop3->e\n```','<article class=\"markdown-article-inner\"><h1 id=\"3yr6ik\" class=\"markdown-heading\"><a name=\"3yr6ik\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>更新流程</h1><div class=\"flowchart\"><svg height=\"420.578125\" version=\"1.1\" width=\"478.265625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 478.265625 420.578125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.4375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-obja56oq\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use ns1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj5ziqz\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use ns2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objbncpv\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use ns3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obju8kov\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use ns4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><rect x=\"0\" y=\"0\" width=\"275.03125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,103.1172,6)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,103.1172,6)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">客户端启动，LOGO画面，VIDEO画面</tspan></text><rect x=\"0\" y=\"0\" width=\"362.546875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,59.3594,99.5156)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,59.3594,99.5156)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">自动更新开始，删除之前下载的server.ini,version.ini</tspan></text><rect x=\"0\" y=\"0\" width=\"469.265625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,6,193.0313)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"op2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,6,193.0313)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">根据整包内launcher.ini配置的服务器地址，下载server.ini,version.ini</tspan></text><rect x=\"0\" y=\"0\" width=\"276.734375\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op3\" transform=\"matrix(1,0,0,1,102.2656,286.5469)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"op3t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,102.2656,286.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">比对本地version.h和刚下载的version.h</tspan></text><rect x=\"0\" y=\"0\" width=\"214.234375\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,133.5156,380.0625)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&#34;Arial&#34;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,133.5156,380.0625)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">如果base_version不一致，则</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M240.6328125,43.515625C240.6328125,43.515625,240.6328125,81.71639585494995,240.6328125,95.01578531763516\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obja56oq)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M240.6328125,137.03125C240.6328125,137.03125,240.6328125,175.23202085494995,240.6328125,188.53141031763516\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj5ziqz)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M240.6328125,230.546875C240.6328125,230.546875,240.6328125,268.74764585494995,240.6328125,282.04703531763516\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objbncpv)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M240.6328125,324.0625C240.6328125,324.0625,240.6328125,362.26327085494995,240.6328125,375.56266031763516\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obju8kov)\" style=\"\"></path></svg></div><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-17 23:02   作者：万韬</div></article>','<h1 id=\"3yr6ik\" class=\"markdown-heading\"><a name=\"3yr6ik\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>更新流程</h1><div class=\"flowchart\"><svg height=\"420.578125\" version=\"1.1\" width=\"478.265625\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 478.265625 420.578125\" preserveAspectRatio=\"xMidYMid meet\" style=\"overflow: hidden; position: relative; top: -0.4375px;\"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap=\"round\" d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\"></path><marker id=\"raphael-marker-endblock33-obja56oq\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS1:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obj5ziqz\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS2:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-objbncpv\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS3:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker><marker id=\"raphael-marker-endblock33-obju8kov\" markerHeight=\"3\" markerWidth=\"3\" orient=\"auto\" refX=\"1.5\" refY=\"1.5\"><use NS4:href=\"#raphael-marker-block\" transform=\"rotate(180 1.5 1.5) scale(0.6,0.6)\" stroke-width=\"1.6667\" fill=\"black\" stroke=\"none\"></use></marker></defs><rect x=\"0\" y=\"0\" width=\"275.03125\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#008000\" stroke-width=\"3\" class=\"flowchart\" id=\"st\" transform=\"matrix(1,0,0,1,103.1172,6)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#ff0000\" id=\"stt\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,103.1172,6)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">客户端启动，LOGO画面，VIDEO画面</tspan></text><rect x=\"0\" y=\"0\" width=\"362.546875\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op1\" transform=\"matrix(1,0,0,1,59.3594,99.5156)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"op1t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,59.3594,99.5156)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">自动更新开始，删除之前下载的server.ini,version.ini</tspan></text><rect x=\"0\" y=\"0\" width=\"469.265625\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op2\" transform=\"matrix(1,0,0,1,6,193.0313)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"op2t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,6,193.0313)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">根据整包内launcher.ini配置的服务器地址，下载server.ini,version.ini</tspan></text><rect x=\"0\" y=\"0\" width=\"276.734375\" height=\"37.515625\" rx=\"0\" ry=\"0\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"flowchart\" id=\"op3\" transform=\"matrix(1,0,0,1,102.2656,286.5469)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"op3t\" class=\"flowchartt\" transform=\"matrix(1,0,0,1,102.2656,286.5469)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">比对本地version.h和刚下载的version.h</tspan></text><rect x=\"0\" y=\"0\" width=\"214.234375\" height=\"37.515625\" rx=\"20\" ry=\"20\" fill=\"#ffff99\" stroke=\"#000000\" stroke-width=\"3\" class=\"end-element\" id=\"e\" transform=\"matrix(1,0,0,1,133.5156,380.0625)\" style=\"\"></rect><text x=\"10\" y=\"18.7578125\" text-anchor=\"start\" font-family=\"&quot;Arial&quot;\" font-size=\"14px\" stroke=\"none\" fill=\"#000000\" id=\"et\" class=\"end-elementt\" transform=\"matrix(1,0,0,1,133.5156,380.0625)\" stroke-width=\"1\" style=\"text-anchor: start; font-family: Arial; font-size: 14px;\"><tspan dy=\"5.296875\">如果base_version不一致，则</tspan></text><path fill=\"none\" stroke=\"#000000\" d=\"M240.6328125,43.515625C240.6328125,43.515625,240.6328125,81.71639585494995,240.6328125,95.01578531763516\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obja56oq)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M240.6328125,137.03125C240.6328125,137.03125,240.6328125,175.23202085494995,240.6328125,188.53141031763516\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obj5ziqz)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M240.6328125,230.546875C240.6328125,230.546875,240.6328125,268.74764585494995,240.6328125,282.04703531763516\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-objbncpv)\" style=\"\"></path><path fill=\"none\" stroke=\"#000000\" d=\"M240.6328125,324.0625C240.6328125,324.0625,240.6328125,362.26327085494995,240.6328125,375.56266031763516\" stroke-width=\"3\" marker-end=\"url(#raphael-marker-endblock33-obju8kov)\" style=\"\"></path></svg></div>','2019-09-17 19:01:36',2,'2019-09-18 15:02:34',2,1568722828,0),(20,'svn日常操作流程','programmer_common-1bha0mmgfp79g',4,0,8,'# SVN日常操作流程文档\n\nVersion： 0.6\n\nAuthor：  刘晓冬\n\nData：  2008-01-30\n\n* [1. 获取远程svn数据库中文件的流程](#page1)\n* [2. 向svn数据库中添加文件](#page2)\n* [3. 多人协作下的文件改动及签入流程](#page3)\n* [4. 工作版本分支的建立及合并](#page4)\n* [5. 建立稳定的tags版本](#page5)\n* [6. 利用合并特性修改bug](#page6)\n* [7. 其它注意的问题](#page7)\n\n[](@page1)\n## 1. 获取远程svn数据库中文件的流程\n\n* 新建一个本地目录\n![](/data/uploads/programmer_common/images/m_79d2f39b3f92bf4d0f3e94878e51a3c2_r.png)\n\n\n* 进入该目录，右键菜单中选择`Svn Checkout`\n![](/data/uploads/programmer_common/images/m_c7a8abbe24dad834590fad11187c8786_r.png)\n\n\n* 在弹出的svn数据库窗口中，选择需要获取的文件，点击确定后，即在本地建立SVN数据库的文件副本：\n![](/data/uploads/programmer_common/images/m_fd1abec90781469b17227bee8f253c19_r.png)\n\n\n>[warning]注意，如果需要在本地目录下获取多个svn数据库中的文件，则首先获取自己主要工作的版本，然后针对其他数据库要获取的相应目录建立对应的本地目录，然后针对该目录进行获取。比如我们在本地建立一个KungfuClient的目录，该目录用于存储gongfu\\_client数据库中保存的客户端所有程序文件，而此时如果我们同时需要在本地获取地图编辑器工具程序，则可以在KungfuClient目录下建立一个MapEditor的目录，然后进入该目录获取gongfu\\_tool中的该程序对应的程序文件，这样就可以让两个库中的程序共享同一层目录，方便联合编译。\n\n[](@page2)\n## 2. 向svn数据库中添加文件\n\n\n\n首先将要加入的文件放入到本地程序目录下。比如在此时，我需要在zoneserver目录下加入一个MyStream.h的文件，那么先将该文件放入zoneserver的目录下：\n\n![](/data/uploads/programmer_common/images/m_8465e4a57d9c50224e50f28ddd8b411c_r.png)\n\n当要将其加入到svn数据时，右键单击该文件，选取`TortoiseSVN——Add`，在弹出的界面中确认该文件的加入即可：\n\n![](/data/uploads/programmer_common/images/m_27dcea83ef4bbc0110932a48c05ea7f8_r.png)\n\n此时该文件会变成带加号的图标格式，然后我们将其再次签入即可：\n\n![](/data/uploads/programmer_common/images/m_1b5bdc5665249f1a22b4fce3447223a4_r.png)\n\n>[warning]注意，如果需要在数据库中添加一个二进制文件，比如Excel文件，svn会将其保存为其他的文件类型，比如Excel文件，svn用默认的mime-type进行保存，我在本地进行过实验，该种类型文件也可以进行版本的管理和多分支的合并。\n\n[](@page3)\n## 3. 多人协作下的文件改动及签入流程\n\n用svn对文件进行操作时，不需要显示的锁定签出文件即可更改，任何的冲突检测都是在签入时进行的。不过，尽管svn可以有效的控制冲突，但冲突的解决却需要程序员自己来进行。为了最大限度的避免冲突的发生，在对某个文件进行操作时，推荐的流程如下：\n\n>1. 在对文件进行操作之前，从版本库中显示的更新svn中指定版本号文件的最新版本，这可以使得在进行操作之前，本地文件与svn库中的文件的版本一致。\n2. 在对文件的操作完成之后，不要立即签入，再次从svn中进行一次更新，因为在这过程中，可能有其他同事也更改了该文件。通过该过程，svn可以自动的将数据库中该文件的最新内容合并到本地拷贝。\n3. 对合并后的本地拷贝进行编译，试运行，看是否通过。\n4. 将本地拷贝签入到svn数据库中，这样可以基本上避免冲突的发生。\n\n[](@page4)\n## 4. 工作版本分支的建立及合并\n\n当我们需要在系统中加入一个大的系统模块时，这个模块的开发周期可能为一至两个月，但同时我们也需要对当前已存在的版本进行维护并修改bug。因此，需要针对该模块建立一个工作版本分支，所有新模块的内容都在分支上进行开发，而同时可以对主版本中的bug进行修复及维护。在此过程中，需要定期的对主版本及分支版本进行同步操作。最终，当这个大的系统模块开发完成并调试通过后，可将其合并到当前的主版本中，作为一次统一的系统升级。在这里以前段时间门派及国家系统的服务器端修改流程为例进行描述。\n\n### 建立工作分支\n\n首先，在gonfu\\_server的顶级目录建立一个brance\\_guild目录。该目录的创建方法可选择在svn数据库浏览器上直接操作：\n\n![](/data/uploads/programmer_common/images/m_af74eb5dbfb2a16522dcc94948a13d45_r.png)\n\n其次，在本地拷贝目录下建立分支\n\n![](/data/uploads/programmer_common/images/m_a332f4ae72978ebc149c194dc6a4beb1_r.png)\n\n在弹出的窗口中，可以看到，我们需要基于gongfu\\_server/trunk目录的文件建立分支，下面的三个单选钮用于指定是基于哪个具体的版本建立分支。一般情况下我们会选择trunk上的最新版本，但如果此时trunk上并不是一个稳定的版本，则可能需要明确的指定一个版本建立分支，在&quot;To URL&quot;输入框中，我们输入分支保存在svn数据库中的路径，也就是我们刚才建立的分支目录，点击&quot;确定&quot;，此时trunk中某一特定版本对应的文件将会拷贝到该分支对应的目录下：\n\n![](/data/uploads/programmer_common/images/m_961b39629e67d242a9bfb3b1ba63348c_r.png)\n\n如果我们需要在分支上进行开发，需要将本地的工作拷贝切换到分支版本下，可以切换整个数据库下的文件，也可以针对某个程序文件（如xZoneServer）进行切换。右键点选`TortoiseSVN——Switch`：\n\n![](/data/uploads/programmer_common/images/m_4a2f9026b909dec6ea62adeae877f781_r.png)\n\n将弹出下面的窗口，在该窗口中，我们填写或者浏览到想要获取的分支版本，点击确定，则此分支对应的文件将会从数据库中导出，并更新我们本地的工作拷贝：\n\n![](/data/uploads/programmer_common/images/m_3fee5492d94cc4653cbedd9d11bcd4d9_r.png)\n\n在这里我选择了branch\\_guild分支，此操作会将分支中的所有服务器程序文件拷贝到本地工作目录，如果只想切换某一个具体的程序，只需要右键单击该程序文件目录，并在最后&quot;To URL&quot;输入框中，写入该程序的具体路径就可以了，比如，在上面的输入框中，我在后面加上/xZoneServer，则xZoneServer目录中的文件将切换成分支上的文件，其他服务器程序仍然保持trunk上的版本。\n\n### 分支上的开发\n\n在分支上进行开发，与在trunk下进行开发的流程相同，之前提到的多人协同工作时的建议同样适用于分支。只是需要确保在本地分支拷贝上进行修改的过程中中，不要再切换到其他任何版本，如果需要切换，则先将分支版本签入。\n\n如果此时主版本需要修改某个bug，则需要先将本地拷贝切换到trunk版本，在此上进行修改，并签入到主版本。此时所有这些改动并没有添加到分支中，分支中对应的主版本内容仍然是建立分支时刻对应的主版本内容。\n\n### 主版本到分支版本的合并\n\n在某一个时刻，一般为每周周末，我们需要将当周主版本的改动合并到分支中，以保证主版本和分支内容上的同步，具体操作流程如下：\n\n首先将本地工作拷贝切换到分支版本。\n\n接下来察看分支版本的日志，右键点选`TortoiseSVN——ShowLog`，查找分支建立时对应的主版本号，如图：\n\n![](/data/uploads/programmer_common/images/m_6719e6f4106ffbf589c0596c5fd84a9b_r.png)\n\n由图可以看到，分支版本建立时对应的版本号为213，在最下面的框中可以看到，它是基于主版本212版本号对应的程序文件建立的，而这个版本号则是我们合并的起始点。\n\n在本地拷贝中目录下右键点击`TortoiseSVN——Merge`，出现如图对话框：\n\n![](/data/uploads/programmer_common/images/m_c412744825162aa96b022908f9571312_r.png)\n\n通过查看日志，我们已经知道合并的起始点为主版本的212版本，因此在上图中的&quot;From：&quot;输入框中，我们需要填入主版本的工作目录，并将对应的版本号填入212，在下面的&quot;To：&quot;输入框中，由于我们是将主版本的当前版本内容并入分支，因此只需要将版本号注为&quot;Head Version&quot;，目录不需要变化。这样，就会将主版本在分支建立时到当前的所有改动并入分支，使得分支中除了新加入的内容之外，其余部分均与主版本内容同步。\n\n除了&quot;Merge&quot;按钮外，其他三个按钮可以用于对将要合并的内容进行一下预检，可以用Diff和Unified diff分别检查版本间的文件级和代码级差异，&quot;Dry Run&quot;可以做一次预合并。注意这种合并可能会产生冲突，如果有冲突产生，可以根据冲突给出的提示信息来进行手动修正，待修正完毕后再进行签入。冲突的产生一般情况下是因为两个版本修改了代码文件的同一行引起的。如果保证在分支中只增加新内容，而将原有内容的修改都放在主版本中进行，可以最大程度的避免冲突的发生。\n\n当合并之后，再将合并后的内容签入到分支中，整个过程就完成了。不过需要注意的一个非常重要问题是，此时的主版本和分支版本的合并点已不是之前的212版本，而是此次合并时主版本在&quot;To：&quot;中指定的版本号，因此当在合并后对分支进行签入时，最好在注释框中注明本次合并的终点主版本号，当下一次再需要将主版本的改动合并到分支时，将以该版本号作为合并起始点。我通过查日志并没有发现明确注明合并事件的日志，所以才加入了注释。如果今后发现了更明确的日志信息，本部分内容再做调整。\n\n### 分支版本合并到主版本\n\n当分支开发完毕并测试通过后，需要将分支的内容合并入主版本，以使主版本的内容与分支中的内容完全一致，在合并分支内容之前，如果主版本此时相对上次合并又做了改动，则需要执行上述的过程先将主版本的改动并入到分支，并记录此次合并点的主版本号。待该步骤完毕后，再执行分支的合并操作，具体合并流程如下：\n\n本地工作拷贝切换到主版本。\n\n在主版本的工作目录下右键点选`TortoiseSVN——Merge`，弹出如下窗口：\n\n![](/data/uploads/programmer_common/images/m_8a8e9de7e68e8686648377be922607c1_r.png)\n\n此合并相对于之前主版本合并到分支过程最大的不同在于&quot;From：&quot;和&quot;To：&quot;分别指向不同的目录，其中&quot;From：&quot;指向主版本目录，Revision中的版本号是主版本到分支版本最后一次合并时的版本号，而&quot;To：&quot;中则是分支目录中当前的版本号。此合并的意义是：将分支版本中新加入的内容全部合并到主版本中。同样可以采用一些预检手段来达到消除冲突的目的，不过，由于我们定期的将主版本更新内容合并入分支版本，因此该次合并的冲突产生几率几乎为零。当完成了该次操作后，主版本内容将和分支版本内容完全同步，此时branch\\_guild工作目录已经没有存在的必要，可以将其删除。\n\n将合并后的主版本内容签入到主版本目录，以完成整个操作。\n\n[](@page5)\n## 5. 建立稳定的tags版本\n\n当一个版本测试稳定了之后，可以将当前稳定的主版本内容建立一个标记。标记的建立方式和工作分支的建立方式完全相同，但意义不同。标记的建立是标明某一阶段的一个稳定版本，它直接对应我们向外发布的文件版本号，在开发多语言版本时，该地运营商使用的版本可能落后于我们本地的版本，因此可以直接从标记中获取该稳定版本，生成对应的程序文件送交该运营商，并可针对该版本进行相应的维护。\n\n[](@page6)\n## 6. 利用合并特性修改bug\n\n如果程序文件中存在一个bug，并且该bug在之前的多个版本中都存在，那么要解决该bug，不需要依次调出每个版本进行修改，而只需要修改一份，并通过合并操作更改其他版本，具体步骤如下：\n\n> 1. 本地工作目录切换到主版本（我们默认主版本中也存在该bug）\n> 2. 在主版本中进行bug修正，并签入。\n\n切换到每一个过去包含该bug的标记版本（因为有可能是因为加入了某一个新功能导致的bug，如果某些标记版本中不包含该功能，就部需要修改），进行合并操作，如图：\n\n![](/data/uploads/programmer_common/images/m_fb38cbbcbffdf0f3fe2df44e63edabe5_r.png)\n\n可以看到，我们是针对tags/1.0.30进行合并，而合并的内容是主版本265到266之间的变化，而这部分的变化则对应bug的修复。也就是说，我们只将修复该bug的内容合并入分支标记版本，而1.0.30至主版本原有的变化则不签入1.0.30，这样就可以保证1.0.30版本除了修正该bug外，不会加入任何主版本中加入的新内容，以保证各个版本之间的独立性。\n\n当然在这种情况下，冲突是有可能发生的。在这种情况下，只能进行手动的修正。不过在多数情况下，该方法可以快速的对bug进行全版本修复，并且能避免手动更改情况下的一些人为错误。\n\n[](@page7)\n## 7. 其它注意的问题\n\n当本地版本需要针对当前版本库进行更新时，或者从一个版本切换到另一个版本时，不推荐使用VC中的Anka插件。实验证明，该插件存在bug，可能导致不能正确进行文件更新及版本切换，导致在生成对应的程序版本时发生错误。','<article class=\"markdown-article-inner\"><h1 id=\"889r8r\" class=\"markdown-heading\"><a name=\"889r8r\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>SVN日常操作流程文档</h1><p class=\"line\">Version： 0.6</p>\n<p class=\"line\">Author：  刘晓冬</p>\n<p class=\"line\">Data：  2008-01-30</p>\n<ul>\n<li><a href=\"#page1\">1. 获取远程svn数据库中文件的流程</a></li><li><a href=\"#page2\">2. 向svn数据库中添加文件</a></li><li><a href=\"#page3\">3. 多人协作下的文件改动及签入流程</a></li><li><a href=\"#page4\">4. 工作版本分支的建立及合并</a></li><li><a href=\"#page5\">5. 建立稳定的tags版本</a></li><li><a href=\"#page6\">6. 利用合并特性修改bug</a></li><li><a href=\"#page7\">7. 其它注意的问题</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"am2b3r\" class=\"markdown-heading\"><a name=\"am2b3r\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1. 获取远程svn数据库中文件的流程</h2><ul>\n<li>新建一个本地目录<br/><img src=\"/data/uploads/programmer_common/images/m_79d2f39b3f92bf4d0f3e94878e51a3c2_r.png\" title=\"null\" alt=\"\"/></li></ul>\n<ul>\n<li>进入该目录，右键菜单中选择<code>Svn Checkout</code><br/><img src=\"/data/uploads/programmer_common/images/m_c7a8abbe24dad834590fad11187c8786_r.png\" title=\"null\" alt=\"\"/></li></ul>\n<ul>\n<li>在弹出的svn数据库窗口中，选择需要获取的文件，点击确定后，即在本地建立SVN数据库的文件副本：<br/><img src=\"/data/uploads/programmer_common/images/m_fd1abec90781469b17227bee8f253c19_r.png\" title=\"null\" alt=\"\"/></li></ul>\n<blockquote class=\"warning\">\n<p class=\"line\">注意，如果需要在本地目录下获取多个svn数据库中的文件，则首先获取自己主要工作的版本，然后针对其他数据库要获取的相应目录建立对应的本地目录，然后针对该目录进行获取。比如我们在本地建立一个KungfuClient的目录，该目录用于存储gongfu_client数据库中保存的客户端所有程序文件，而此时如果我们同时需要在本地获取地图编辑器工具程序，则可以在KungfuClient目录下建立一个MapEditor的目录，然后进入该目录获取gongfu_tool中的该程序对应的程序文件，这样就可以让两个库中的程序共享同一层目录，方便联合编译。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"bbzrz0\" class=\"markdown-heading\"><a name=\"bbzrz0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2. 向svn数据库中添加文件</h2><p class=\"line\">首先将要加入的文件放入到本地程序目录下。比如在此时，我需要在zoneserver目录下加入一个MyStream.h的文件，那么先将该文件放入zoneserver的目录下：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_8465e4a57d9c50224e50f28ddd8b411c_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">当要将其加入到svn数据时，右键单击该文件，选取<code>TortoiseSVN——Add</code>，在弹出的界面中确认该文件的加入即可：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_27dcea83ef4bbc0110932a48c05ea7f8_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">此时该文件会变成带加号的图标格式，然后我们将其再次签入即可：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_1b5bdc5665249f1a22b4fce3447223a4_r.png\" title=\"null\" alt=\"\"/></p>\n<blockquote class=\"warning\">\n<p class=\"line\">注意，如果需要在数据库中添加一个二进制文件，比如Excel文件，svn会将其保存为其他的文件类型，比如Excel文件，svn用默认的mime-type进行保存，我在本地进行过实验，该种类型文件也可以进行版本的管理和多分支的合并。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"g0c2k1\" class=\"markdown-heading\"><a name=\"g0c2k1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3. 多人协作下的文件改动及签入流程</h2><p class=\"line\">用svn对文件进行操作时，不需要显示的锁定签出文件即可更改，任何的冲突检测都是在签入时进行的。不过，尽管svn可以有效的控制冲突，但冲突的解决却需要程序员自己来进行。为了最大限度的避免冲突的发生，在对某个文件进行操作时，推荐的流程如下：</p>\n<blockquote class=\"default\">\n<ol>\n<li>在对文件进行操作之前，从版本库中显示的更新svn中指定版本号文件的最新版本，这可以使得在进行操作之前，本地文件与svn库中的文件的版本一致。</li><li>在对文件的操作完成之后，不要立即签入，再次从svn中进行一次更新，因为在这过程中，可能有其他同事也更改了该文件。通过该过程，svn可以自动的将数据库中该文件的最新内容合并到本地拷贝。</li><li>对合并后的本地拷贝进行编译，试运行，看是否通过。</li><li>将本地拷贝签入到svn数据库中，这样可以基本上避免冲突的发生。</li></ol>\n</blockquote>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"dqn194\" class=\"markdown-heading\"><a name=\"dqn194\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4. 工作版本分支的建立及合并</h2><p class=\"line\">当我们需要在系统中加入一个大的系统模块时，这个模块的开发周期可能为一至两个月，但同时我们也需要对当前已存在的版本进行维护并修改bug。因此，需要针对该模块建立一个工作版本分支，所有新模块的内容都在分支上进行开发，而同时可以对主版本中的bug进行修复及维护。在此过程中，需要定期的对主版本及分支版本进行同步操作。最终，当这个大的系统模块开发完成并调试通过后，可将其合并到当前的主版本中，作为一次统一的系统升级。在这里以前段时间门派及国家系统的服务器端修改流程为例进行描述。</p>\n<h3 id=\"aii2wj\" class=\"markdown-heading\"><a name=\"aii2wj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>建立工作分支</h3><p class=\"line\">首先，在gonfu_server的顶级目录建立一个brance_guild目录。该目录的创建方法可选择在svn数据库浏览器上直接操作：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_af74eb5dbfb2a16522dcc94948a13d45_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">其次，在本地拷贝目录下建立分支</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_a332f4ae72978ebc149c194dc6a4beb1_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">在弹出的窗口中，可以看到，我们需要基于gongfu_server/trunk目录的文件建立分支，下面的三个单选钮用于指定是基于哪个具体的版本建立分支。一般情况下我们会选择trunk上的最新版本，但如果此时trunk上并不是一个稳定的版本，则可能需要明确的指定一个版本建立分支，在&#34;To URL&#34;输入框中，我们输入分支保存在svn数据库中的路径，也就是我们刚才建立的分支目录，点击&#34;确定&#34;，此时trunk中某一特定版本对应的文件将会拷贝到该分支对应的目录下：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_961b39629e67d242a9bfb3b1ba63348c_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">如果我们需要在分支上进行开发，需要将本地的工作拷贝切换到分支版本下，可以切换整个数据库下的文件，也可以针对某个程序文件（如xZoneServer）进行切换。右键点选<code>TortoiseSVN——Switch</code>：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_4a2f9026b909dec6ea62adeae877f781_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">将弹出下面的窗口，在该窗口中，我们填写或者浏览到想要获取的分支版本，点击确定，则此分支对应的文件将会从数据库中导出，并更新我们本地的工作拷贝：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_3fee5492d94cc4653cbedd9d11bcd4d9_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">在这里我选择了branch_guild分支，此操作会将分支中的所有服务器程序文件拷贝到本地工作目录，如果只想切换某一个具体的程序，只需要右键单击该程序文件目录，并在最后&#34;To URL&#34;输入框中，写入该程序的具体路径就可以了，比如，在上面的输入框中，我在后面加上/xZoneServer，则xZoneServer目录中的文件将切换成分支上的文件，其他服务器程序仍然保持trunk上的版本。</p>\n<h3 id=\"7sw0gs\" class=\"markdown-heading\"><a name=\"7sw0gs\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>分支上的开发</h3><p class=\"line\">在分支上进行开发，与在trunk下进行开发的流程相同，之前提到的多人协同工作时的建议同样适用于分支。只是需要确保在本地分支拷贝上进行修改的过程中中，不要再切换到其他任何版本，如果需要切换，则先将分支版本签入。</p>\n<p class=\"line\">如果此时主版本需要修改某个bug，则需要先将本地拷贝切换到trunk版本，在此上进行修改，并签入到主版本。此时所有这些改动并没有添加到分支中，分支中对应的主版本内容仍然是建立分支时刻对应的主版本内容。</p>\n<h3 id=\"ctsqq5\" class=\"markdown-heading\"><a name=\"ctsqq5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>主版本到分支版本的合并</h3><p class=\"line\">在某一个时刻，一般为每周周末，我们需要将当周主版本的改动合并到分支中，以保证主版本和分支内容上的同步，具体操作流程如下：</p>\n<p class=\"line\">首先将本地工作拷贝切换到分支版本。</p>\n<p class=\"line\">接下来察看分支版本的日志，右键点选<code>TortoiseSVN——ShowLog</code>，查找分支建立时对应的主版本号，如图：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_6719e6f4106ffbf589c0596c5fd84a9b_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">由图可以看到，分支版本建立时对应的版本号为213，在最下面的框中可以看到，它是基于主版本212版本号对应的程序文件建立的，而这个版本号则是我们合并的起始点。</p>\n<p class=\"line\">在本地拷贝中目录下右键点击<code>TortoiseSVN——Merge</code>，出现如图对话框：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_c412744825162aa96b022908f9571312_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">通过查看日志，我们已经知道合并的起始点为主版本的212版本，因此在上图中的&#34;From：&#34;输入框中，我们需要填入主版本的工作目录，并将对应的版本号填入212，在下面的&#34;To：&#34;输入框中，由于我们是将主版本的当前版本内容并入分支，因此只需要将版本号注为&#34;Head Version&#34;，目录不需要变化。这样，就会将主版本在分支建立时到当前的所有改动并入分支，使得分支中除了新加入的内容之外，其余部分均与主版本内容同步。</p>\n<p class=\"line\">除了&#34;Merge&#34;按钮外，其他三个按钮可以用于对将要合并的内容进行一下预检，可以用Diff和Unified diff分别检查版本间的文件级和代码级差异，&#34;Dry Run&#34;可以做一次预合并。注意这种合并可能会产生冲突，如果有冲突产生，可以根据冲突给出的提示信息来进行手动修正，待修正完毕后再进行签入。冲突的产生一般情况下是因为两个版本修改了代码文件的同一行引起的。如果保证在分支中只增加新内容，而将原有内容的修改都放在主版本中进行，可以最大程度的避免冲突的发生。</p>\n<p class=\"line\">当合并之后，再将合并后的内容签入到分支中，整个过程就完成了。不过需要注意的一个非常重要问题是，此时的主版本和分支版本的合并点已不是之前的212版本，而是此次合并时主版本在&#34;To：&#34;中指定的版本号，因此当在合并后对分支进行签入时，最好在注释框中注明本次合并的终点主版本号，当下一次再需要将主版本的改动合并到分支时，将以该版本号作为合并起始点。我通过查日志并没有发现明确注明合并事件的日志，所以才加入了注释。如果今后发现了更明确的日志信息，本部分内容再做调整。</p>\n<h3 id=\"dvrqxz\" class=\"markdown-heading\"><a name=\"dvrqxz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>分支版本合并到主版本</h3><p class=\"line\">当分支开发完毕并测试通过后，需要将分支的内容合并入主版本，以使主版本的内容与分支中的内容完全一致，在合并分支内容之前，如果主版本此时相对上次合并又做了改动，则需要执行上述的过程先将主版本的改动并入到分支，并记录此次合并点的主版本号。待该步骤完毕后，再执行分支的合并操作，具体合并流程如下：</p>\n<p class=\"line\">本地工作拷贝切换到主版本。</p>\n<p class=\"line\">在主版本的工作目录下右键点选<code>TortoiseSVN——Merge</code>，弹出如下窗口：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_8a8e9de7e68e8686648377be922607c1_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">此合并相对于之前主版本合并到分支过程最大的不同在于&#34;From：&#34;和&#34;To：&#34;分别指向不同的目录，其中&#34;From：&#34;指向主版本目录，Revision中的版本号是主版本到分支版本最后一次合并时的版本号，而&#34;To：&#34;中则是分支目录中当前的版本号。此合并的意义是：将分支版本中新加入的内容全部合并到主版本中。同样可以采用一些预检手段来达到消除冲突的目的，不过，由于我们定期的将主版本更新内容合并入分支版本，因此该次合并的冲突产生几率几乎为零。当完成了该次操作后，主版本内容将和分支版本内容完全同步，此时branch_guild工作目录已经没有存在的必要，可以将其删除。</p>\n<p class=\"line\">将合并后的主版本内容签入到主版本目录，以完成整个操作。</p>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"d2c4ty\" class=\"markdown-heading\"><a name=\"d2c4ty\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5. 建立稳定的tags版本</h2><p class=\"line\">当一个版本测试稳定了之后，可以将当前稳定的主版本内容建立一个标记。标记的建立方式和工作分支的建立方式完全相同，但意义不同。标记的建立是标明某一阶段的一个稳定版本，它直接对应我们向外发布的文件版本号，在开发多语言版本时，该地运营商使用的版本可能落后于我们本地的版本，因此可以直接从标记中获取该稳定版本，生成对应的程序文件送交该运营商，并可针对该版本进行相应的维护。</p>\n<p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"5vk65i\" class=\"markdown-heading\"><a name=\"5vk65i\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6. 利用合并特性修改bug</h2><p class=\"line\">如果程序文件中存在一个bug，并且该bug在之前的多个版本中都存在，那么要解决该bug，不需要依次调出每个版本进行修改，而只需要修改一份，并通过合并操作更改其他版本，具体步骤如下：</p>\n<blockquote class=\"default\">\n<ol>\n<li>本地工作目录切换到主版本（我们默认主版本中也存在该bug）</li><li>在主版本中进行bug修正，并签入。</li></ol>\n</blockquote>\n<p class=\"line\">切换到每一个过去包含该bug的标记版本（因为有可能是因为加入了某一个新功能导致的bug，如果某些标记版本中不包含该功能，就部需要修改），进行合并操作，如图：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_fb38cbbcbffdf0f3fe2df44e63edabe5_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">可以看到，我们是针对tags/1.0.30进行合并，而合并的内容是主版本265到266之间的变化，而这部分的变化则对应bug的修复。也就是说，我们只将修复该bug的内容合并入分支标记版本，而1.0.30至主版本原有的变化则不签入1.0.30，这样就可以保证1.0.30版本除了修正该bug外，不会加入任何主版本中加入的新内容，以保证各个版本之间的独立性。</p>\n<p class=\"line\">当然在这种情况下，冲突是有可能发生的。在这种情况下，只能进行手动的修正。不过在多数情况下，该方法可以快速的对bug进行全版本修复，并且能避免手动更改情况下的一些人为错误。</p>\n<p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"bqftqk\" class=\"markdown-heading\"><a name=\"bqftqk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7. 其它注意的问题</h2><p class=\"line\">当本地版本需要针对当前版本库进行更新时，或者从一个版本切换到另一个版本时，不推荐使用VC中的Anka插件。实验证明，该插件存在bug，可能导致不能正确进行文件更新及版本切换，导致在生成对应的程序版本时发生错误。</p><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-17 23:02   作者：万韬</div></article>','<h1 id=\"889r8r\" class=\"markdown-heading\"><a name=\"889r8r\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>SVN日常操作流程文档</h1><p class=\"line\">Version： 0.6</p>\n<p class=\"line\">Author：  刘晓冬</p>\n<p class=\"line\">Data：  2008-01-30</p>\n<ul>\n<li><a href=\"#page1\">1. 获取远程svn数据库中文件的流程</a></li><li><a href=\"#page2\">2. 向svn数据库中添加文件</a></li><li><a href=\"#page3\">3. 多人协作下的文件改动及签入流程</a></li><li><a href=\"#page4\">4. 工作版本分支的建立及合并</a></li><li><a href=\"#page5\">5. 建立稳定的tags版本</a></li><li><a href=\"#page6\">6. 利用合并特性修改bug</a></li><li><a href=\"#page7\">7. 其它注意的问题</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"am2b3r\" class=\"markdown-heading\"><a name=\"am2b3r\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1. 获取远程svn数据库中文件的流程</h2><ul>\n<li>新建一个本地目录<br><img src=\"/data/uploads/programmer_common/images/m_79d2f39b3f92bf4d0f3e94878e51a3c2_r.png\" title=\"null\" alt=\"\"></li></ul>\n<ul>\n<li>进入该目录，右键菜单中选择<code>Svn Checkout</code><br><img src=\"/data/uploads/programmer_common/images/m_c7a8abbe24dad834590fad11187c8786_r.png\" title=\"null\" alt=\"\"></li></ul>\n<ul>\n<li>在弹出的svn数据库窗口中，选择需要获取的文件，点击确定后，即在本地建立SVN数据库的文件副本：<br><img src=\"/data/uploads/programmer_common/images/m_fd1abec90781469b17227bee8f253c19_r.png\" title=\"null\" alt=\"\"></li></ul>\n<blockquote class=\"warning\">\n<p class=\"line\">注意，如果需要在本地目录下获取多个svn数据库中的文件，则首先获取自己主要工作的版本，然后针对其他数据库要获取的相应目录建立对应的本地目录，然后针对该目录进行获取。比如我们在本地建立一个KungfuClient的目录，该目录用于存储gongfu_client数据库中保存的客户端所有程序文件，而此时如果我们同时需要在本地获取地图编辑器工具程序，则可以在KungfuClient目录下建立一个MapEditor的目录，然后进入该目录获取gongfu_tool中的该程序对应的程序文件，这样就可以让两个库中的程序共享同一层目录，方便联合编译。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"bbzrz0\" class=\"markdown-heading\"><a name=\"bbzrz0\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2. 向svn数据库中添加文件</h2><p class=\"line\">首先将要加入的文件放入到本地程序目录下。比如在此时，我需要在zoneserver目录下加入一个MyStream.h的文件，那么先将该文件放入zoneserver的目录下：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_8465e4a57d9c50224e50f28ddd8b411c_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">当要将其加入到svn数据时，右键单击该文件，选取<code>TortoiseSVN——Add</code>，在弹出的界面中确认该文件的加入即可：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_27dcea83ef4bbc0110932a48c05ea7f8_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">此时该文件会变成带加号的图标格式，然后我们将其再次签入即可：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_1b5bdc5665249f1a22b4fce3447223a4_r.png\" title=\"null\" alt=\"\"></p>\n<blockquote class=\"warning\">\n<p class=\"line\">注意，如果需要在数据库中添加一个二进制文件，比如Excel文件，svn会将其保存为其他的文件类型，比如Excel文件，svn用默认的mime-type进行保存，我在本地进行过实验，该种类型文件也可以进行版本的管理和多分支的合并。</p>\n</blockquote>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"g0c2k1\" class=\"markdown-heading\"><a name=\"g0c2k1\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3. 多人协作下的文件改动及签入流程</h2><p class=\"line\">用svn对文件进行操作时，不需要显示的锁定签出文件即可更改，任何的冲突检测都是在签入时进行的。不过，尽管svn可以有效的控制冲突，但冲突的解决却需要程序员自己来进行。为了最大限度的避免冲突的发生，在对某个文件进行操作时，推荐的流程如下：</p>\n<blockquote class=\"default\">\n<ol>\n<li>在对文件进行操作之前，从版本库中显示的更新svn中指定版本号文件的最新版本，这可以使得在进行操作之前，本地文件与svn库中的文件的版本一致。</li><li>在对文件的操作完成之后，不要立即签入，再次从svn中进行一次更新，因为在这过程中，可能有其他同事也更改了该文件。通过该过程，svn可以自动的将数据库中该文件的最新内容合并到本地拷贝。</li><li>对合并后的本地拷贝进行编译，试运行，看是否通过。</li><li>将本地拷贝签入到svn数据库中，这样可以基本上避免冲突的发生。</li></ol>\n</blockquote>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"dqn194\" class=\"markdown-heading\"><a name=\"dqn194\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4. 工作版本分支的建立及合并</h2><p class=\"line\">当我们需要在系统中加入一个大的系统模块时，这个模块的开发周期可能为一至两个月，但同时我们也需要对当前已存在的版本进行维护并修改bug。因此，需要针对该模块建立一个工作版本分支，所有新模块的内容都在分支上进行开发，而同时可以对主版本中的bug进行修复及维护。在此过程中，需要定期的对主版本及分支版本进行同步操作。最终，当这个大的系统模块开发完成并调试通过后，可将其合并到当前的主版本中，作为一次统一的系统升级。在这里以前段时间门派及国家系统的服务器端修改流程为例进行描述。</p>\n<h3 id=\"aii2wj\" class=\"markdown-heading\"><a name=\"aii2wj\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>建立工作分支</h3><p class=\"line\">首先，在gonfu_server的顶级目录建立一个brance_guild目录。该目录的创建方法可选择在svn数据库浏览器上直接操作：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_af74eb5dbfb2a16522dcc94948a13d45_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">其次，在本地拷贝目录下建立分支</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_a332f4ae72978ebc149c194dc6a4beb1_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">在弹出的窗口中，可以看到，我们需要基于gongfu_server/trunk目录的文件建立分支，下面的三个单选钮用于指定是基于哪个具体的版本建立分支。一般情况下我们会选择trunk上的最新版本，但如果此时trunk上并不是一个稳定的版本，则可能需要明确的指定一个版本建立分支，在\"To URL\"输入框中，我们输入分支保存在svn数据库中的路径，也就是我们刚才建立的分支目录，点击\"确定\"，此时trunk中某一特定版本对应的文件将会拷贝到该分支对应的目录下：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_961b39629e67d242a9bfb3b1ba63348c_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">如果我们需要在分支上进行开发，需要将本地的工作拷贝切换到分支版本下，可以切换整个数据库下的文件，也可以针对某个程序文件（如xZoneServer）进行切换。右键点选<code>TortoiseSVN——Switch</code>：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_4a2f9026b909dec6ea62adeae877f781_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">将弹出下面的窗口，在该窗口中，我们填写或者浏览到想要获取的分支版本，点击确定，则此分支对应的文件将会从数据库中导出，并更新我们本地的工作拷贝：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_3fee5492d94cc4653cbedd9d11bcd4d9_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">在这里我选择了branch_guild分支，此操作会将分支中的所有服务器程序文件拷贝到本地工作目录，如果只想切换某一个具体的程序，只需要右键单击该程序文件目录，并在最后\"To URL\"输入框中，写入该程序的具体路径就可以了，比如，在上面的输入框中，我在后面加上/xZoneServer，则xZoneServer目录中的文件将切换成分支上的文件，其他服务器程序仍然保持trunk上的版本。</p>\n<h3 id=\"7sw0gs\" class=\"markdown-heading\"><a name=\"7sw0gs\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>分支上的开发</h3><p class=\"line\">在分支上进行开发，与在trunk下进行开发的流程相同，之前提到的多人协同工作时的建议同样适用于分支。只是需要确保在本地分支拷贝上进行修改的过程中中，不要再切换到其他任何版本，如果需要切换，则先将分支版本签入。</p>\n<p class=\"line\">如果此时主版本需要修改某个bug，则需要先将本地拷贝切换到trunk版本，在此上进行修改，并签入到主版本。此时所有这些改动并没有添加到分支中，分支中对应的主版本内容仍然是建立分支时刻对应的主版本内容。</p>\n<h3 id=\"ctsqq5\" class=\"markdown-heading\"><a name=\"ctsqq5\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>主版本到分支版本的合并</h3><p class=\"line\">在某一个时刻，一般为每周周末，我们需要将当周主版本的改动合并到分支中，以保证主版本和分支内容上的同步，具体操作流程如下：</p>\n<p class=\"line\">首先将本地工作拷贝切换到分支版本。</p>\n<p class=\"line\">接下来察看分支版本的日志，右键点选<code>TortoiseSVN——ShowLog</code>，查找分支建立时对应的主版本号，如图：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_6719e6f4106ffbf589c0596c5fd84a9b_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">由图可以看到，分支版本建立时对应的版本号为213，在最下面的框中可以看到，它是基于主版本212版本号对应的程序文件建立的，而这个版本号则是我们合并的起始点。</p>\n<p class=\"line\">在本地拷贝中目录下右键点击<code>TortoiseSVN——Merge</code>，出现如图对话框：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_c412744825162aa96b022908f9571312_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">通过查看日志，我们已经知道合并的起始点为主版本的212版本，因此在上图中的\"From：\"输入框中，我们需要填入主版本的工作目录，并将对应的版本号填入212，在下面的\"To：\"输入框中，由于我们是将主版本的当前版本内容并入分支，因此只需要将版本号注为\"Head Version\"，目录不需要变化。这样，就会将主版本在分支建立时到当前的所有改动并入分支，使得分支中除了新加入的内容之外，其余部分均与主版本内容同步。</p>\n<p class=\"line\">除了\"Merge\"按钮外，其他三个按钮可以用于对将要合并的内容进行一下预检，可以用Diff和Unified diff分别检查版本间的文件级和代码级差异，\"Dry Run\"可以做一次预合并。注意这种合并可能会产生冲突，如果有冲突产生，可以根据冲突给出的提示信息来进行手动修正，待修正完毕后再进行签入。冲突的产生一般情况下是因为两个版本修改了代码文件的同一行引起的。如果保证在分支中只增加新内容，而将原有内容的修改都放在主版本中进行，可以最大程度的避免冲突的发生。</p>\n<p class=\"line\">当合并之后，再将合并后的内容签入到分支中，整个过程就完成了。不过需要注意的一个非常重要问题是，此时的主版本和分支版本的合并点已不是之前的212版本，而是此次合并时主版本在\"To：\"中指定的版本号，因此当在合并后对分支进行签入时，最好在注释框中注明本次合并的终点主版本号，当下一次再需要将主版本的改动合并到分支时，将以该版本号作为合并起始点。我通过查日志并没有发现明确注明合并事件的日志，所以才加入了注释。如果今后发现了更明确的日志信息，本部分内容再做调整。</p>\n<h3 id=\"dvrqxz\" class=\"markdown-heading\"><a name=\"dvrqxz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>分支版本合并到主版本</h3><p class=\"line\">当分支开发完毕并测试通过后，需要将分支的内容合并入主版本，以使主版本的内容与分支中的内容完全一致，在合并分支内容之前，如果主版本此时相对上次合并又做了改动，则需要执行上述的过程先将主版本的改动并入到分支，并记录此次合并点的主版本号。待该步骤完毕后，再执行分支的合并操作，具体合并流程如下：</p>\n<p class=\"line\">本地工作拷贝切换到主版本。</p>\n<p class=\"line\">在主版本的工作目录下右键点选<code>TortoiseSVN——Merge</code>，弹出如下窗口：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_8a8e9de7e68e8686648377be922607c1_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">此合并相对于之前主版本合并到分支过程最大的不同在于\"From：\"和\"To：\"分别指向不同的目录，其中\"From：\"指向主版本目录，Revision中的版本号是主版本到分支版本最后一次合并时的版本号，而\"To：\"中则是分支目录中当前的版本号。此合并的意义是：将分支版本中新加入的内容全部合并到主版本中。同样可以采用一些预检手段来达到消除冲突的目的，不过，由于我们定期的将主版本更新内容合并入分支版本，因此该次合并的冲突产生几率几乎为零。当完成了该次操作后，主版本内容将和分支版本内容完全同步，此时branch_guild工作目录已经没有存在的必要，可以将其删除。</p>\n<p class=\"line\">将合并后的主版本内容签入到主版本目录，以完成整个操作。</p>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"d2c4ty\" class=\"markdown-heading\"><a name=\"d2c4ty\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5. 建立稳定的tags版本</h2><p class=\"line\">当一个版本测试稳定了之后，可以将当前稳定的主版本内容建立一个标记。标记的建立方式和工作分支的建立方式完全相同，但意义不同。标记的建立是标明某一阶段的一个稳定版本，它直接对应我们向外发布的文件版本号，在开发多语言版本时，该地运营商使用的版本可能落后于我们本地的版本，因此可以直接从标记中获取该稳定版本，生成对应的程序文件送交该运营商，并可针对该版本进行相应的维护。</p>\n<p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"5vk65i\" class=\"markdown-heading\"><a name=\"5vk65i\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6. 利用合并特性修改bug</h2><p class=\"line\">如果程序文件中存在一个bug，并且该bug在之前的多个版本中都存在，那么要解决该bug，不需要依次调出每个版本进行修改，而只需要修改一份，并通过合并操作更改其他版本，具体步骤如下：</p>\n<blockquote class=\"default\">\n<ol>\n<li>本地工作目录切换到主版本（我们默认主版本中也存在该bug）</li><li>在主版本中进行bug修正，并签入。</li></ol>\n</blockquote>\n<p class=\"line\">切换到每一个过去包含该bug的标记版本（因为有可能是因为加入了某一个新功能导致的bug，如果某些标记版本中不包含该功能，就部需要修改），进行合并操作，如图：</p>\n<p class=\"line\"><img src=\"/data/uploads/programmer_common/images/m_fb38cbbcbffdf0f3fe2df44e63edabe5_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">可以看到，我们是针对tags/1.0.30进行合并，而合并的内容是主版本265到266之间的变化，而这部分的变化则对应bug的修复。也就是说，我们只将修复该bug的内容合并入分支标记版本，而1.0.30至主版本原有的变化则不签入1.0.30，这样就可以保证1.0.30版本除了修正该bug外，不会加入任何主版本中加入的新内容，以保证各个版本之间的独立性。</p>\n<p class=\"line\">当然在这种情况下，冲突是有可能发生的。在这种情况下，只能进行手动的修正。不过在多数情况下，该方法可以快速的对bug进行全版本修复，并且能避免手动更改情况下的一些人为错误。</p>\n<p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"bqftqk\" class=\"markdown-heading\"><a name=\"bqftqk\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7. 其它注意的问题</h2><p class=\"line\">当本地版本需要针对当前版本库进行更新时，或者从一个版本切换到另一个版本时，不推荐使用VC中的Anka插件。实验证明，该插件存在bug，可能导致不能正确进行文件更新及版本切换，导致在生成对应的程序版本时发生错误。</p>\n','2019-09-17 22:39:54',2,'2019-09-18 15:02:34',2,1568732084,0),(21,'lua优化','programmer_common-1bha1mqu6rkg8',4,0,9,'# lua优化\n\n## 局部与全局变量\n\nLua 使用了一个基于寄存器的虚拟机。这些「寄存器」跟 CPU 中真实的寄存器并无关联，因为这种关联既无可移植性，也受限于可用的寄存器数量。Lua 使用一个栈（由一个数组加上一些索引实现）来存放它的寄存器。每个活动的（active）函数都有一份活动记录（activation record），活动记录占用栈的一小块，存放着这个函数对应的寄存器。因此，每个函数都有其自己的寄存器。由于每条指令只有 8 个 bit 用来指定寄存器，每个函数便可以使用多至 250 个寄存器。\n\nLua 的寄存器如此之多，预编译时便能将所有的局部变量存到寄存器中。所以，在 Lua 中访问局部变量是很快的。举个例子， 如果 a 和 b 是局部变量，语句 `a = a + b` 只生成一条指令：`ADD 0 0 1`（假设 a 和 b 分别在寄存器 0 和 1 中）。对比之下，如果 a 和 b 是全局变量，生成上述加法运算的指令便会如下：\n\n```\nGETGLOBAL    00     ; a\n\nGETGLOBAL    11     ; b\n\nADD          001\n\nSETGLOBAL    00     ; a\n```\n\n所以，不难证明，要想改进 Lua 程序的性能，最重要的一条原则就是： **使用局部变量（use locals）！**\n\n除了一些明显的地方外，另有几处也可使用局部变量，可以助你挤出更多的性能。比如，如果在很长的循环里调用函数，可以先将这个函数赋值给一个局部变量。\n\n>[danger]这个代码：\n\n```lua\nfor i = 1, 1000000 do\n\n  local x = math.sin(i)\n\nend\n```\n\n>[success]比如下代码慢 30%：\n\n```\nlocal sin = math.sin\n\nfor i = 1, 1000000 do\n\n  local x = sin(i)\n\nend\n```\n\n访问外层局部变量（也就是外一层函数的局部变量）并没有访问局部变量快，但是仍然比访问全局变量快。考虑如下代码：\n\n```\nfunction foo(x)\n\n  for i = 1, 1000000 do\n\n    x = x + math.sin(i)\n\n  end\n\n  return x\n\nend\n\nprint(foo(10))\n```\n\n我们可以通过在 foo 函数外面定义一个 sin 来优化它：\n\n```\nlocal sin = math.sin\n\nfunction foo(x)\n\n  for i = 1, 1000000 do\n\n    x = x + sin(i)\n\n  end\n\n  return x\n\nend\n\nprint(foo(10))\n\n```\n\n>[success]第二段代码比第一段快 30%。\n\n## 表\n\nLua table(表)是 Lua的一种强大的数据结构, 它用来帮助我们创建不同的数据类型,如:数字、字典等。通常，使用表（table）时并不需要知道它的实现细节。事实上，Lua 尽力避免把实现细节暴露给用户。然而这些细节还是在表操作的性能中暴露出来了。所以，为了高效地使用表，了解一些 Lua 实现表的方法，不无益处。\n\nLua 实现表的算法颇为巧妙。每个表包含两部分：数组（array）部分和哈希（hash）部分，数组部分保存的项（entry）以整数为键（key），从 1 到某个特定的 n，（稍后会讨论 n 是怎么计算的。）所有其他的项（包括整数键超出范围的）则保存在哈希部分。\n\n当 Lua 想在表中插入一个新的键值而哈希数组已满时，Lua 会做一次重新哈希（rehash）。重新哈希的第一步是决定新的数组部分和哈希部分的大小。所以 Lua 遍历所有的项，并加以计数和分类，然后取一个使数组部分用量过半的最大的 2 的指数值，作为数组部分的大小。而哈希部分的大小则是一个容得下剩余项（即那些不适合放在数组部分的项）的最小的 2 的指数值。\n\n当 Lua 创建一个空表时，数组部分和哈希部分的大小都是 0，因此也就没有为它们分配数组空间。看看如下代码运行时会发生些什么：\n\n```\nlocal a = {}\n\nfor i = 1, 3 do\n\n  a[i] = true\n\nend\n```\n\n一开始创建一个空表。循环的第一次迭代时，赋值语句 a[1] = true 触发了一次重新哈希；Lua 将表中的数组部分大小设为 1，而哈希部分仍为空。循环的第二次迭代时，赋值语句 a[2] = true 又触发了一次重新哈希，现在，表中的数组部分大小为 2。最后，第三次迭代还是触发了一次重新哈希，数组部分的大小增至 4。\n\n像下面这样的代码：\n\n```\na = {}\n\na.x = 1; a.y = 2; a.z = 3\n```\n\n做的事情类似，大小增长的却是表的哈希部分。\n\n如果你用的是 Lua，可以通过构造器（constructors）来避免那些初始的重新哈希。当你写下 {true, true, true} 时，Lua 就会事先知道新表的数组部分需要 3 个空位，并创建一个相应大小的表。与此类似，当你写下 {x = 1, y = 2, z = 3} 时，Lua 就创建一个哈希部分包含 4 个空位的表。举例来说，下面的循环运行了 2.0 秒：\n\n```\nfor i = 1, 1000000 do\n\n  local a = {}\n\n  a[1] = 1; a[2] = 2; a[3] = 3\n\nend\n```\n\n如果以正确的大小来创建这个表，运行时间就降到了 0.7 秒：\n\n```\nfor i = 1, 1000000 do\n\n  local a = {true, true, true}\n\n  a[1] = 1; a[2] = 2; a[3] = 3\n\nend\n```\n\nLua为表的数组和哈希部分遍历提供了不同的接口。ipairs只能遍历表的数据部分,而pairs则可以遍历表中所有的Key(数组和哈希部分) 。\n\n当需要获得一个表的大小时。Lua中的#操作符实际上返回的是table中数据部分的大小。如果需要获取一个table中数据和哈希部分的总大小, 比较高效的做法是在table中添加一个size值, 在插入数据的时候+1, 在删除数据的时候-1。\n\n表的两个部分的大小只在表重新哈希时计算，而重新哈希只在表已全满而又需要插入新元素时才会发生。因此，当你遍历一个表并把个中元素逐一删除时（即设它们为 nil），表并不会缩小。你得往表里插些新的元素，然后表才会真正去调整大小。通常这不是一个问题：当你持续地删除和插入元素时（很多程序的典型情况），表的大小将保持稳定。所以，想要重表里删除一些数据来减少内存使用是不可能的。正确的做法是在表使用完以后, 让它 = nil或 = { } (一个新的table), 这样原来的table发现已经没有变量继续引用它, lua的内存回收机制就会GC的原来table的内存。\n\n## 字符串\n\nLua 实现字符串的方式和大多数其他的脚本语言有两点重要的区别。其一，Lua 的字符串都是内化的（internalized）；这意味着字符串在 Lua 中都只有一份拷贝。每当一个新字符串出现时，Lua 会先检查这个字符串是否已经有一份拷贝，如果有，就重用这份拷贝。内化（internalization）使字符串比较及表索引这样的操作变得非常快，但是字符串的创建会变慢。\n\n其二，Lua 的字符串变量从来不会包含字符串本身，包含的只是字符串的引用。这种实现加快了某些字符串操作。\n\n```\nlocal strA = \"aaa\"\n\nlocal strB = strA\n```\n\n而对 Lua 来说，对于这样的strB = strA赋值语句只不过复制了一个指向实际字符串的指针, 并不需要申请新的内存。\n\n当需要在字符串后添加新的内容时, Lua并不是直接把新的字符串添加到旧的字符串后面。由于Lua并没有提供字符串缓冲区, 所以实际上Lua生成了一个新的字符串, 并把原有内容和新内容拷贝到新字符串中。如果字符串很长，这一操作代价将非常高。例如用lua读取文本文件。\n\n我们可以通过使用一个显式的缓冲区的方式优化这类操作。例如以下循环读 5MB 的文件。Local t = {}这个临时表缓存了读取的文件的每行内容, 期间并不需要对字符串进行连接操作。当文件读取完毕后使用table.concat 对t数组中的字符串进行连接, 由于concat函数对字符串连接进行了优化，即使进行大量的连接操作，也不会消耗多少时间。\n\n```\nlocal t = {}\n\nfor line in io.lines() do\n\n  t[#t + 1] = line\n\nend\n\ns = table.concat(t, \"\\n\")\n```\n\n## lua和C++之间相互调用\n\nLua和C++ 的交互机制的基础在于Lua提供了一个虚拟栈，C++ 和Lua之间的所有类型的数据交换都通过这个栈完成。无论何时C++想从Lua中调用一个值，被请求的值将会被压入栈，无论何时C++想要传递一个值给Lua，首先将整个值压栈，然后就可以在Lua中调用。由于这种跨语言调用要比语言内自己调用慢。 所以好的C++或Lua接口是减少这种相互调用的次数。例如lua需要调用C++的一个接口获取排行榜前100的玩家ID\n\n```\nlocal playerID = {}\n\nfor i = 1, 100 do\n\n  playerID[i] = rank.GetRank(i)                -- C++接口, 获取某个排名的玩家ID\n\nend\n```\n\n>以上这种写法会使Lua调用100次C++ 的函数, 而好的写法是只调用一次C++接口,并返回排名100的玩家ID。\n**local** playerID = rank.GetRank(1, 100) **       ** -- C++接口, 获取某个指定范围内的玩家ID\n\n## 减少，重用\n\n减少（reduce）是最简单的一种途径。有几种方法可以避免创建对象。例如，如果你的程序使用了大量的表，或许可以考虑改变它的数据表示。举个简单的例子，假如你的程序需要处理折线（polyline）。在 Lua 里，折线最自然的表示是使用一个点的列表，像这样：\n\n```\npolyline = {\n\n  { x = 10.3, y = 98.5 },\n\n  { x = 10.3, y = 18.3 },\n\n  { x = 15.0, y = 98.5 },\n\n  ...\n\n}\n```\n\n这种表示虽然自然，折线较大时却不经济，因为每个点都要用一个表。下面这种表示改用数组，内存略为节省：\n\n```\npolyline = {\n\n  { 10.3, 98.5 },\n\n  { 10.3, 18.3 },\n\n  { 15.0, 98.5 },\n\n  ...\n\n}\n```\n\n对于一条有一百万个点的折线，这种改变使内存用量从 95KB 降到 65KB。当然，作为代价，程序的可读性有所损失：`p[i].x` 要比 `p[i][4]` 易懂得多。\n\n还有一个更经济的方法，用两个列表，一个存 x 坐标的值，一个存 y 坐标的值：\n\n```\npolyline = {\n\n  x = { 10.3, 10.3, 15.0, ...},\n\n  y = { 98.5, 18.3, 98.5, ...}\n\n}\n```\n\n之前的 `p[i].x` 现在就是 `p.x[i]`。使用这种方式，一条有一百万个点的折线只需 24KB 的内存。\n\n循环是寻找降低不必要资源创建的好地方。例如，如果在循环中创建了一个常量的（constant）表，便可以把表移到循环之外，或者甚至可以移到外围函数之外。比较如下两段代码：\n\n```\nfunction foo(...)\n\n  for i = 1, n do\n\n    local t = {1, 2, 3, \"hi\"}\n\n    -- 做一些不改变 t 的操作\n\n    ...\n\n  end\n\nend\n\nlocal t = {1, 2, 3, \"hi\"} -- 一次性地创建 t\n\nfunction foo(...)\n\n  for i = 1, n do\n\n    -- 做一些不改变 t 的操作\n\n    ...\n\n  end\n\nend\n```\n\n很多字符串的处理，都可以通过在现有字符串上使用下标，来避免创建不必要的新字符串。例如，函数 string.find 返回的是给定模式出现的位置，而不是一个与之匹配的字符串。返回下标，就避免了在成功匹配时创建一个新的（子）字符串。若有需要，可以再通过函数 string.sub 来获取匹配的子字符串。\n\n即使不能避免使用新的对象，也可以通过 **重用（reuse）** 来避免创建新的对象。对字符串来说，重用是没有必要的，因为 Lua 已经替我们这样做了：所有的字符串都是内化的（internalized），因此只要可能就会重用。对表来说，重用就显得卓有成效了。举一个常见的例子，让我们回到在循环内创建表的情况。不同的是，这次的表是可变的（not constant）。不过，往往只需简单的改变内容，还是可以在所有的迭代中重用同一个表的。考虑以下代码：\n\n```\nlocal t = {}\n\nfor i = 1970, 2000 do\n\n  t[i] = os.time({year = i, month = 6, day = 14})\n\nend\n```\n\n以下代码与之等价，但是重用了表：\n\n```\nlocal t = {}\n\nlocal aux = {year = nil, month = 6, day = 14}\n\nfor i = 1970, 2000 do\n\n  aux.year = i\n\n  t[i] = os.time(aux)\n\nend\n```\n\n实现重用的一种特别有效的方法是记忆化（memoizing）。基本想法非常简单：对于一个给定的输入，保存其计算结果，当遇到同样的输入时，程序只需重用之前保存的结果。\n\n## 结语\n\n我们应该在写代码时,按照高标准去写,尽量避免在事后进行优化。','<article class=\"markdown-article-inner\"><h1 id=\"g6zbro\" class=\"markdown-heading\"><a name=\"g6zbro\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>lua优化</h1><h2 id=\"1pahlo\" class=\"markdown-heading\"><a name=\"1pahlo\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>局部与全局变量</h2><p class=\"line\">Lua 使用了一个基于寄存器的虚拟机。这些「寄存器」跟 CPU 中真实的寄存器并无关联，因为这种关联既无可移植性，也受限于可用的寄存器数量。Lua 使用一个栈（由一个数组加上一些索引实现）来存放它的寄存器。每个活动的（active）函数都有一份活动记录（activation record），活动记录占用栈的一小块，存放着这个函数对应的寄存器。因此，每个函数都有其自己的寄存器。由于每条指令只有 8 个 bit 用来指定寄存器，每个函数便可以使用多至 250 个寄存器。</p>\n<p class=\"line\">Lua 的寄存器如此之多，预编译时便能将所有的局部变量存到寄存器中。所以，在 Lua 中访问局部变量是很快的。举个例子， 如果 a 和 b 是局部变量，语句 <code>a = a + b</code> 只生成一条指令：<code>ADD 0 0 1</code>（假设 a 和 b 分别在寄存器 0 和 1 中）。对比之下，如果 a 和 b 是全局变量，生成上述加法运算的指令便会如下：</p>\n<pre class=\"hljs\"><code>GETGLOBAL    00     ; a\n\nGETGLOBAL    11     ; b\n\nADD          001\n\nSETGLOBAL    00     ; a</code></pre><p class=\"line\">所以，不难证明，要想改进 Lua 程序的性能，最重要的一条原则就是： <strong>使用局部变量（use locals）！</strong></p>\n<p class=\"line\">除了一些明显的地方外，另有几处也可使用局部变量，可以助你挤出更多的性能。比如，如果在很长的循环里调用函数，可以先将这个函数赋值给一个局部变量。</p>\n<blockquote class=\"danger\">\n<p class=\"line\">这个代码：</p>\n</blockquote>\n<pre class=\"hljs bash\"><code class=\"language-lua\"><span class=\"hljs-keyword\">for</span> i = 1, 1000000 <span class=\"hljs-keyword\">do</span>\n\n  <span class=\"hljs-built_in\">local</span> x = math.sin(i)\n\nend</code></pre>\n<blockquote class=\"success\">\n<p class=\"line\">比如下代码慢 30%：</p>\n</blockquote>\n<pre class=\"hljs perl\"><code><span class=\"hljs-keyword\">local</span> <span class=\"hljs-keyword\">sin</span> = math.sin\n\n<span class=\"hljs-keyword\">for</span> i = <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">1000000</span> <span class=\"hljs-keyword\">do</span>\n\n  <span class=\"hljs-keyword\">local</span> <span class=\"hljs-keyword\">x</span> = <span class=\"hljs-keyword\">sin</span>(i)\n\nend</code></pre><p class=\"line\">访问外层局部变量（也就是外一层函数的局部变量）并没有访问局部变量快，但是仍然比访问全局变量快。考虑如下代码：</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-keyword\">function</span> foo(x)\n\n  <span class=\"hljs-keyword\">for</span> i = 1, 1000000 <span class=\"hljs-keyword\">do</span>\n\n    x = x + math.sin(i)\n\n  end\n\n  <span class=\"hljs-built_in\">return</span> x\n\nend\n\n<span class=\"hljs-built_in\">print</span>(foo(10))</code></pre><p class=\"line\">我们可以通过在 foo 函数外面定义一个 sin 来优化它：</p>\n<pre class=\"hljs perl\"><code><span class=\"hljs-keyword\">local</span> <span class=\"hljs-keyword\">sin</span> = math.sin\n\nfunction foo(<span class=\"hljs-keyword\">x</span>)\n\n  <span class=\"hljs-keyword\">for</span> i = <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">1000000</span> <span class=\"hljs-keyword\">do</span>\n\n    <span class=\"hljs-keyword\">x</span> = <span class=\"hljs-keyword\">x</span> + <span class=\"hljs-keyword\">sin</span>(i)\n\n  end\n\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">x</span>\n\nend\n\n<span class=\"hljs-keyword\">print</span>(foo(<span class=\"hljs-number\">10</span>))\n</code></pre><blockquote class=\"success\">\n<p class=\"line\">第二段代码比第一段快 30%。</p>\n</blockquote>\n<h2 id=\"33l5uf\" class=\"markdown-heading\"><a name=\"33l5uf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>表</h2><p class=\"line\">Lua table(表)是 Lua的一种强大的数据结构, 它用来帮助我们创建不同的数据类型,如:数字、字典等。通常，使用表（table）时并不需要知道它的实现细节。事实上，Lua 尽力避免把实现细节暴露给用户。然而这些细节还是在表操作的性能中暴露出来了。所以，为了高效地使用表，了解一些 Lua 实现表的方法，不无益处。</p>\n<p class=\"line\">Lua 实现表的算法颇为巧妙。每个表包含两部分：数组（array）部分和哈希（hash）部分，数组部分保存的项（entry）以整数为键（key），从 1 到某个特定的 n，（稍后会讨论 n 是怎么计算的。）所有其他的项（包括整数键超出范围的）则保存在哈希部分。</p>\n<p class=\"line\">当 Lua 想在表中插入一个新的键值而哈希数组已满时，Lua 会做一次重新哈希（rehash）。重新哈希的第一步是决定新的数组部分和哈希部分的大小。所以 Lua 遍历所有的项，并加以计数和分类，然后取一个使数组部分用量过半的最大的 2 的指数值，作为数组部分的大小。而哈希部分的大小则是一个容得下剩余项（即那些不适合放在数组部分的项）的最小的 2 的指数值。</p>\n<p class=\"line\">当 Lua 创建一个空表时，数组部分和哈希部分的大小都是 0，因此也就没有为它们分配数组空间。看看如下代码运行时会发生些什么：</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-built_in\">local</span> a = {}\n\n<span class=\"hljs-keyword\">for</span> i = 1, 3 <span class=\"hljs-keyword\">do</span>\n\n  a[i] = <span class=\"hljs-literal\">true</span>\n\nend</code></pre><p class=\"line\">一开始创建一个空表。循环的第一次迭代时，赋值语句 a[1] = true 触发了一次重新哈希；Lua 将表中的数组部分大小设为 1，而哈希部分仍为空。循环的第二次迭代时，赋值语句 a[2] = true 又触发了一次重新哈希，现在，表中的数组部分大小为 2。最后，第三次迭代还是触发了一次重新哈希，数组部分的大小增至 4。</p>\n<p class=\"line\">像下面这样的代码：</p>\n<pre class=\"hljs makefile\"><code>a = {}\n\na.x = 1; a.y = 2; a.z = 3</code></pre><p class=\"line\">做的事情类似，大小增长的却是表的哈希部分。</p>\n<p class=\"line\">如果你用的是 Lua，可以通过构造器（constructors）来避免那些初始的重新哈希。当你写下 {true, true, true} 时，Lua 就会事先知道新表的数组部分需要 3 个空位，并创建一个相应大小的表。与此类似，当你写下 {x = 1, y = 2, z = 3} 时，Lua 就创建一个哈希部分包含 4 个空位的表。举例来说，下面的循环运行了 2.0 秒：</p>\n<pre class=\"hljs sql\"><code>for i = 1, 1000000 <span class=\"hljs-keyword\">do</span>\n\n  <span class=\"hljs-keyword\">local</span> a = {}\n\n  a[<span class=\"hljs-number\">1</span>] = <span class=\"hljs-number\">1</span>; a[2] = 2; a[3] = 3\n\n<span class=\"hljs-keyword\">end</span></code></pre><p class=\"line\">如果以正确的大小来创建这个表，运行时间就降到了 0.7 秒：</p>\n<pre class=\"hljs sql\"><code>for i = 1, 1000000 <span class=\"hljs-keyword\">do</span>\n\n  <span class=\"hljs-keyword\">local</span> a = {<span class=\"hljs-literal\">true</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-literal\">true</span>}\n\n  a[<span class=\"hljs-number\">1</span>] = <span class=\"hljs-number\">1</span>; a[2] = 2; a[3] = 3\n\n<span class=\"hljs-keyword\">end</span></code></pre><p class=\"line\">Lua为表的数组和哈希部分遍历提供了不同的接口。ipairs只能遍历表的数据部分,而pairs则可以遍历表中所有的Key(数组和哈希部分) 。</p>\n<p class=\"line\">当需要获得一个表的大小时。Lua中的#操作符实际上返回的是table中数据部分的大小。如果需要获取一个table中数据和哈希部分的总大小, 比较高效的做法是在table中添加一个size值, 在插入数据的时候+1, 在删除数据的时候-1。</p>\n<p class=\"line\">表的两个部分的大小只在表重新哈希时计算，而重新哈希只在表已全满而又需要插入新元素时才会发生。因此，当你遍历一个表并把个中元素逐一删除时（即设它们为 nil），表并不会缩小。你得往表里插些新的元素，然后表才会真正去调整大小。通常这不是一个问题：当你持续地删除和插入元素时（很多程序的典型情况），表的大小将保持稳定。所以，想要重表里删除一些数据来减少内存使用是不可能的。正确的做法是在表使用完以后, 让它 = nil或 = { } (一个新的table), 这样原来的table发现已经没有变量继续引用它, lua的内存回收机制就会GC的原来table的内存。</p>\n<h2 id=\"f140o8\" class=\"markdown-heading\"><a name=\"f140o8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>字符串</h2><p class=\"line\">Lua 实现字符串的方式和大多数其他的脚本语言有两点重要的区别。其一，Lua 的字符串都是内化的（internalized）；这意味着字符串在 Lua 中都只有一份拷贝。每当一个新字符串出现时，Lua 会先检查这个字符串是否已经有一份拷贝，如果有，就重用这份拷贝。内化（internalization）使字符串比较及表索引这样的操作变得非常快，但是字符串的创建会变慢。</p>\n<p class=\"line\">其二，Lua 的字符串变量从来不会包含字符串本身，包含的只是字符串的引用。这种实现加快了某些字符串操作。</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-built_in\">local</span> strA = <span class=\"hljs-string\">&#34;aaa&#34;</span>\n\n<span class=\"hljs-built_in\">local</span> strB = strA</code></pre><p class=\"line\">而对 Lua 来说，对于这样的strB = strA赋值语句只不过复制了一个指向实际字符串的指针, 并不需要申请新的内存。</p>\n<p class=\"line\">当需要在字符串后添加新的内容时, Lua并不是直接把新的字符串添加到旧的字符串后面。由于Lua并没有提供字符串缓冲区, 所以实际上Lua生成了一个新的字符串, 并把原有内容和新内容拷贝到新字符串中。如果字符串很长，这一操作代价将非常高。例如用lua读取文本文件。</p>\n<p class=\"line\">我们可以通过使用一个显式的缓冲区的方式优化这类操作。例如以下循环读 5MB 的文件。Local t = {}这个临时表缓存了读取的文件的每行内容, 期间并不需要对字符串进行连接操作。当文件读取完毕后使用table.concat 对t数组中的字符串进行连接, 由于concat函数对字符串连接进行了优化，即使进行大量的连接操作，也不会消耗多少时间。</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-built_in\">local</span> t = {}\n\n<span class=\"hljs-keyword\">for</span> line <span class=\"hljs-keyword\">in</span> io.lines() <span class=\"hljs-keyword\">do</span>\n\n  t[<span class=\"hljs-comment\">#t + 1] = line</span>\n\nend\n\ns = table.concat(t, <span class=\"hljs-string\">&#34;\\n&#34;</span>)</code></pre><h2 id=\"kzavv\" class=\"markdown-heading\"><a name=\"kzavv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>lua和C++之间相互调用</h2><p class=\"line\">Lua和C++ 的交互机制的基础在于Lua提供了一个虚拟栈，C++ 和Lua之间的所有类型的数据交换都通过这个栈完成。无论何时C++想从Lua中调用一个值，被请求的值将会被压入栈，无论何时C++想要传递一个值给Lua，首先将整个值压栈，然后就可以在Lua中调用。由于这种跨语言调用要比语言内自己调用慢。 所以好的C++或Lua接口是减少这种相互调用的次数。例如lua需要调用C++的一个接口获取排行榜前100的玩家ID</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-built_in\">local</span> playerID = {}\n\n<span class=\"hljs-keyword\">for</span> i = 1, 100 <span class=\"hljs-keyword\">do</span>\n\n  playerID[i] = rank.GetRank(i)                -- C++接口, 获取某个排名的玩家ID\n\nend</code></pre><blockquote class=\"default\">\n<p class=\"line\">以上这种写法会使Lua调用100次C++ 的函数, 而好的写法是只调用一次C++接口,并返回排名100的玩家ID。<br/><strong>local</strong> playerID = rank.GetRank(1, 100) **       ** – C++接口, 获取某个指定范围内的玩家ID</p>\n</blockquote>\n<h2 id=\"537hno\" class=\"markdown-heading\"><a name=\"537hno\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>减少，重用</h2><p class=\"line\">减少（reduce）是最简单的一种途径。有几种方法可以避免创建对象。例如，如果你的程序使用了大量的表，或许可以考虑改变它的数据表示。举个简单的例子，假如你的程序需要处理折线（polyline）。在 Lua 里，折线最自然的表示是使用一个点的列表，像这样：</p>\n<pre class=\"hljs makefile\"><code>polyline = {\n\n  { x = 10.3, y = 98.5 },\n\n  { x = 10.3, y = 18.3 },\n\n  { x = 15.0, y = 98.5 },\n\n  ...\n\n}</code></pre><p class=\"line\">这种表示虽然自然，折线较大时却不经济，因为每个点都要用一个表。下面这种表示改用数组，内存略为节省：</p>\n<pre class=\"hljs makefile\"><code>polyline = {\n\n  { 10.3, 98.5 },\n\n  { 10.3, 18.3 },\n\n  { 15.0, 98.5 },\n\n  ...\n\n}</code></pre><p class=\"line\">对于一条有一百万个点的折线，这种改变使内存用量从 95KB 降到 65KB。当然，作为代价，程序的可读性有所损失：<code>p[i].x</code> 要比 <code>p[i][4]</code> 易懂得多。</p>\n<p class=\"line\">还有一个更经济的方法，用两个列表，一个存 x 坐标的值，一个存 y 坐标的值：</p>\n<pre class=\"hljs makefile\"><code>polyline = {\n\n  x = { 10.3, 10.3, 15.0, ...},\n\n  y = { 98.5, 18.3, 98.5, ...}\n\n}</code></pre><p class=\"line\">之前的 <code>p[i].x</code> 现在就是 <code>p.x[i]</code>。使用这种方式，一条有一百万个点的折线只需 24KB 的内存。</p>\n<p class=\"line\">循环是寻找降低不必要资源创建的好地方。例如，如果在循环中创建了一个常量的（constant）表，便可以把表移到循环之外，或者甚至可以移到外围函数之外。比较如下两段代码：</p>\n<pre class=\"hljs sql\"><code>function foo(...)\n\n  for i = 1, n <span class=\"hljs-keyword\">do</span>\n\n    <span class=\"hljs-keyword\">local</span> t = {<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-string\">&#34;hi&#34;</span>}\n\n    <span class=\"hljs-comment\">-- 做一些不改变 t 的操作</span>\n\n    ...\n\n  <span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-keyword\">local</span> t = {<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-string\">&#34;hi&#34;</span>} <span class=\"hljs-comment\">-- 一次性地创建 t</span>\n\n<span class=\"hljs-keyword\">function</span> foo(...)\n\n  <span class=\"hljs-keyword\">for</span> i = <span class=\"hljs-number\">1</span>, n <span class=\"hljs-keyword\">do</span>\n\n    <span class=\"hljs-comment\">-- 做一些不改变 t 的操作</span>\n\n    ...\n\n  <span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-keyword\">end</span></code></pre><p class=\"line\">很多字符串的处理，都可以通过在现有字符串上使用下标，来避免创建不必要的新字符串。例如，函数 string.find 返回的是给定模式出现的位置，而不是一个与之匹配的字符串。返回下标，就避免了在成功匹配时创建一个新的（子）字符串。若有需要，可以再通过函数 string.sub 来获取匹配的子字符串。</p>\n<p class=\"line\">即使不能避免使用新的对象，也可以通过 <strong>重用（reuse）</strong> 来避免创建新的对象。对字符串来说，重用是没有必要的，因为 Lua 已经替我们这样做了：所有的字符串都是内化的（internalized），因此只要可能就会重用。对表来说，重用就显得卓有成效了。举一个常见的例子，让我们回到在循环内创建表的情况。不同的是，这次的表是可变的（not constant）。不过，往往只需简单的改变内容，还是可以在所有的迭代中重用同一个表的。考虑以下代码：</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-built_in\">local</span> t = {}\n\n<span class=\"hljs-keyword\">for</span> i = 1970, 2000 <span class=\"hljs-keyword\">do</span>\n\n  t[i] = os.time({year = i, month = 6, day = 14})\n\nend</code></pre><p class=\"line\">以下代码与之等价，但是重用了表：</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-built_in\">local</span> t = {}\n\n<span class=\"hljs-built_in\">local</span> aux = {year = nil, month = 6, day = 14}\n\n<span class=\"hljs-keyword\">for</span> i = 1970, 2000 <span class=\"hljs-keyword\">do</span>\n\n  aux.year = i\n\n  t[i] = os.time(aux)\n\nend</code></pre><p class=\"line\">实现重用的一种特别有效的方法是记忆化（memoizing）。基本想法非常简单：对于一个给定的输入，保存其计算结果，当遇到同样的输入时，程序只需重用之前保存的结果。</p>\n<h2 id=\"fe2983\" class=\"markdown-heading\"><a name=\"fe2983\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>结语</h2><p class=\"line\">我们应该在写代码时,按照高标准去写,尽量避免在事后进行优化。</p><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-18 15:02   作者：万韬</div></article>','<h1 id=\"g6zbro\" class=\"markdown-heading\"><a name=\"g6zbro\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>lua优化</h1><h2 id=\"1pahlo\" class=\"markdown-heading\"><a name=\"1pahlo\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>局部与全局变量</h2><p class=\"line\">Lua 使用了一个基于寄存器的虚拟机。这些「寄存器」跟 CPU 中真实的寄存器并无关联，因为这种关联既无可移植性，也受限于可用的寄存器数量。Lua 使用一个栈（由一个数组加上一些索引实现）来存放它的寄存器。每个活动的（active）函数都有一份活动记录（activation record），活动记录占用栈的一小块，存放着这个函数对应的寄存器。因此，每个函数都有其自己的寄存器。由于每条指令只有 8 个 bit 用来指定寄存器，每个函数便可以使用多至 250 个寄存器。</p>\n<p class=\"line\">Lua 的寄存器如此之多，预编译时便能将所有的局部变量存到寄存器中。所以，在 Lua 中访问局部变量是很快的。举个例子， 如果 a 和 b 是局部变量，语句 <code>a = a + b</code> 只生成一条指令：<code>ADD 0 0 1</code>（假设 a 和 b 分别在寄存器 0 和 1 中）。对比之下，如果 a 和 b 是全局变量，生成上述加法运算的指令便会如下：</p>\n<pre class=\"hljs\"><code>GETGLOBAL    00     ; a\n\nGETGLOBAL    11     ; b\n\nADD          001\n\nSETGLOBAL    00     ; a</code></pre><p class=\"line\">所以，不难证明，要想改进 Lua 程序的性能，最重要的一条原则就是： <strong>使用局部变量（use locals）！</strong></p>\n<p class=\"line\">除了一些明显的地方外，另有几处也可使用局部变量，可以助你挤出更多的性能。比如，如果在很长的循环里调用函数，可以先将这个函数赋值给一个局部变量。</p>\n<blockquote class=\"danger\">\n<p class=\"line\">这个代码：</p>\n</blockquote>\n<pre class=\"hljs bash\"><code class=\"language-lua\"><span class=\"hljs-keyword\">for</span> i = 1, 1000000 <span class=\"hljs-keyword\">do</span>\n\n  <span class=\"hljs-built_in\">local</span> x = math.sin(i)\n\nend</code></pre>\n<blockquote class=\"success\">\n<p class=\"line\">比如下代码慢 30%：</p>\n</blockquote>\n<pre class=\"hljs perl\"><code><span class=\"hljs-keyword\">local</span> <span class=\"hljs-keyword\">sin</span> = math.sin\n\n<span class=\"hljs-keyword\">for</span> i = <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">1000000</span> <span class=\"hljs-keyword\">do</span>\n\n  <span class=\"hljs-keyword\">local</span> <span class=\"hljs-keyword\">x</span> = <span class=\"hljs-keyword\">sin</span>(i)\n\nend</code></pre><p class=\"line\">访问外层局部变量（也就是外一层函数的局部变量）并没有访问局部变量快，但是仍然比访问全局变量快。考虑如下代码：</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-keyword\">function</span> foo(x)\n\n  <span class=\"hljs-keyword\">for</span> i = 1, 1000000 <span class=\"hljs-keyword\">do</span>\n\n    x = x + math.sin(i)\n\n  end\n\n  <span class=\"hljs-built_in\">return</span> x\n\nend\n\n<span class=\"hljs-built_in\">print</span>(foo(10))</code></pre><p class=\"line\">我们可以通过在 foo 函数外面定义一个 sin 来优化它：</p>\n<pre class=\"hljs perl\"><code><span class=\"hljs-keyword\">local</span> <span class=\"hljs-keyword\">sin</span> = math.sin\n\nfunction foo(<span class=\"hljs-keyword\">x</span>)\n\n  <span class=\"hljs-keyword\">for</span> i = <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">1000000</span> <span class=\"hljs-keyword\">do</span>\n\n    <span class=\"hljs-keyword\">x</span> = <span class=\"hljs-keyword\">x</span> + <span class=\"hljs-keyword\">sin</span>(i)\n\n  end\n\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">x</span>\n\nend\n\n<span class=\"hljs-keyword\">print</span>(foo(<span class=\"hljs-number\">10</span>))\n</code></pre><blockquote class=\"success\">\n<p class=\"line\">第二段代码比第一段快 30%。</p>\n</blockquote>\n<h2 id=\"33l5uf\" class=\"markdown-heading\"><a name=\"33l5uf\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>表</h2><p class=\"line\">Lua table(表)是 Lua的一种强大的数据结构, 它用来帮助我们创建不同的数据类型,如:数字、字典等。通常，使用表（table）时并不需要知道它的实现细节。事实上，Lua 尽力避免把实现细节暴露给用户。然而这些细节还是在表操作的性能中暴露出来了。所以，为了高效地使用表，了解一些 Lua 实现表的方法，不无益处。</p>\n<p class=\"line\">Lua 实现表的算法颇为巧妙。每个表包含两部分：数组（array）部分和哈希（hash）部分，数组部分保存的项（entry）以整数为键（key），从 1 到某个特定的 n，（稍后会讨论 n 是怎么计算的。）所有其他的项（包括整数键超出范围的）则保存在哈希部分。</p>\n<p class=\"line\">当 Lua 想在表中插入一个新的键值而哈希数组已满时，Lua 会做一次重新哈希（rehash）。重新哈希的第一步是决定新的数组部分和哈希部分的大小。所以 Lua 遍历所有的项，并加以计数和分类，然后取一个使数组部分用量过半的最大的 2 的指数值，作为数组部分的大小。而哈希部分的大小则是一个容得下剩余项（即那些不适合放在数组部分的项）的最小的 2 的指数值。</p>\n<p class=\"line\">当 Lua 创建一个空表时，数组部分和哈希部分的大小都是 0，因此也就没有为它们分配数组空间。看看如下代码运行时会发生些什么：</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-built_in\">local</span> a = {}\n\n<span class=\"hljs-keyword\">for</span> i = 1, 3 <span class=\"hljs-keyword\">do</span>\n\n  a[i] = <span class=\"hljs-literal\">true</span>\n\nend</code></pre><p class=\"line\">一开始创建一个空表。循环的第一次迭代时，赋值语句 a[1] = true 触发了一次重新哈希；Lua 将表中的数组部分大小设为 1，而哈希部分仍为空。循环的第二次迭代时，赋值语句 a[2] = true 又触发了一次重新哈希，现在，表中的数组部分大小为 2。最后，第三次迭代还是触发了一次重新哈希，数组部分的大小增至 4。</p>\n<p class=\"line\">像下面这样的代码：</p>\n<pre class=\"hljs makefile\"><code>a = {}\n\na.x = 1; a.y = 2; a.z = 3</code></pre><p class=\"line\">做的事情类似，大小增长的却是表的哈希部分。</p>\n<p class=\"line\">如果你用的是 Lua，可以通过构造器（constructors）来避免那些初始的重新哈希。当你写下 {true, true, true} 时，Lua 就会事先知道新表的数组部分需要 3 个空位，并创建一个相应大小的表。与此类似，当你写下 {x = 1, y = 2, z = 3} 时，Lua 就创建一个哈希部分包含 4 个空位的表。举例来说，下面的循环运行了 2.0 秒：</p>\n<pre class=\"hljs sql\"><code>for i = 1, 1000000 <span class=\"hljs-keyword\">do</span>\n\n  <span class=\"hljs-keyword\">local</span> a = {}\n\n  a[<span class=\"hljs-number\">1</span>] = <span class=\"hljs-number\">1</span>; a[2] = 2; a[3] = 3\n\n<span class=\"hljs-keyword\">end</span></code></pre><p class=\"line\">如果以正确的大小来创建这个表，运行时间就降到了 0.7 秒：</p>\n<pre class=\"hljs sql\"><code>for i = 1, 1000000 <span class=\"hljs-keyword\">do</span>\n\n  <span class=\"hljs-keyword\">local</span> a = {<span class=\"hljs-literal\">true</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-literal\">true</span>}\n\n  a[<span class=\"hljs-number\">1</span>] = <span class=\"hljs-number\">1</span>; a[2] = 2; a[3] = 3\n\n<span class=\"hljs-keyword\">end</span></code></pre><p class=\"line\">Lua为表的数组和哈希部分遍历提供了不同的接口。ipairs只能遍历表的数据部分,而pairs则可以遍历表中所有的Key(数组和哈希部分) 。</p>\n<p class=\"line\">当需要获得一个表的大小时。Lua中的#操作符实际上返回的是table中数据部分的大小。如果需要获取一个table中数据和哈希部分的总大小, 比较高效的做法是在table中添加一个size值, 在插入数据的时候+1, 在删除数据的时候-1。</p>\n<p class=\"line\">表的两个部分的大小只在表重新哈希时计算，而重新哈希只在表已全满而又需要插入新元素时才会发生。因此，当你遍历一个表并把个中元素逐一删除时（即设它们为 nil），表并不会缩小。你得往表里插些新的元素，然后表才会真正去调整大小。通常这不是一个问题：当你持续地删除和插入元素时（很多程序的典型情况），表的大小将保持稳定。所以，想要重表里删除一些数据来减少内存使用是不可能的。正确的做法是在表使用完以后, 让它 = nil或 = { } (一个新的table), 这样原来的table发现已经没有变量继续引用它, lua的内存回收机制就会GC的原来table的内存。</p>\n<h2 id=\"f140o8\" class=\"markdown-heading\"><a name=\"f140o8\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>字符串</h2><p class=\"line\">Lua 实现字符串的方式和大多数其他的脚本语言有两点重要的区别。其一，Lua 的字符串都是内化的（internalized）；这意味着字符串在 Lua 中都只有一份拷贝。每当一个新字符串出现时，Lua 会先检查这个字符串是否已经有一份拷贝，如果有，就重用这份拷贝。内化（internalization）使字符串比较及表索引这样的操作变得非常快，但是字符串的创建会变慢。</p>\n<p class=\"line\">其二，Lua 的字符串变量从来不会包含字符串本身，包含的只是字符串的引用。这种实现加快了某些字符串操作。</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-built_in\">local</span> strA = <span class=\"hljs-string\">\"aaa\"</span>\n\n<span class=\"hljs-built_in\">local</span> strB = strA</code></pre><p class=\"line\">而对 Lua 来说，对于这样的strB = strA赋值语句只不过复制了一个指向实际字符串的指针, 并不需要申请新的内存。</p>\n<p class=\"line\">当需要在字符串后添加新的内容时, Lua并不是直接把新的字符串添加到旧的字符串后面。由于Lua并没有提供字符串缓冲区, 所以实际上Lua生成了一个新的字符串, 并把原有内容和新内容拷贝到新字符串中。如果字符串很长，这一操作代价将非常高。例如用lua读取文本文件。</p>\n<p class=\"line\">我们可以通过使用一个显式的缓冲区的方式优化这类操作。例如以下循环读 5MB 的文件。Local t = {}这个临时表缓存了读取的文件的每行内容, 期间并不需要对字符串进行连接操作。当文件读取完毕后使用table.concat 对t数组中的字符串进行连接, 由于concat函数对字符串连接进行了优化，即使进行大量的连接操作，也不会消耗多少时间。</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-built_in\">local</span> t = {}\n\n<span class=\"hljs-keyword\">for</span> line <span class=\"hljs-keyword\">in</span> io.lines() <span class=\"hljs-keyword\">do</span>\n\n  t[<span class=\"hljs-comment\">#t + 1] = line</span>\n\nend\n\ns = table.concat(t, <span class=\"hljs-string\">\"\\n\"</span>)</code></pre><h2 id=\"kzavv\" class=\"markdown-heading\"><a name=\"kzavv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>lua和C++之间相互调用</h2><p class=\"line\">Lua和C++ 的交互机制的基础在于Lua提供了一个虚拟栈，C++ 和Lua之间的所有类型的数据交换都通过这个栈完成。无论何时C++想从Lua中调用一个值，被请求的值将会被压入栈，无论何时C++想要传递一个值给Lua，首先将整个值压栈，然后就可以在Lua中调用。由于这种跨语言调用要比语言内自己调用慢。 所以好的C++或Lua接口是减少这种相互调用的次数。例如lua需要调用C++的一个接口获取排行榜前100的玩家ID</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-built_in\">local</span> playerID = {}\n\n<span class=\"hljs-keyword\">for</span> i = 1, 100 <span class=\"hljs-keyword\">do</span>\n\n  playerID[i] = rank.GetRank(i)                -- C++接口, 获取某个排名的玩家ID\n\nend</code></pre><blockquote class=\"default\">\n<p class=\"line\">以上这种写法会使Lua调用100次C++ 的函数, 而好的写法是只调用一次C++接口,并返回排名100的玩家ID。<br><strong>local</strong> playerID = rank.GetRank(1, 100) **       ** – C++接口, 获取某个指定范围内的玩家ID</p>\n</blockquote>\n<h2 id=\"537hno\" class=\"markdown-heading\"><a name=\"537hno\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>减少，重用</h2><p class=\"line\">减少（reduce）是最简单的一种途径。有几种方法可以避免创建对象。例如，如果你的程序使用了大量的表，或许可以考虑改变它的数据表示。举个简单的例子，假如你的程序需要处理折线（polyline）。在 Lua 里，折线最自然的表示是使用一个点的列表，像这样：</p>\n<pre class=\"hljs makefile\"><code>polyline = {\n\n  { x = 10.3, y = 98.5 },\n\n  { x = 10.3, y = 18.3 },\n\n  { x = 15.0, y = 98.5 },\n\n  ...\n\n}</code></pre><p class=\"line\">这种表示虽然自然，折线较大时却不经济，因为每个点都要用一个表。下面这种表示改用数组，内存略为节省：</p>\n<pre class=\"hljs makefile\"><code>polyline = {\n\n  { 10.3, 98.5 },\n\n  { 10.3, 18.3 },\n\n  { 15.0, 98.5 },\n\n  ...\n\n}</code></pre><p class=\"line\">对于一条有一百万个点的折线，这种改变使内存用量从 95KB 降到 65KB。当然，作为代价，程序的可读性有所损失：<code>p[i].x</code> 要比 <code>p[i][4]</code> 易懂得多。</p>\n<p class=\"line\">还有一个更经济的方法，用两个列表，一个存 x 坐标的值，一个存 y 坐标的值：</p>\n<pre class=\"hljs makefile\"><code>polyline = {\n\n  x = { 10.3, 10.3, 15.0, ...},\n\n  y = { 98.5, 18.3, 98.5, ...}\n\n}</code></pre><p class=\"line\">之前的 <code>p[i].x</code> 现在就是 <code>p.x[i]</code>。使用这种方式，一条有一百万个点的折线只需 24KB 的内存。</p>\n<p class=\"line\">循环是寻找降低不必要资源创建的好地方。例如，如果在循环中创建了一个常量的（constant）表，便可以把表移到循环之外，或者甚至可以移到外围函数之外。比较如下两段代码：</p>\n<pre class=\"hljs sql\"><code>function foo(...)\n\n  for i = 1, n <span class=\"hljs-keyword\">do</span>\n\n    <span class=\"hljs-keyword\">local</span> t = {<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-string\">\"hi\"</span>}\n\n    <span class=\"hljs-comment\">-- 做一些不改变 t 的操作</span>\n\n    ...\n\n  <span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-keyword\">local</span> t = {<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-string\">\"hi\"</span>} <span class=\"hljs-comment\">-- 一次性地创建 t</span>\n\n<span class=\"hljs-keyword\">function</span> foo(...)\n\n  <span class=\"hljs-keyword\">for</span> i = <span class=\"hljs-number\">1</span>, n <span class=\"hljs-keyword\">do</span>\n\n    <span class=\"hljs-comment\">-- 做一些不改变 t 的操作</span>\n\n    ...\n\n  <span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-keyword\">end</span></code></pre><p class=\"line\">很多字符串的处理，都可以通过在现有字符串上使用下标，来避免创建不必要的新字符串。例如，函数 string.find 返回的是给定模式出现的位置，而不是一个与之匹配的字符串。返回下标，就避免了在成功匹配时创建一个新的（子）字符串。若有需要，可以再通过函数 string.sub 来获取匹配的子字符串。</p>\n<p class=\"line\">即使不能避免使用新的对象，也可以通过 <strong>重用（reuse）</strong> 来避免创建新的对象。对字符串来说，重用是没有必要的，因为 Lua 已经替我们这样做了：所有的字符串都是内化的（internalized），因此只要可能就会重用。对表来说，重用就显得卓有成效了。举一个常见的例子，让我们回到在循环内创建表的情况。不同的是，这次的表是可变的（not constant）。不过，往往只需简单的改变内容，还是可以在所有的迭代中重用同一个表的。考虑以下代码：</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-built_in\">local</span> t = {}\n\n<span class=\"hljs-keyword\">for</span> i = 1970, 2000 <span class=\"hljs-keyword\">do</span>\n\n  t[i] = os.time({year = i, month = 6, day = 14})\n\nend</code></pre><p class=\"line\">以下代码与之等价，但是重用了表：</p>\n<pre class=\"hljs bash\"><code><span class=\"hljs-built_in\">local</span> t = {}\n\n<span class=\"hljs-built_in\">local</span> aux = {year = nil, month = 6, day = 14}\n\n<span class=\"hljs-keyword\">for</span> i = 1970, 2000 <span class=\"hljs-keyword\">do</span>\n\n  aux.year = i\n\n  t[i] = os.time(aux)\n\nend</code></pre><p class=\"line\">实现重用的一种特别有效的方法是记忆化（memoizing）。基本想法非常简单：对于一个给定的输入，保存其计算结果，当遇到同样的输入时，程序只需重用之前保存的结果。</p>\n<h2 id=\"fe2983\" class=\"markdown-heading\"><a name=\"fe2983\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>结语</h2><p class=\"line\">我们应该在写代码时,按照高标准去写,尽量避免在事后进行优化。</p>\n','2019-09-17 22:58:18',2,'2019-09-18 15:02:34',2,1568790151,0),(22,'魔力2项目客户端修改汇总','qiyuan-1bhbnu6n62lb0',3,0,2,'# 魔力2项目客户端修改汇总\n\n## 1．脚本目录分类\n\n* 脚本目录interface合并到script目录\n\n| 目录 | 功能 |\n| -- | -- |\n| `script/interface` | 以前的界面文件，存放ui界面脚本文件 |\n| `script/frame` | 存放其他的frame脚本文件，比如scene，main_frame，play_session等等 |\n| `script/base` | 存放通用模块和基础模块脚本|\n| `script/attribute` | 存放属性计算模块脚本 |\n| `script/combat` | 存放战斗逻辑模块脚本 |\n| `script/database` | 存放数据，容器等存储数据相关的模块脚本 |\n| `script/define` | 存放枚举常量申明模块脚本 |\n| `script/editor` | 存放编辑器相关脚本 |\n| `script/netcmd` | 存放消息处理接口模块脚本 |\n| `script/util` | 存放方法模块脚本 |\n| `script/wnd` | 存放界面控件模块脚本 |\n\n>[danger]interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。\n\n>[danger]添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。\n\n## 2．VWnd增加模块机制\n\n- VWnd增加了字段TemplateName和TemplateModule。\n\n- TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；\n\n- TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。\n\n- C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()\n\n- UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。\n\n- 模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等\n\n- UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。\n\n## 3.  UIFrame增加显示属性，方便显示隐藏\n\n- VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。\n\n- 没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。\n\n- 如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏\n\n- 如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体\n\n## 4.     场景下的管理器改成了Frame\n\n场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多\n\n| 管理器 | 功能 |\n| -- | -- |\n| `EffectManager` | 特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题 |\n| `EntityManager` | 实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便 |\n| `MovieManager` | 过场动画管理器，播放和管理过场动画 |\n| `BattleManager `| 战场管理器，管理战场的状态，把战场的统一状态从ai\\_hero里拿了出来，|\n| `PathManager,TriggerManager` | 路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理 |\n\n脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。\n\n## 5.                xml读取优化\n\n现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个`_`，比如`_name`\n\nmain_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为\n\n```\n{ path = _S.PATH_GLOBAL,    name = \"hero_entry.xml\",     sub = \"entity_entry.xml\" },\n```\n\n当然附加表可能有多个，那么久用逗号隔开就好了\n\n```\nsub = \"entity_entry.xml,monster_entry.xml\"\n```\n\n## 6.                修改刷新机制\n\n- UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。\n\n- 当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题\n\n- RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh\n\n- 直接设置UIFrame刷新\n\n## 7.                UIFrame可以分出单元框架UnitFrame\n\n- UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。\n\n- 打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut\\_开头，和ui区分开，脚本也放在script/interface/下面\n\n- UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。','<article class=\"markdown-article-inner\"><h1 id=\"7tava7\" class=\"markdown-heading\"><a name=\"7tava7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"7qjyhl\" class=\"markdown-heading\"><a name=\"7qjyhl\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"2e3q2f\" class=\"markdown-heading\"><a name=\"2e3q2f\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"9bog3p\" class=\"markdown-heading\"><a name=\"9bog3p\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.  UIFrame增加显示属性，方便显示隐藏</h2><ul>\n<li><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n</li><li><p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n</li><li><p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n</li><li><p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n</li></ul>\n<h2 id=\"fngdjv\" class=\"markdown-heading\"><a name=\"fngdjv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.     场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<table>\n<thead>\n<tr>\n<th>管理器</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>EffectManager</code></td>\n<td>特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</td>\n</tr>\n<tr>\n<td><code>EntityManager</code></td>\n<td>实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</td>\n</tr>\n<tr>\n<td><code>MovieManager</code></td>\n<td>过场动画管理器，播放和管理过场动画</td>\n</tr>\n<tr>\n<td><code>BattleManager</code></td>\n<td>战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</td>\n</tr>\n<tr>\n<td><code>PathManager,TriggerManager</code></td>\n<td>路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</td>\n</tr>\n</tbody></table>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"cnuff2\" class=\"markdown-heading\"><a name=\"cnuff2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个<code>_</code>，比如<code>_name</code></p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<pre class=\"hljs bash\"><code>{ path = _S.PATH_GLOBAL,    name = <span class=\"hljs-string\">&#34;hero_entry.xml&#34;</span>,     sub = <span class=\"hljs-string\">&#34;entity_entry.xml&#34;</span> },</code></pre><p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<pre class=\"hljs ini\"><code><span class=\"hljs-attr\">sub</span> = <span class=\"hljs-string\">&#34;entity_entry.xml,monster_entry.xml&#34;</span></code></pre><h2 id=\"8kry9l\" class=\"markdown-heading\"><a name=\"8kry9l\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><ul>\n<li><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n</li><li><p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n</li><li><p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n</li><li><p class=\"line\">直接设置UIFrame刷新</p>\n</li></ul>\n<h2 id=\"7ofk6d\" class=\"markdown-heading\"><a name=\"7ofk6d\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><ul>\n<li><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n</li><li><p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n</li><li><p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n</li></ul><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-18 15:44   作者：万韬</div></article>','<h1 id=\"7tava7\" class=\"markdown-heading\"><a name=\"7tava7\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目客户端修改汇总</h1><h2 id=\"7qjyhl\" class=\"markdown-heading\"><a name=\"7qjyhl\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1．脚本目录分类</h2><ul>\n<li>脚本目录interface合并到script目录</li></ul>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>script/interface</code></td>\n<td>以前的界面文件，存放ui界面脚本文件</td>\n</tr>\n<tr>\n<td><code>script/frame</code></td>\n<td>存放其他的frame脚本文件，比如scene，main_frame，play_session等等</td>\n</tr>\n<tr>\n<td><code>script/base</code></td>\n<td>存放通用模块和基础模块脚本</td>\n</tr>\n<tr>\n<td><code>script/attribute</code></td>\n<td>存放属性计算模块脚本</td>\n</tr>\n<tr>\n<td><code>script/combat</code></td>\n<td>存放战斗逻辑模块脚本</td>\n</tr>\n<tr>\n<td><code>script/database</code></td>\n<td>存放数据，容器等存储数据相关的模块脚本</td>\n</tr>\n<tr>\n<td><code>script/define</code></td>\n<td>存放枚举常量申明模块脚本</td>\n</tr>\n<tr>\n<td><code>script/editor</code></td>\n<td>存放编辑器相关脚本</td>\n</tr>\n<tr>\n<td><code>script/netcmd</code></td>\n<td>存放消息处理接口模块脚本</td>\n</tr>\n<tr>\n<td><code>script/util</code></td>\n<td>存放方法模块脚本</td>\n</tr>\n<tr>\n<td><code>script/wnd</code></td>\n<td>存放界面控件模块脚本</td>\n</tr>\n</tbody></table>\n<blockquote class=\"danger\">\n<p class=\"line\">interface和frame存放的是frame的脚本文件，其他目录存放的是module，所有这两个目录存放的脚本不能错，不然C++读脚本会找不到。</p>\n</blockquote>\n<blockquote class=\"danger\">\n<p class=\"line\">添加新的目录需要在base/global_function.lua中的f_script_dir增加，不然require的时候会取不到。</p>\n</blockquote>\n<h2 id=\"2e3q2f\" class=\"markdown-heading\"><a name=\"2e3q2f\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2．VWnd增加模块机制</h2><ul>\n<li><p class=\"line\">VWnd增加了字段TemplateName和TemplateModule。</p>\n</li><li><p class=\"line\">TemplateName=wnd_simple模板名称，对应相应名字的ui/wnd_simple.xml和scirpt/wnd/wnd_simple.lua；</p>\n</li><li><p class=\"line\">TemplateModule=wnd_simple模板脚本名称 ，对应相应名字的script/wnd/wnd_simple.lua。</p>\n</li><li><p class=\"line\">C++在创建VWnd的userdata的时候，可以直接创建相应的脚本模块，优先取TemplateModule，没有则取TemplateName。在脚本中通过NickName得到的VWnd实体直接会变成wnd_simple，可以用它的脚本函数，如果要用VWnd的函数接口比如GetID()，可以取self(VWnd实体)，并使用wnd_simple.self:GetID()</p>\n</li><li><p class=\"line\">UI编辑器中可以通过import和export导入或导出一个模板，模板在引用的时候只会记录模板主VWnd的少数修改信息，其他修改都无效，需要统一修改模板的xml进行，模板可以嵌套使用。</p>\n</li><li><p class=\"line\">模板脚本和模板是各自独立的，有些控件没有被导出成为模板也一样可以设置模板脚本，可以生产脚本模块，使用模块中的脚本，并且模块脚本之间是可以继承的。现在有一些通用界面控件模块可以使用，wnd_bag，wnd_list，wnd_icon，wnd_text等等</p>\n</li><li><p class=\"line\">UI编辑器打开ui文件后可以通过控制台，输入cs创建相应脚本框架，这是以前的功能。现在打开wnd文件后，输入cw可以自动生成控件模块脚本框架，如果再加上一个现有的控件模块名，可以继承该模块名，比如 cw wnd_simple。</p>\n</li></ul>\n<h2 id=\"9bog3p\" class=\"markdown-heading\"><a name=\"9bog3p\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.  UIFrame增加显示属性，方便显示隐藏</h2><ul>\n<li><p class=\"line\">VWindow中增加属性IsMainWindow，如果设置为true，则其对应UIFrame为主窗口，创建时会将之前的窗口自动隐藏，关闭该窗体时又会将之前的窗体自动显示，窗体显示时会调用脚本接口OnPageFront，隐藏时会调用脚本接口OnPageBack。</p>\n</li><li><p class=\"line\">没有设置的UIFrame会被定义为SubFrame，显示隐藏规则会绑定到上一个主窗口，和主窗口一起显示隐藏。</p>\n</li><li><p class=\"line\">如果想要一个UIFrame脱离这个显示隐藏规则，可以通过UIFrame的脚本接口SetAllwaysVisible(true)来设置，这样界面将始终显示，除非自己设置显示隐藏</p>\n</li><li><p class=\"line\">如果想返回更早以前的UIFrame，可以调用该UIframe的脚本接口ForcePageFront，这样将直接显示该窗体，并删除之前的主窗体</p>\n</li></ul>\n<h2 id=\"fngdjv\" class=\"markdown-heading\"><a name=\"fngdjv\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.     场景下的管理器改成了Frame</h2><p class=\"line\">场景下的管理器改为Frame后，脚本可以动态加载管理器，必要的时候还可以通过脚本扩展，会方便很多</p>\n<table>\n<thead>\n<tr>\n<th>管理器</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>EffectManager</code></td>\n<td>特效管理器，现在特效管理器附属Scene，可以避免场景关闭后特效没有释放报错的问题</td>\n</tr>\n<tr>\n<td><code>EntityManager</code></td>\n<td>实体管理器，在entity和scene中间加了一层，可以减少scene的一些功能，获取实体列表更方便</td>\n</tr>\n<tr>\n<td><code>MovieManager</code></td>\n<td>过场动画管理器，播放和管理过场动画</td>\n</tr>\n<tr>\n<td><code>BattleManager</code></td>\n<td>战场管理器，管理战场的状态，把战场的统一状态从ai_hero里拿了出来，</td>\n</tr>\n<tr>\n<td><code>PathManager,TriggerManager</code></td>\n<td>路径管理器和触发器管理器，用于播放路径和路径中播放触发器的管理</td>\n</tr>\n</tbody></table>\n<p class=\"line\">脚本接口也做了相应分类，都从scene里面拿了出来，根据管理器分类，scene可以获取到管理器的userdata，摄像机的脚本接口也分了出来。</p>\n<h2 id=\"cnuff2\" class=\"markdown-heading\"><a name=\"cnuff2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.                xml读取优化</h2><p class=\"line\">现在xml读取时会自动把字段转换成数字，所以字符串类型的字段需要特殊的命名，前面要加一个<code>_</code>，比如<code>_name</code></p>\n<p class=\"line\">main_frame.lua的增加新的字段sub，附属表，可以和主表合二为一，一些表要合并在一起的问题，比如hero_entry.xml和entity_entry.xml会合在一起，就可以写为</p>\n<pre class=\"hljs bash\"><code>{ path = _S.PATH_GLOBAL,    name = <span class=\"hljs-string\">\"hero_entry.xml\"</span>,     sub = <span class=\"hljs-string\">\"entity_entry.xml\"</span> },</code></pre><p class=\"line\">当然附加表可能有多个，那么久用逗号隔开就好了</p>\n<pre class=\"hljs ini\"><code><span class=\"hljs-attr\">sub</span> = <span class=\"hljs-string\">\"entity_entry.xml,monster_entry.xml\"</span></code></pre><h2 id=\"8kry9l\" class=\"markdown-heading\"><a name=\"8kry9l\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.                修改刷新机制</h2><ul>\n<li><p class=\"line\">UIFrame注册事件增加新脚本接口RegRefreshEvent，并增加函数调用Refresh，以后涉及到界面刷新的事件都用RegRefreshEvent注册，然后刷新界面的实现写在Refresh中。</p>\n</li><li><p class=\"line\">当收到事件时会调用DoEventRefresh，只是设置一个需要刷新的标志位，到所有Frame都处理完Update之后，会统一调用一次Refresh，这样可以使界面刷新在同一帧只调用一次，避免接收刷新事件过多，处理逻辑过多导致游戏卡顿的问题</p>\n</li><li><p class=\"line\">RegRefreshEvent做了接口，可以和RegGameEvent一样的用法，UIFrame增加接口SetRefresh</p>\n</li><li><p class=\"line\">直接设置UIFrame刷新</p>\n</li></ul>\n<h2 id=\"7ofk6d\" class=\"markdown-heading\"><a name=\"7ofk6d\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.                UIFrame可以分出单元框架UnitFrame</h2><ul>\n<li><p class=\"line\">UIFrame脚本可以分成多个子单元，每个单元自己处理自己的UI事件，刷新等等，这样可以使一个ui脚本瘦身，刷新也可以分单元来刷新，避免刷新内容过多。</p>\n</li><li><p class=\"line\">打开ui编辑器，VWnd增加了一个属性UnitFrameName，单元框架名，这个名字对应一个脚本，所以不能重复，脚本已ut_开头，和ui区分开，脚本也放在script/interface/下面</p>\n</li><li><p class=\"line\">UnitFrame继承自UIFrame，所以函数接口基本一致，可以作为UIFrame的一个子frame来看待，可以注册UI事件，游戏事件，刷新事件，网络消息等，UI事件可以处理VWnd及其以下的所有Wnd的事件，并且NickName也可以在UnitFrame中直接使用。</p>\n</li></ul>\n','2019-09-18 15:32:05',2,'2019-09-18 15:50:04',2,1568792684,0),(23,'魔力2项目控件通用模块说明','qiyuan-1bhbonj815u8o',3,0,3,'# 魔力2项目控件通用模块说明\n\n| 模块 | 功能 |\n| -- | -- |\n| `wnd_list` | 控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件 |\n| `wnd_bag` | 控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建, 如果有行数固定列数不固定的需要扩展 |\n| `wnd_icon` | 带品质框的图标控件，支持传入图标文件和品质框文件显示图片 |\n| `wnd_text` | 普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等 |\n| `wnd_text_misc` | 显示转移符的文字，会根据控件类型来判断判断转义文字, 默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色 |\n| `wnd_model` | 显示模型通用控件，可以传入模型id和类型来显示模型, 类型是指在display_model表中会有一些动作，位置，摄像机等信息，比如prepare_anim=\"\"，然后类型就是prepare |\n| `wnd_number` | 显示数量，可以显示最大值, 可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示, 调用时如果传入最大值和最小值，则需要计算数值不使其越界 |\n| `wnd_att_value` | 显示属性，输入属性类型，值，和附加值，根据控件配置显示属性 |','<article class=\"markdown-article-inner\"><h1 id=\"gbhbdz\" class=\"markdown-heading\"><a name=\"gbhbdz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目控件通用模块说明</h1><table>\n<thead>\n<tr>\n<th>模块</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>wnd_list</code></td>\n<td>控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件</td>\n</tr>\n<tr>\n<td><code>wnd_bag</code></td>\n<td>控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建, 如果有行数固定列数不固定的需要扩展</td>\n</tr>\n<tr>\n<td><code>wnd_icon</code></td>\n<td>带品质框的图标控件，支持传入图标文件和品质框文件显示图片</td>\n</tr>\n<tr>\n<td><code>wnd_text</code></td>\n<td>普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等</td>\n</tr>\n<tr>\n<td><code>wnd_text_misc</code></td>\n<td>显示转移符的文字，会根据控件类型来判断判断转义文字, 默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色</td>\n</tr>\n<tr>\n<td><code>wnd_model</code></td>\n<td>显示模型通用控件，可以传入模型id和类型来显示模型, 类型是指在display_model表中会有一些动作，位置，摄像机等信息，比如prepare_anim=””，然后类型就是prepare</td>\n</tr>\n<tr>\n<td><code>wnd_number</code></td>\n<td>显示数量，可以显示最大值, 可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示, 调用时如果传入最大值和最小值，则需要计算数值不使其越界</td>\n</tr>\n<tr>\n<td><code>wnd_att_value</code></td>\n<td>显示属性，输入属性类型，值，和附加值，根据控件配置显示属性</td>\n</tr>\n</tbody></table><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-18 15:50   作者：万韬</div></article>','<h1 id=\"gbhbdz\" class=\"markdown-heading\"><a name=\"gbhbdz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>魔力2项目控件通用模块说明</h1><table>\n<thead>\n<tr>\n<th>模块</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>wnd_list</code></td>\n<td>控件列表，可以传入一个list数据，根据数据大小显示一个列表，可以自动创建子控件</td>\n</tr>\n<tr>\n<td><code>wnd_bag</code></td>\n<td>控件背包，和wnd_list类似，但是有行列，现在暂时只支持固定列数，行数是不固定的，可以自动创建, 如果有行数固定列数不固定的需要扩展</td>\n</tr>\n<tr>\n<td><code>wnd_icon</code></td>\n<td>带品质框的图标控件，支持传入图标文件和品质框文件显示图片</td>\n</tr>\n<tr>\n<td><code>wnd_text</code></td>\n<td>普通的文字显示，传入文字，颜色，阴影颜色显示文字，可以增加接口用来适应显示英雄名称等等</td>\n</tr>\n<tr>\n<td><code>wnd_text_misc</code></td>\n<td>显示转移符的文字，会根据控件类型来判断判断转义文字, 默认浅色底板有颜色，可以根据配置扩展为深色底板或者没有颜色</td>\n</tr>\n<tr>\n<td><code>wnd_model</code></td>\n<td>显示模型通用控件，可以传入模型id和类型来显示模型, 类型是指在display_model表中会有一些动作，位置，摄像机等信息，比如prepare_anim=””，然后类型就是prepare</td>\n</tr>\n<tr>\n<td><code>wnd_number</code></td>\n<td>显示数量，可以显示最大值, 可以配置最大值控件路径，如果配置了则会显示最大值，没有则不会显示, 调用时如果传入最大值和最小值，则需要计算数值不使其越界</td>\n</tr>\n<tr>\n<td><code>wnd_att_value</code></td>\n<td>显示属性，输入属性类型，值，和附加值，根据控件配置显示属性</td>\n</tr>\n</tbody></table>\n','2019-09-18 15:46:38',2,'2019-09-18 15:50:04',2,1568793001,0),(24,'空白文档','maintenance_common-1bhecq1dcatg0',7,0,1,'','','','2019-09-19 17:27:20',2,'2019-09-19 17:27:20',0,1568885240,0),(25,'常用gm命令','quality_tester_common-1bhgg0ca5cl78',6,0,0,'# gm命令\n\n- [1.调等级](#page1)\n- [2.调货币、代币](#page2)\n- [3.调关](#page3)\n- [4.调物品、装备、宝物](#page4)\n- [5.调碎片](#page5)\n- [6.调体力，耐力](#page6)\n- [7.调英雄](#page7)\n- [8.帮会相关](#page8)\n\n[](@page1)\n## 1.调等级\n\n* gm level `参数1`\n\n>[success]参数1：等级（不能超过100）\n\n\n[](@page2)\n## 2.调货币、代币\n\n* gm money `参数1` `参数2`\n\n>[success]参数1：\n0  --金币\n1  --钻石\n2  --英魂\n3  --魂玉\n4  --荣誉\n5  --奇迹之力\n6  --圣能\n\n>[success]参数2：货币数量\n\n[](@page3)\n## 3.调关\n\n* gm stage pass `参数1` `0`\n\n* gm stage pass all 跳过所有关卡\n\n>[success]参数1：关卡ID（可从stage\\_client表中查找）\n\n\n[](@page4)\n## 4.调物品、装备、宝物\n\n* gm item `参数1` `参数2`\n\n>[success]参数1: 物品ID（可从item\\_client表中查找）\n\n>[success]参数2：物品数量\n\n\n[](@page5)\n## 5.调碎片\n\n* gm  equip  chip  `参数1` `参数2`    （可从equip_chip表中查找）\n\n* gm  amulet  chip  `参数1` `参数2`  （可从amulet_chip表中查找）\n\n>[success]参数1：碎片ID\n\n>[success]参数2：物品数量\n\n\n[](@page6)\n## 6.调体力，耐力\n\n* gm  thew   `XX`  体力 // 负值为减少体力\n\n* gm  stamina  `XX`  耐力// 负值为减少耐力\n\n\n[](@page7)\n## 7.调英雄\n\n* gm  hero  add `英雄ID` （可从entity_client 表中查找）\n\n\n\n\n[](@page8)\n## 8.帮会相关\n\n * gm guild apply `名称`   （申请加入公会）\n\n * gm guild create `名称` （创建公会）\n\n* gm guild fund `xxxxx`      添加公会资金\n\n* gm guild build `xxxxx`      添加帮会建设度\n\n* gm guild contribution `xxx`     帮贡\n\n# VIP\n\n* gm  vip  `XXX`  （XXX=充值钻石数量）\n\n# 爬塔\n\n* gm tower pass  `层数`\n\n# 奇物\n\n gm card `参数1` `参数2`\n\n>[success]参数1 :奇物id\n\n>[success]参数2:数量\n\n# 加速\n\n* speed 1-10\n\n* gm seal pass `XX`  封印之地通关\n\n* gm kingsea win `n`  王者之战直接晋级\n\n* gm syntime  //添加一个同步服务器时间命令，方便测试\n\n* gm equip_promote    增加武器头盔盔甲项链  突破到顶级所需要的材料\n\n* gm guild vitality `XXX`  同时增加个人和公会活跃度\n\n* gm guild exploit  `XXXX`  增加军团功勋\n\n* gm guild attackboss `0` 直接打最后一个公会boss\n\n* gm mail send `1` `1`   增加邮件\n\n* gm favor hero_typeid `XXXXX`   给英雄增加好感度\n\n* gm favor_quest_step `XXX`   直接设置任务进度','<article class=\"markdown-article-inner\"><h1 id=\"g1bg34\" class=\"markdown-heading\"><a name=\"g1bg34\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>gm命令</h1><ul>\n<li><a href=\"#page1\">1.调等级</a></li><li><a href=\"#page2\">2.调货币、代币</a></li><li><a href=\"#page3\">3.调关</a></li><li><a href=\"#page4\">4.调物品、装备、宝物</a></li><li><a href=\"#page5\">5.调碎片</a></li><li><a href=\"#page6\">6.调体力，耐力</a></li><li><a href=\"#page7\">7.调英雄</a></li><li><a href=\"#page8\">8.帮会相关</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"eede9\" class=\"markdown-heading\"><a name=\"eede9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.调等级</h2><ul>\n<li>gm level <code>参数1</code></li></ul>\n<blockquote class=\"success\">\n<p class=\"line\">参数1：等级（不能超过100）</p>\n</blockquote>\n<p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"dgf00s\" class=\"markdown-heading\"><a name=\"dgf00s\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.调货币、代币</h2><ul>\n<li>gm money <code>参数1</code> <code>参数2</code></li></ul>\n<blockquote class=\"success\">\n<p class=\"line\">参数1：<br/>0  –金币<br/>1  –钻石<br/>2  –英魂<br/>3  –魂玉<br/>4  –荣誉<br/>5  –奇迹之力<br/>6  –圣能</p>\n</blockquote>\n<blockquote class=\"success\">\n<p class=\"line\">参数2：货币数量</p>\n</blockquote>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"7fkpg4\" class=\"markdown-heading\"><a name=\"7fkpg4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.调关</h2><ul>\n<li><p class=\"line\">gm stage pass <code>参数1</code> <code>0</code></p>\n</li><li><p class=\"line\">gm stage pass all 跳过所有关卡</p>\n</li></ul>\n<blockquote class=\"success\">\n<p class=\"line\">参数1：关卡ID（可从stage_client表中查找）</p>\n</blockquote>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"f35ey2\" class=\"markdown-heading\"><a name=\"f35ey2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.调物品、装备、宝物</h2><ul>\n<li>gm item <code>参数1</code> <code>参数2</code></li></ul>\n<blockquote class=\"success\">\n<p class=\"line\">参数1: 物品ID（可从item_client表中查找）</p>\n</blockquote>\n<blockquote class=\"success\">\n<p class=\"line\">参数2：物品数量</p>\n</blockquote>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"6g942k\" class=\"markdown-heading\"><a name=\"6g942k\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.调碎片</h2><ul>\n<li><p class=\"line\">gm  equip  chip  <code>参数1</code> <code>参数2</code>    （可从equip_chip表中查找）</p>\n</li><li><p class=\"line\">gm  amulet  chip  <code>参数1</code> <code>参数2</code>  （可从amulet_chip表中查找）</p>\n</li></ul>\n<blockquote class=\"success\">\n<p class=\"line\">参数1：碎片ID</p>\n</blockquote>\n<blockquote class=\"success\">\n<p class=\"line\">参数2：物品数量</p>\n</blockquote>\n<p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"5w0alx\" class=\"markdown-heading\"><a name=\"5w0alx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.调体力，耐力</h2><ul>\n<li><p class=\"line\">gm  thew   <code>XX</code>  体力 // 负值为减少体力</p>\n</li><li><p class=\"line\">gm  stamina  <code>XX</code>  耐力// 负值为减少耐力</p>\n</li></ul>\n<p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"4ikjvz\" class=\"markdown-heading\"><a name=\"4ikjvz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.调英雄</h2><ul>\n<li>gm  hero  add <code>英雄ID</code> （可从entity_client 表中查找）</li></ul>\n<p class=\"line\"><a name=\"page8\"></a></p>\n<h2 id=\"e3wj24\" class=\"markdown-heading\"><a name=\"e3wj24\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>8.帮会相关</h2><ul>\n<li><p class=\"line\">gm guild apply <code>名称</code>   （申请加入公会）</p>\n</li><li><p class=\"line\">gm guild create <code>名称</code> （创建公会）</p>\n</li></ul>\n<ul>\n<li><p class=\"line\">gm guild fund <code>xxxxx</code>      添加公会资金</p>\n</li><li><p class=\"line\">gm guild build <code>xxxxx</code>      添加帮会建设度</p>\n</li><li><p class=\"line\">gm guild contribution <code>xxx</code>     帮贡</p>\n</li></ul>\n<h1 id=\"1oh05k\" class=\"markdown-heading\"><a name=\"1oh05k\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>VIP</h1><ul>\n<li>gm  vip  <code>XXX</code>  （XXX=充值钻石数量）</li></ul>\n<h1 id=\"gg2qjg\" class=\"markdown-heading\"><a name=\"gg2qjg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>爬塔</h1><ul>\n<li>gm tower pass  <code>层数</code></li></ul>\n<h1 id=\"8nbajt\" class=\"markdown-heading\"><a name=\"8nbajt\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>奇物</h1><p class=\"line\"> gm card <code>参数1</code> <code>参数2</code></p>\n<blockquote class=\"success\">\n<p class=\"line\">参数1 :奇物id</p>\n</blockquote>\n<blockquote class=\"success\">\n<p class=\"line\">参数2:数量</p>\n</blockquote>\n<h1 id=\"3vd6q4\" class=\"markdown-heading\"><a name=\"3vd6q4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>加速</h1><ul>\n<li><p class=\"line\">speed 1-10</p>\n</li><li><p class=\"line\">gm seal pass <code>XX</code>  封印之地通关</p>\n</li><li><p class=\"line\">gm kingsea win <code>n</code>  王者之战直接晋级</p>\n</li><li><p class=\"line\">gm syntime  //添加一个同步服务器时间命令，方便测试</p>\n</li><li><p class=\"line\">gm equip_promote    增加武器头盔盔甲项链  突破到顶级所需要的材料</p>\n</li><li><p class=\"line\">gm guild vitality <code>XXX</code>  同时增加个人和公会活跃度</p>\n</li><li><p class=\"line\">gm guild exploit  <code>XXXX</code>  增加军团功勋</p>\n</li><li><p class=\"line\">gm guild attackboss <code>0</code> 直接打最后一个公会boss</p>\n</li><li><p class=\"line\">gm mail send <code>1</code> <code>1</code>   增加邮件</p>\n</li><li><p class=\"line\">gm favor hero_typeid <code>XXXXX</code>   给英雄增加好感度</p>\n</li><li><p class=\"line\">gm favor_quest_step <code>XXX</code>   直接设置任务进度</p>\n</li></ul><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-20 14:13   作者：万韬</div></article>','<h1 id=\"g1bg34\" class=\"markdown-heading\"><a name=\"g1bg34\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>gm命令</h1><ul>\n<li><a href=\"#page1\">1.调等级</a></li><li><a href=\"#page2\">2.调货币、代币</a></li><li><a href=\"#page3\">3.调关</a></li><li><a href=\"#page4\">4.调物品、装备、宝物</a></li><li><a href=\"#page5\">5.调碎片</a></li><li><a href=\"#page6\">6.调体力，耐力</a></li><li><a href=\"#page7\">7.调英雄</a></li><li><a href=\"#page8\">8.帮会相关</a></li></ul>\n<p class=\"line\"><a name=\"page1\"></a></p>\n<h2 id=\"eede9\" class=\"markdown-heading\"><a name=\"eede9\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>1.调等级</h2><ul>\n<li>gm level <code>参数1</code></li></ul>\n<blockquote class=\"success\">\n<p class=\"line\">参数1：等级（不能超过100）</p>\n</blockquote>\n<p class=\"line\"><a name=\"page2\"></a></p>\n<h2 id=\"dgf00s\" class=\"markdown-heading\"><a name=\"dgf00s\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>2.调货币、代币</h2><ul>\n<li>gm money <code>参数1</code> <code>参数2</code></li></ul>\n<blockquote class=\"success\">\n<p class=\"line\">参数1：<br>0  –金币<br>1  –钻石<br>2  –英魂<br>3  –魂玉<br>4  –荣誉<br>5  –奇迹之力<br>6  –圣能</p>\n</blockquote>\n<blockquote class=\"success\">\n<p class=\"line\">参数2：货币数量</p>\n</blockquote>\n<p class=\"line\"><a name=\"page3\"></a></p>\n<h2 id=\"7fkpg4\" class=\"markdown-heading\"><a name=\"7fkpg4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>3.调关</h2><ul>\n<li><p class=\"line\">gm stage pass <code>参数1</code> <code>0</code></p>\n</li><li><p class=\"line\">gm stage pass all 跳过所有关卡</p>\n</li></ul>\n<blockquote class=\"success\">\n<p class=\"line\">参数1：关卡ID（可从stage_client表中查找）</p>\n</blockquote>\n<p class=\"line\"><a name=\"page4\"></a></p>\n<h2 id=\"f35ey2\" class=\"markdown-heading\"><a name=\"f35ey2\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>4.调物品、装备、宝物</h2><ul>\n<li>gm item <code>参数1</code> <code>参数2</code></li></ul>\n<blockquote class=\"success\">\n<p class=\"line\">参数1: 物品ID（可从item_client表中查找）</p>\n</blockquote>\n<blockquote class=\"success\">\n<p class=\"line\">参数2：物品数量</p>\n</blockquote>\n<p class=\"line\"><a name=\"page5\"></a></p>\n<h2 id=\"6g942k\" class=\"markdown-heading\"><a name=\"6g942k\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>5.调碎片</h2><ul>\n<li><p class=\"line\">gm  equip  chip  <code>参数1</code> <code>参数2</code>    （可从equip_chip表中查找）</p>\n</li><li><p class=\"line\">gm  amulet  chip  <code>参数1</code> <code>参数2</code>  （可从amulet_chip表中查找）</p>\n</li></ul>\n<blockquote class=\"success\">\n<p class=\"line\">参数1：碎片ID</p>\n</blockquote>\n<blockquote class=\"success\">\n<p class=\"line\">参数2：物品数量</p>\n</blockquote>\n<p class=\"line\"><a name=\"page6\"></a></p>\n<h2 id=\"5w0alx\" class=\"markdown-heading\"><a name=\"5w0alx\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>6.调体力，耐力</h2><ul>\n<li><p class=\"line\">gm  thew   <code>XX</code>  体力 // 负值为减少体力</p>\n</li><li><p class=\"line\">gm  stamina  <code>XX</code>  耐力// 负值为减少耐力</p>\n</li></ul>\n<p class=\"line\"><a name=\"page7\"></a></p>\n<h2 id=\"4ikjvz\" class=\"markdown-heading\"><a name=\"4ikjvz\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>7.调英雄</h2><ul>\n<li>gm  hero  add <code>英雄ID</code> （可从entity_client 表中查找）</li></ul>\n<p class=\"line\"><a name=\"page8\"></a></p>\n<h2 id=\"e3wj24\" class=\"markdown-heading\"><a name=\"e3wj24\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>8.帮会相关</h2><ul>\n<li><p class=\"line\">gm guild apply <code>名称</code>   （申请加入公会）</p>\n</li><li><p class=\"line\">gm guild create <code>名称</code> （创建公会）</p>\n</li></ul>\n<ul>\n<li><p class=\"line\">gm guild fund <code>xxxxx</code>      添加公会资金</p>\n</li><li><p class=\"line\">gm guild build <code>xxxxx</code>      添加帮会建设度</p>\n</li><li><p class=\"line\">gm guild contribution <code>xxx</code>     帮贡</p>\n</li></ul>\n<h1 id=\"1oh05k\" class=\"markdown-heading\"><a name=\"1oh05k\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>VIP</h1><ul>\n<li>gm  vip  <code>XXX</code>  （XXX=充值钻石数量）</li></ul>\n<h1 id=\"gg2qjg\" class=\"markdown-heading\"><a name=\"gg2qjg\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>爬塔</h1><ul>\n<li>gm tower pass  <code>层数</code></li></ul>\n<h1 id=\"8nbajt\" class=\"markdown-heading\"><a name=\"8nbajt\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>奇物</h1><p class=\"line\"> gm card <code>参数1</code> <code>参数2</code></p>\n<blockquote class=\"success\">\n<p class=\"line\">参数1 :奇物id</p>\n</blockquote>\n<blockquote class=\"success\">\n<p class=\"line\">参数2:数量</p>\n</blockquote>\n<h1 id=\"3vd6q4\" class=\"markdown-heading\"><a name=\"3vd6q4\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>加速</h1><ul>\n<li><p class=\"line\">speed 1-10</p>\n</li><li><p class=\"line\">gm seal pass <code>XX</code>  封印之地通关</p>\n</li><li><p class=\"line\">gm kingsea win <code>n</code>  王者之战直接晋级</p>\n</li><li><p class=\"line\">gm syntime  //添加一个同步服务器时间命令，方便测试</p>\n</li><li><p class=\"line\">gm equip_promote    增加武器头盔盔甲项链  突破到顶级所需要的材料</p>\n</li><li><p class=\"line\">gm guild vitality <code>XXX</code>  同时增加个人和公会活跃度</p>\n</li><li><p class=\"line\">gm guild exploit  <code>XXXX</code>  增加军团功勋</p>\n</li><li><p class=\"line\">gm guild attackboss <code>0</code> 直接打最后一个公会boss</p>\n</li><li><p class=\"line\">gm mail send <code>1</code> <code>1</code>   增加邮件</p>\n</li><li><p class=\"line\">gm favor hero_typeid <code>XXXXX</code>   给英雄增加好感度</p>\n</li><li><p class=\"line\">gm favor_quest_step <code>XXX</code>   直接设置任务进度</p>\n</li></ul>\n','2019-09-20 13:58:46',2,'2019-09-20 14:13:13',2,1568959990,0),(26,'翻译包制作流程','designer_common-1bhghn1ilikp0',5,0,0,'# 翻译包制作流程\n\n## 翻译语言，提取需要翻译的新out包：\n\n1. 替换客户端需要翻译的脚本文件。以封神日文版为例：\n![](/data/uploads/designer_common/images/m_4f3f4ae3c6f32dc9871b0a0bac203177_r.png)\n\n![](/data/uploads/designer_common/images/m_6843299f91f3a7f49028015b964fefef_r.png)\n\n\n复制zhCN这三个完整文件夹后粘入jaJP文件夹内\n\n![](/data/uploads/designer_common/images/m_99dc6d4bc987f2d08b89cd96eaadd756_r.png)\n\n2. 使用翻译器\n\n![](/data/uploads/designer_common/images/m_855cab30b5bb53b81fe5e7671883759e_r.png)\n\n3. 执行翻译命令： `inj+(空格)+该语种名称的小写+回车键`\n\n ![](/data/uploads/designer_common/images/m_4f6a23560984c87b097c81fa189b6866_r.png)\n\n ![](/data/uploads/designer_common/images/m_eb03a9487e4cca21ff92bac6006e4e32_r.png)\n\n4. 翻译完成后会有一个新out包文件在local文件夹内生成。把执行翻译后的该out包给翻译人员。\n\n![](/data/uploads/designer_common/images/m_49fa7420f66d599980e5c01a0513fd9b_r.png)\n\n## 翻译完成后的out包合入原来的语言整包\n\n1. 检查拿到的翻译后的out包是否有问题，右击(或者拖入)用IE打开，能快速完整打开的表明该包OK。不能用IE打开的说明该语言包存在问题，需查看IE内显示的报错在哪句。\n\n![](/data/uploads/designer_common/images/m_52940bc09e1d9d758e64209b282284b0_r.png)\n\n2. 翻译完的Out包和原库里的整包合并。在翻译器执行命令 join 1 2\n\n![](/data/uploads/designer_common/images/m_516df07e731b8a9adbf9aba52e3b37d3_r.png)\n\n![](/data/uploads/designer_common/images/m_bb6d9a313fec4ea7b7e0b6cee1fbd34d_r.png)\n\n3. 合并后生成了一个新的语言包。提交最新的语言整包。\n\n![](/data/uploads/designer_common/images/m_487504ce44bcba299b98ee0121ac3baa_r.png)\n\n>[danger]注意： 整包和out包需经常用IE打开查是否存在报错。语言包错误会造成该语种版本的游戏客户端各种显示BUG。','<article class=\"markdown-article-inner\"><h1 id=\"begw02\" class=\"markdown-heading\"><a name=\"begw02\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>翻译包制作流程</h1><h2 id=\"61exnq\" class=\"markdown-heading\"><a name=\"61exnq\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>翻译语言，提取需要翻译的新out包：</h2><ol>\n<li>替换客户端需要翻译的脚本文件。以封神日文版为例：<br/><img src=\"/data/uploads/designer_common/images/m_4f3f4ae3c6f32dc9871b0a0bac203177_r.png\" title=\"null\" alt=\"\"/></li></ol>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_6843299f91f3a7f49028015b964fefef_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\">复制zhCN这三个完整文件夹后粘入jaJP文件夹内</p>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_99dc6d4bc987f2d08b89cd96eaadd756_r.png\" title=\"null\" alt=\"\"/></p>\n<ol start=\"2\">\n<li>使用翻译器</li></ol>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_855cab30b5bb53b81fe5e7671883759e_r.png\" title=\"null\" alt=\"\"/></p>\n<ol start=\"3\">\n<li><p class=\"line\">执行翻译命令： <code>inj+(空格)+该语种名称的小写+回车键</code></p>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_4f6a23560984c87b097c81fa189b6866_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_eb03a9487e4cca21ff92bac6006e4e32_r.png\" title=\"null\" alt=\"\"/></p>\n</li><li><p class=\"line\">翻译完成后会有一个新out包文件在local文件夹内生成。把执行翻译后的该out包给翻译人员。</p>\n</li></ol>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_49fa7420f66d599980e5c01a0513fd9b_r.png\" title=\"null\" alt=\"\"/></p>\n<h2 id=\"209j79\" class=\"markdown-heading\"><a name=\"209j79\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>翻译完成后的out包合入原来的语言整包</h2><ol>\n<li>检查拿到的翻译后的out包是否有问题，右击(或者拖入)用IE打开，能快速完整打开的表明该包OK。不能用IE打开的说明该语言包存在问题，需查看IE内显示的报错在哪句。</li></ol>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_52940bc09e1d9d758e64209b282284b0_r.png\" title=\"null\" alt=\"\"/></p>\n<ol start=\"2\">\n<li>翻译完的Out包和原库里的整包合并。在翻译器执行命令 join 1 2</li></ol>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_516df07e731b8a9adbf9aba52e3b37d3_r.png\" title=\"null\" alt=\"\"/></p>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_bb6d9a313fec4ea7b7e0b6cee1fbd34d_r.png\" title=\"null\" alt=\"\"/></p>\n<ol start=\"3\">\n<li>合并后生成了一个新的语言包。提交最新的语言整包。</li></ol>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_487504ce44bcba299b98ee0121ac3baa_r.png\" title=\"null\" alt=\"\"/></p>\n<blockquote class=\"danger\">\n<p class=\"line\">注意： 整包和out包需经常用IE打开查是否存在报错。语言包错误会造成该语种版本的游戏客户端各种显示BUG。</p>\n</blockquote><div class=\"wiki-bottom\">最后编辑: 万韬  文档更新时间: 2019-09-20 14:41   作者：万韬</div></article>','<h1 id=\"begw02\" class=\"markdown-heading\"><a name=\"begw02\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>翻译包制作流程</h1><h2 id=\"61exnq\" class=\"markdown-heading\"><a name=\"61exnq\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>翻译语言，提取需要翻译的新out包：</h2><ol>\n<li>替换客户端需要翻译的脚本文件。以封神日文版为例：<br><img src=\"/data/uploads/designer_common/images/m_4f3f4ae3c6f32dc9871b0a0bac203177_r.png\" title=\"null\" alt=\"\"></li></ol>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_6843299f91f3a7f49028015b964fefef_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\">复制zhCN这三个完整文件夹后粘入jaJP文件夹内</p>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_99dc6d4bc987f2d08b89cd96eaadd756_r.png\" title=\"null\" alt=\"\"></p>\n<ol start=\"2\">\n<li>使用翻译器</li></ol>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_855cab30b5bb53b81fe5e7671883759e_r.png\" title=\"null\" alt=\"\"></p>\n<ol start=\"3\">\n<li><p class=\"line\">执行翻译命令： <code>inj+(空格)+该语种名称的小写+回车键</code></p>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_4f6a23560984c87b097c81fa189b6866_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_eb03a9487e4cca21ff92bac6006e4e32_r.png\" title=\"null\" alt=\"\"></p>\n</li><li><p class=\"line\">翻译完成后会有一个新out包文件在local文件夹内生成。把执行翻译后的该out包给翻译人员。</p>\n</li></ol>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_49fa7420f66d599980e5c01a0513fd9b_r.png\" title=\"null\" alt=\"\"></p>\n<h2 id=\"209j79\" class=\"markdown-heading\"><a name=\"209j79\" class=\"reference-link\"></a><span class=\"header-link octicon octicon-link\"></span>翻译完成后的out包合入原来的语言整包</h2><ol>\n<li>检查拿到的翻译后的out包是否有问题，右击(或者拖入)用IE打开，能快速完整打开的表明该包OK。不能用IE打开的说明该语言包存在问题，需查看IE内显示的报错在哪句。</li></ol>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_52940bc09e1d9d758e64209b282284b0_r.png\" title=\"null\" alt=\"\"></p>\n<ol start=\"2\">\n<li>翻译完的Out包和原库里的整包合并。在翻译器执行命令 join 1 2</li></ol>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_516df07e731b8a9adbf9aba52e3b37d3_r.png\" title=\"null\" alt=\"\"></p>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_bb6d9a313fec4ea7b7e0b6cee1fbd34d_r.png\" title=\"null\" alt=\"\"></p>\n<ol start=\"3\">\n<li>合并后生成了一个新的语言包。提交最新的语言整包。</li></ol>\n<p class=\"line\"><img src=\"/data/uploads/designer_common/images/m_487504ce44bcba299b98ee0121ac3baa_r.png\" title=\"null\" alt=\"\"></p>\n<blockquote class=\"danger\">\n<p class=\"line\">注意： 整包和out包需经常用IE打开查是否存在报错。语言包错误会造成该语种版本的游戏客户端各种显示BUG。</p>\n</blockquote>\n','2019-09-20 14:30:04',2,'2019-09-20 14:41:05',2,1568961663,0);
/*!40000 ALTER TABLE `amazing_documents` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_itemsets`
--

DROP TABLE IF EXISTS `amazing_itemsets`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_itemsets` (
  `item_id` int(11) NOT NULL AUTO_INCREMENT,
  `item_name` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `item_key` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `description` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  `member_id` int(11) NOT NULL DEFAULT '0',
  `create_time` datetime NOT NULL,
  `modify_time` datetime DEFAULT NULL,
  `modify_at` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`item_id`),
  UNIQUE KEY `item_key` (`item_key`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_itemsets`
--

LOCK TABLES `amazing_itemsets` WRITE;
/*!40000 ALTER TABLE `amazing_itemsets` DISABLE KEYS */;
INSERT INTO `amazing_itemsets` VALUES (1,'默认项目空间','fEvbF5qcwn2snzHZ','',1,'2019-09-13 18:28:37','2019-09-13 18:28:37',0);
/*!40000 ALTER TABLE `amazing_itemsets` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_label`
--

DROP TABLE IF EXISTS `amazing_label`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_label` (
  `label_id` int(11) NOT NULL AUTO_INCREMENT,
  `label_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `book_number` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`label_id`),
  UNIQUE KEY `label_name` (`label_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_label`
--

LOCK TABLES `amazing_label` WRITE;
/*!40000 ALTER TABLE `amazing_label` DISABLE KEYS */;
/*!40000 ALTER TABLE `amazing_label` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_logs`
--

DROP TABLE IF EXISTS `amazing_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_logs` (
  `log_id` bigint(20) NOT NULL AUTO_INCREMENT,
  `member_id` int(11) NOT NULL DEFAULT '0',
  `category` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'operate',
  `content` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `original_data` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `present_data` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `create_time` datetime NOT NULL,
  `user_agent` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `ip_address` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  PRIMARY KEY (`log_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_logs`
--

LOCK TABLES `amazing_logs` WRITE;
/*!40000 ALTER TABLE `amazing_logs` DISABLE KEYS */;
/*!40000 ALTER TABLE `amazing_logs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_member_token`
--

DROP TABLE IF EXISTS `amazing_member_token`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_member_token` (
  `token_id` int(11) NOT NULL AUTO_INCREMENT,
  `member_id` int(11) NOT NULL DEFAULT '0',
  `token` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `is_valid` tinyint(1) NOT NULL DEFAULT '0',
  `valid_time` datetime DEFAULT NULL,
  `send_time` datetime NOT NULL,
  PRIMARY KEY (`token_id`),
  KEY `amazing_member_token_token` (`token`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_member_token`
--

LOCK TABLES `amazing_member_token` WRITE;
/*!40000 ALTER TABLE `amazing_member_token` DISABLE KEYS */;
/*!40000 ALTER TABLE `amazing_member_token` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_members`
--

DROP TABLE IF EXISTS `amazing_members`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_members` (
  `member_id` int(11) NOT NULL AUTO_INCREMENT,
  `account` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `real_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `password` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `auth_method` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'local',
  `description` varchar(2000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `email` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `phone` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT 'null',
  `avatar` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `role` int(11) NOT NULL DEFAULT '1',
  `status` int(11) NOT NULL DEFAULT '0',
  `create_time` datetime NOT NULL,
  `create_at` int(11) NOT NULL DEFAULT '0',
  `last_login_time` datetime DEFAULT NULL,
  PRIMARY KEY (`member_id`),
  UNIQUE KEY `account` (`account`),
  UNIQUE KEY `email` (`email`),
  KEY `amazing_members_role` (`role`)
) ENGINE=InnoDB AUTO_INCREMENT=67 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_members`
--

LOCK TABLES `amazing_members` WRITE;
/*!40000 ALTER TABLE `amazing_members` DISABLE KEYS */;
INSERT INTO `amazing_members` VALUES (1,'admin','万韬','1NM0a4VTsOYNyZKUrkNnl0LysjhMhzaqvTTuvkMKXqzSoCTh33X0eReX4-VLHg5V9dzI$15$c8cf6eb57f9b0fd2d443b52136a8f4d074c22cfbb3d6fff8d3c5c44d$8278a5ac15d373d9c8e4de7aad7a332f393437adea878a4784e9c74f59736433','local','','hellodudu86@gmail.com','','/static/images/headimgurl.jpg',0,0,'2019-09-13 18:28:37',0,'2019-09-19 17:10:31'),(2,'wantao','万韬','0iwSsAHsQlTkeh03GB7qVU2lXxQdCPOfvLhaMt8_y2hvUi9ttEa6A89iOzs-B-2IStdaUF4Uibecexew_obe8mzD18jgS1Iv50bt1U7PvBibdhfDK7WNBM_HTyCuj6cJ3w==$10$20c4a6581a697ece2fb92fc80d5e1bab20db4e5eac5667c56dd3b4fa$ae30cf4ef3e56340d492adfe06a891179f2f62afe2d8862040d1495adcae514d','local','','wantao@amazing.com','','/static/images/shaman.png',1,0,'2019-09-16 13:57:07',0,'2019-09-20 13:58:23'),(3,'dudu','万韬','BOfRoO9pkdtbMI5NrIaHmn5HrmHTfOUYAucgSwymHg9ETgIB38ELsBg=$9$907029f57dc5f61e940ff3d810b0c0fad77c26458e1809500c014756$26301df9fac37e8255254a89ebd847b4a589eefa0d6ef3c0dff62e6d70fc4df0','local','','dudu@amazing.com','','/static/images/druid.png',1,0,'2019-09-16 13:57:07',0,NULL),(4,'wulifeng','吴立峰','dxwj6ftQTvq3cYqLf-5M0acZmoEOo6AAxx4baQM6werLuBAO45PrTZHthCiYEA8k30ZSFW5P_5Xbl8CcHjyaCNmwdpnVrvdahhPyirNbLSdt8BBjXW20uRB-BCvXiGc70w==$10$d3313a6c8d8bf2f6d99620bb556049aae63abff095e817e9d6a50bb8$10819e5c3777287629189db6decda6c3e78ae6c335e477a14ca391697bcd7f6c','local','','wulifeng@amazing.com','','/static/images/shaman.png',2,0,'2019-09-17 14:29:06',0,'2019-09-17 14:45:10'),(5,'guojianhan','果剑寒','_XqMqJQw3sESSWm948nrRk6qE3p2g1HYplkLNKUxssleJWWzODiqaAgHl1TnT2Tp76uMDo-VVSF1QGgJIhds_W7B4rYo4vZ4MhFJLgO3rpwaeust6gyX5W7g9-88IC8HQA==$10$cd7e5af259e08499d05c4724dcf004c0fa74cae47df4772fe0174ccb$6e4ae52332d798ec1ed2fe6108d432f95b36cfb641a50894573b7c17e2627f4b','local','','guojianhan@amazing.com','','/static/images/shaman.png',2,0,'2019-09-17 14:58:01',0,'2019-09-19 18:36:44'),(6,'zhuhe','朱贺','hd3ZvgJVFtORV8gBd4RT2UyMYkaEkenU97kcsnJCwPn62EhXHrnVgRT6YLiDc4IrLIfWmNFlmnRRXCicY1XDmt6hypS7_oxqfehCl9IdR5BdfmlNYBNYyHVzaAzeB4y2JA==$10$e2d8d41521d913004ed1acb3cb5cb2c070fb2c380424bcf644a25de1$2b0865ed7b334763efe2b4a80dbf2e21cb33120f71c24e610a0cf5ba2f1373cd','local','','zhuhe@amazing.com','','/static/images/shaman.png',2,0,'2019-09-19 16:56:57',0,NULL),(7,'zhanghouqin','张候亲','ml2lC6RfdtfDsRW1FEZkvmHkbwo15SDn7S0XfhaIRWdd5ZIEuhalGTc=$9$43e1f6c064ac957cd02450d3f69bf3428155cd6d8ac2a5458bac3b20$dc525d003e392d086f21f3a4fa6f1fe73955e66ce00b7d08e0b6a96736795c56','local','','zhanghouqin@amazing.com','','/static/images/druid.png',1,0,'2019-09-19 16:56:57',0,NULL),(8,'jiangwei','姜威','nwqKQL56v3u_KAgn6FSwc2eH9PS7rkli36G0GqcJs9Ji5WTg5XhnbxeOemigr7l_7nWwBI3ZqSnfWqdWaHtbDkXUkaEt1dmaMZvxSqbBzXBFn4ya68B-z8-I$1$b859e66cfbfb4c7391729f5802468d9f220d3da12f2ab8e822cdb707$9c43c1e45f4cf2c94e93b2c952a9636ca826d17f1f7495b0a7fe72cf3cb64cdd','local','','jiangwei@amazing.com','','/static/images/paladin.png',1,0,'2019-09-19 16:56:57',0,NULL),(9,'zhanglongfei','张龙飞','p1fVUYFpOimuIpNQ-p2CB99A8YlGiRPB$18$ca84b83f182569316cecd1d96cc6fcd69439c8f684a01a72b1bfba76$9b017a43319f927754d49628a74fbc3cf2c333c49b31fc087f4b534c6de4c0fe','local','','zhanglongfei@amazing.com','','/static/images/hunter.png',2,0,'2019-09-19 16:56:57',0,NULL),(10,'fengwanlei','冯万雷','7RxY5YpHDHLUH3-9A3z6C143d4iRxco9P2zacph3h1gsAqqU23YW$18$de4e9d13d4fadd4f9b43cc7964ecd8c8b548e5e6934b0f52700043e8$756a87eb4bc57487d1430127cb5762c9c73fe455b5ea04b7c810f00a030c0e46','local','','fengwanlei@amazing.com','','/static/images/priest.png',2,0,'2019-09-19 16:56:57',0,NULL),(11,'songzhenwei','宋振威','aVVC8xH6FVpTjWWJ1-VHIrVQmYUvcnCtgItfw-rjk3h9UDbZkvRkLZ_gC08aOq1Fe8Qhv3Wj-O9AUEddXNXYcfcsPOeOwhWP7pceAJQWNYdAjTTpEjXqgH1mTQ==$16$67b7437d8dada1dfdc9cea8d62d6ea7f701ccb2c4193c08c28973398$f962611d059a65daf193c31cee215d117026c0890358398e15fb56d43e39b30c','local','','songzhenwei@amazing.com','','/static/images/priest.png',2,0,'2019-09-19 16:56:57',0,NULL),(12,'zhaojie','赵杰','X-7wNKzqX5sJVsLrORAx1m9IsfweFTo4__d7uUx1BagaCA6Tz_Udo5VzkaD8LZagqV7zaBrO6ZAtE1i_dT2NPVJpl3GLV0ThcSC4NorvXcnXBgsWoRtX8TkuqzhXc9Ws$5$78fae99ac19a2a32d1f83b9f53d2e2f54c058ed66b847a94dedc86d9$5f14fb96ba76392d31b00a5538c01c866b0519472f8b0a84a3bbb86eb60a75e3','local','','zhaojie@amazing.com','','/static/images/druid.png',2,0,'2019-09-19 16:56:57',0,NULL),(13,'zhaojunqiang','赵军强','f4skbkXaV5z0U_vd7fvCDO6vDJzAEccEvfIiFhoYTLbH1I_5gbkhp5luzfHMvoDEPIiKqToqEiZc-JQ6i2Zme6QhYpE5s-LkuIBvx9_k$6$a1de8b74c06b9c6ebceb8a250e52e3d88768e1bea5d3f88694892dc9$e3c3e80dcf5cec254047d46c5ddd628747a10a7e2a29ac5d2eaec0637bf23141','local','','zhaojunqiang@amazing.com','','/static/images/mage.png',1,0,'2019-09-19 16:56:57',0,NULL),(14,'cuilizhao','崔立照','2LHljtQPZDylbzxKEQQHTpA=$17$39a645aa252cef6f36c75e15cf8559cbbd81eae6cd9445aafbba7d14$23c7a1c36e75ed500357593a9c1e97977a0febd9a2214a2e618107db8bd0efc9','local','','cuilizhao@amazing.com','','/static/images/hunter.png',2,0,'2019-09-19 16:56:57',0,NULL),(15,'liuyeping','刘业平','Y-d2o5a0_oH9L0-lOi7YgQkvrq-QVq_wzBDm5QZK5piyHv2hbgoVs8ibUUWw0DQoOEnNi5P93WHmVBuaIUWq6eX8a8sJVw==$16$8ec2807b86a7bbec082f688840b0209c921685b796ae2c0952e97af5$a9f911d574ef182a5bc9de10883e8aaae8014ef12de5da852801694a8c704fa8','local','','liuyeping@amazing.com','','/static/images/shaman.png',1,0,'2019-09-19 16:56:57',0,NULL),(16,'lilei','李雷','EDi1K653jC45nmbF37hgpR4acJ0gO66GVC-3UGOjFujeG2NgSO7ZQNmatOgcvKIG8gM-NpJz8ERNylu7hwKXugWx-5WMft0JiPYR_IroEEG6y7hzIPZYyQ==$13$80cfe817c8762db5637fb729f5a34727d7742a7986cb2289a63141d4$48693ed69acb7a84d27c9bbd641ba11ec3f52a6213ac50434353b117d3e92e7a','local','','lilei@amazing.com','','/static/images/druid.png',1,0,'2019-09-19 16:56:57',0,NULL),(17,'wenbin','文斌','ftXS_e0OKtI5Bz6oBkdKc1hZ4PvR7I5kwjGIBtbQncuDEmhgAa4h6ZuYeRaa5PAeIA==$18$0a32d6b56d73b5c54f0cedcb125a3b9619ca7f980c7fc7f5ad0c53e4$e0c3f9f9c5c8cb6d727a2c51ae9608d04347c7b4dbe4e2e56e7d7cc7ac6d770f','local','','wenbin@amazing.com','','/static/images/priest.png',1,0,'2019-09-19 16:56:58',0,NULL),(18,'hesiyao','何思瑶','pH0WZ9ylmBof71w6nBenvKo-pVzLNsIWh3ySByaTTLFIy274DTI1JSE-nTKmcWQHNUC9kN6wN3g2Ta4w0C0iMUATulYSrH4=$19$e8db9e543a252e52b1f9de0c9c34bfbef521651f467035875a17e491$e2d76a4059412444956cd729106ec2ef198af1f1440dd88be9278908983856b4','local','','hesiyao@amazing.com','','/static/images/druid.png',2,0,'2019-09-19 16:56:58',0,NULL),(19,'zhanghaojuan','张昊娟','pcmsIvFQ-brjFHY9FzyTLb5o0QlP1EYdfINehyd90q9qu7o0KRfL1H8-ehlddbPcHOdriAs=$8$2bcd6bab4a1d3a2fdd15d741d33dadbb3cafc5d1247f2d3c5293b49b$5887332f1b35244cf1b3e88633eab60297761d3a0034e1b76b5ebc6980d76fc3','local','','zhanghaojuan@amazing.com','','/static/images/priest.png',2,0,'2019-09-19 16:56:58',0,NULL),(20,'yangguang','杨光','sLU1uNmuTWZ8jmA1_Y60PwyAaFcwI1UU-JeXMl3HQ_FSo2Xl63ZzY_gh54METsCyC6m2G3w2qlBgN8UuwbXuDzzoOjqDljylow==$4$4ce177703db7f0a8709b6e0649b825c18eecbe49da9d9324afe5ebcc$515215df2d2127f3dff616aac70e5062b3eb0329648d4a55ef20d586a8aa3123','local','','yangguang@amazing.com','','/static/images/shaman.png',1,0,'2019-09-19 16:56:58',0,NULL),(21,'wangyang','王洋','FfHWpxkG4XUrbsVfEJ2UktMBp5SUIUGlmeD81D2RbSj4K9NXydKjoKbd84ef8i99YnYWHEH484iqEb3AjSe-8RT1joumwIWk-6KnpUuKF4-m19azNWk7H23CtHf1NcnBrA4=$17$c89392bf6548cd5d5d74ee57218addab20ab38fd4112ca0654a7f48b$a776eb716219bcc21a7631daab9e257aee710b43206254a1a304d788cb445eb9','local','','wangyang@amazing.com','','/static/images/hunter.png',1,0,'2019-09-19 16:56:58',0,NULL),(22,'dinghui','丁晖','maMcx8AmhdR-XgS76g==$5$4041bd0230f1b03e1621e41979656c1cc0076d7fc01443b75c1bd0f7$83f29eeff38760618ec972ee2d1f101d960759c7bff2f477ece48483397e5dea','local','','dinghui@amazing.com','','/static/images/shaman.png',1,0,'2019-09-19 16:56:58',0,NULL),(23,'jiaohaiming','矫海明','DEWrx-mUFB-wH3iMopNzeytuqA==$12$4ae0efb5e6417f076ab4a45276900c7f42df26013132c08087e0fdd1$871582087f9ae3e201be2f96611e50bc935a7be6f126e8dfdfe408385d4ca933','local','','jiaohaiming@amazing.com','','/static/images/druid.png',1,0,'2019-09-19 16:56:58',0,NULL),(24,'guoyunhui','郭韫慧','5QHZ_IlGGqc_TpKH-_EzAmOpqGsca6OnpAAdnS9LZwnohlU=$11$97dae109664acb31dfb8965a962e25708536096fb67720390947651f$ee24acf4a9e09c4107c528bad16bbe6ec7240b65884b29a936276b67c104d2bc','local','','guoyunhui@amazing.com','','/static/images/hunter.png',2,0,'2019-09-19 16:56:58',0,NULL),(25,'tanqionglu','谈琼璐','ZTjvvxFhHx8q9x2VAiHLAC24kTJakshJG8tzpExbRY0_B8YKVn3Q5P3JHcwLVeEO-SeDM8M=$2$02b87dff7053a646e2d3a6f17f935dee73f4870c4ec3312347c37d1e$5271a2ada0be4260581e7f0c54e6da2152aac52e8a35cb148305c72714ce97ba','local','','tanqionglu@amazing.com','','/static/images/paladin.png',2,0,'2019-09-19 16:56:58',0,NULL),(26,'xuwenxiao','徐文孝','-rd3vRPDajHLVx8xeH7vAP96om7P3RdfRscujUiq00p6UWJfixQhC_a8OBN3E40pYY5TMSredI5JT56_uDUXGiN0xxfnkA==$16$6c61a333dc08c4675e2e02d1524cdfdb04abce99e0a0e8dba0bdd093$d4628506278eaff70da7bfdb0c23c5cd7c58cc640a51c142a81d86dbab0e6c7b','local','','xuwenxiao@amazing.com','','/static/images/rogue.png',2,0,'2019-09-19 16:56:58',0,NULL),(27,'zhuwei','朱威','4s62h2jUMc0jrgB1MmOGOdp_OWgwlDocG58wYO7CwPVWJa8b7L4B8kPqIojkqsgN-zVAJaCAius=$3$16f054f229373580adcc176e4d84364de6443ac2058c805869366899$b5563eff0a3d0c46dc82e1e36230f75d9bc97dd40be2dd08a30f3644531717e5','local','','zhuwei@amazing.com','','/static/images/paladin.png',2,0,'2019-09-19 16:56:58',0,NULL),(28,'hanyue','韩悦','FTzBqnEFuBDu6J3sZYMeDIUxbutHzt3x7hQMwnNwcfTC08dcwqA1s2uhT4UWtVoZsg4T_Aqh58aG5I4Kd7zZJ-M04a5HUfB1$19$0fb89ffc3e4623ec7420ef4d4c38add0e9319265863c3fc899ad1840$0056b5234eb05253bb9377d0791fa5f5869fba163b5fc95a21664f2a1a6adf56','local','','hanyue@amazing.com','','/static/images/druid.png',2,0,'2019-09-19 16:56:59',0,NULL),(29,'liuchen','刘晨','YcS2wZPSHa-xg14-CFiu0h71APNEQ0OSXut7im8lnOQFijaP89_P5o2vZRBIf3Eh6dfxgyOuOMc2DBkEHQJcQWg0_I7jSyRLHdM-58xJ7v3MohI=$15$d7d5deb9369de1dd6631bc1e339847785db40272aa4e2aa8a1770561$0e381d588f6eb4e7bdc2c472992cd7b851ac9c7c023914ff84f4c307903d011e','local','','liuchen@amazing.com','','/static/images/mage.png',2,0,'2019-09-19 16:56:59',0,NULL),(30,'shibaiyu','时百禹','mu-jJi_qIfkVsW4UMXFB0rT12DQsL1SPq97NILFIN1CiWD28ZbDcKgsFF2KiU5_rPCE_rBt_y_zHPOKymleoms2DmM6ESDmrhcljr_Kn$3$725bb2aa92030f65c4c2fa4ac21b8f22bf52568e3c2955801ca19411$0597463df95aae5bb6ec0cdd3f4a8b2d2605e7e273bb93547253a26249086835','local','','shibaiyu@amazing.com','','/static/images/hunter.png',2,0,'2019-09-19 16:56:59',0,NULL),(31,'zhangminghui','张明辉','G4pB7DKqSUic22Q0lg3evr9CDYjjWdRFvdqJyLHG55ewG7tS9wH-r-WuM4hytf0=$9$6a2876849b64778b71684ffc89c968294631e2e010f881534e35c19d$43e6c80087de2818de7bd527f9b3ee92876881563908e80a0b17dc94734550b1','local','','zhangminghui@amazing.com','','/static/images/priest.png',1,0,'2019-09-19 16:56:59',0,NULL),(32,'zhoujin','周进','5ACxWrpgvV_cyUNMH4XOWeOzMiI0JOGC4IBsJ--9Cwdw3RXvldxGZHCQfXAb67hAnfF7gSFbzt2pgfYEuboRYDIABmd8nMkXBtGh9dYAlY5Te4wVnd4h0FPt$19$385c46cb8dcc5e0ef6bd402640c259efdbf17e0e35154429c4ab7d75$abca8c0360fe3d54092e58dc2f6582ea9927be3ecbc5d7f8f8d626cffcd02b57','local','','zhoujin@amazing.com','','/static/images/shaman.png',2,0,'2019-09-19 16:56:59',0,NULL),(33,'sunkuiwu','孙魁武','6nd7f7uscXKFbHWg_FIwa2I=$6$4621973e81d19fc1a87453a14cc6b5a81c1e0834d3c32e374c30b58c$0feeb3704eda9fa24d4371774fbd8603169c962b775b31b58d2b108043eb15c1','local','','sunkuiwu@amazing.com','','/static/images/hunter.png',1,0,'2019-09-19 16:56:59',0,NULL),(34,'dingyi','丁屹','8ZYhWxpRU4v4SLzFDw_Sm2LIz379e4dwTs6W0MyGejgrDyaVq1pPFLH0bv2OG9Mvm68vmZNEgwzbMEzOA1s9Ezv5jU6cRgoZmR8rwRVs5Uq-loV4RFXhG9w=$8$5b22bbb7fff5628c1af52ba29ff87202457c2721f6b42bdd832c5ca3$bebe826eb3aef6dedd626b443eadbcb175ca6f2b705f1ad11e8416552f5df816','local','','dingyi@amazing.com','','/static/images/rogue.png',1,0,'2019-09-19 16:56:59',0,NULL),(35,'fengmengyun','冯梦云','aomjtxU1p7p25tM7pxVbhLPwoJ4JMNcqQZCLpBX2j_IGTn8Ywm3eRQiAAtSHXYAC3OO0dHExnR8n1g1GDeO9rfcdh5GRWyknAUav70qkDNHo$15$65c021ba919e9a28c047da720bb04cdc8d2d3a81417e54b14f29bbc2$7185c282bfabd97c54eae3a6bf1f9588527edf931b75b2f5f847276688bf88e3','local','','fengmengyun@amazing.com','','/static/images/shaman.png',2,0,'2019-09-19 16:56:59',0,NULL),(36,'xuehaike','薛海科','3MKzeDQ1jS7i_PLJM3XGxBxN9HVCkUgs5lC1B0z3FtvaEnWeLW9-snpBVJDl1eywIkA0jkUtudax30KRXxAMGJtkbGghJ8WdLdu6qnWmnDEdEln4T2A=$3$0d05f9b617226595e2d69a3a737f4c41c78b772442066da7ac20325e$e986e0c0fec379dad667ba6e3fdc3455dd0780d72d76d0e0d93befafc483f005','local','','xuehaike@amazing.com','','/static/images/shaman.png',2,0,'2019-09-19 16:56:59',0,NULL),(37,'lizhaoqi','李昭琦','5SeS3FD6I0OiEA==$3$d2623574f05cb38af63fb20d9cc8d80064e34263d5e1ebdbda51346a$4294a244b8fd18e2e1e6106a0ebc9bbc04e7b006b2d98e24f582d59be78d4904','local','','lizhaoqi@amazing.com','','/static/images/rogue.png',1,0,'2019-09-19 16:56:59',0,NULL),(38,'liujiakang','刘佳康','HrVx7jlYdDYS5LtPKPEBQKooL2J4aGheF_qTsWT3KW_oniTZ_FtITTTsqEgYX8pDTVVoDU0d-u1a5_qU_XB56oAY258dJT7ygg==$10$793be68feb31fd59ee1ca0610ef79a347fd053489d2b5b1bcf6c7b7b$fad4a3298d124c51f9f66c035a9381e68f52727b5006c2605f258c3f69054bbc','local','','liujiakang@amazing.com','','/static/images/shaman.png',2,0,'2019-09-19 16:56:59',0,NULL),(39,'zhangjingsheng','张竞生','KO66F6pnmE5UvthVuCCPPfRIDBGmN_JTS65ZtGZ7CYziPPgOGznn-9H_6pre7uWYoE3teOrINeYLC4XEUCzU08EfZ_fx5H-mTvApfvIt5sTPiAfnLw==$2$96b8115cd0f80480d24e4b23cb1c96d48366fdf1bb7bacc24fb6d932$4b765344a309bcb2c8448f03799c778432a80771db6f4b35e5b4dd94cc9399da','local','','zhangjingsheng@amazing.com','','/static/images/mage.png',2,0,'2019-09-19 16:56:59',0,NULL),(40,'zhengbaoju','郑宝驹','1b8tfQ5YDEyWo1s7nrmbXjTDozKJi1n6RP7c$11$73ae56eac1dac731860972de3b973be33e8f845fa2359194c01868ba$6eadee2700b66f52d2467be85c1d59f4fc2d2d5c79b31114c63ecb7311928c78','local','','zhengbaoju@amazing.com','','/static/images/rogue.png',2,0,'2019-09-19 16:56:59',0,NULL),(41,'xurui','徐睿','JcG9IxwBl_gQBtNf9hbJ0_ItGAc=$14$84b2e0747d382b17fb0e32e3d7f3468e530ce8a0a7f42094f8b0ab9c$a7e535c3b7ba822f70707b69ec530ed5a50393c783d939ea7a498941e59d5253','local','','xurui@amazing.com','','/static/images/paladin.png',2,0,'2019-09-19 16:56:59',0,NULL),(42,'zhuhao','朱昊','S5QJ53DARQXuNxvAANaNbxkIWBgV3j37U0icokzjHjcrF6-pVNVjvENw9JDG6RceRo4f5SMwsb-2xP99a8PlSt3Ewuru8CHG0wdHCzZ1-OLCS3RSqxkHZD0TCNM=$18$e4437f9f02e25a56d2a7979ed8e22579879e9c5858d2ea4cfff15365$313e7dbc8928b0e92653b11c4b038ae94758801d75b27ce05709dddcfcea4045','local','','zhuhao@amazing.com','','/static/images/druid.png',1,0,'2019-09-19 16:57:00',0,NULL),(43,'linning','林宁','Ig9BJvD5_aspyffOHuzFeoFoZ7R4ewRsogzIhYIhqFWsx0VA_-IhnII=$11$6e95e21d2c916215ba7eefc26a940e89064359013e4099b5b49ba78c$41c177cdc11ffb2f2b204f1df2873e9a2b6d3bf8159d404b6554debb74b55f6f','local','','linning@amazing.com','','/static/images/druid.png',2,0,'2019-09-19 16:57:00',0,NULL),(44,'lijia','李甲','lzYekx91t-UEtu81TH89rnQgdVlk_Vws3zmvi5eLfqIgSFXs8wmRo7EdNDBs9VgSgZlZGDYCYJnX36nJgDbG9YFnfXdk3Gs9-Zm786Y=$5$d53dcf85108d6eef33413ecb13fbf5194730b968b32bc3124f36120d$baea63c8d3c1c880e68e2e4e3be1340f4483897aac62d2688a46250b2c4693de','local','','lijia@amazing.com','','/static/images/rogue.png',1,0,'2019-09-19 16:57:00',0,NULL),(45,'liujie','刘桀','7mmKuCpyD1CGQ-3VkMgVHVNEz1T29Htg_50QvAy0Sw==$13$7401fa567d56edb4718ba22def806edabb1dda4728b4bbac08518684$b85ab115e0ad91501df5124f563337ba8e70a6fc41635218cebd11f268fa4331','local','','liujie@amazing.com','','/static/images/mage.png',2,0,'2019-09-19 16:57:00',0,NULL),(46,'liubo','刘波','J6jMZrE3JWz3TcYlMy3j7IIqxwyZXNfi5TNdEcoR5lvIppXstxotdJn55EKzDVROu27grpmOtFiawKB4tCEl3GAEQVjGFZbnbpb0ND-5aCLzMtcdqTybB92WiX0=$12$2edc6d285e5888132032d934f66a6c56064ae4f55983eb7ee3d1b5c9$a19d4e24ccb1bcc3df46e49bd7ea3bc7c209981d1d691687c715f97e03842d90','local','','liubo@amazing.com','','/static/images/mage.png',1,0,'2019-09-19 16:57:00',0,NULL),(47,'zhangpengyue','张朋月','b815RxcFYSVq212G2Bzzac1_w5cybl203YhGoAKXe3QM9ZmeDafoU3wwUUvixUTQdBquBkmwDH_IG0SBi_MRjk6ZszkNrJ1YlgmT1YytEF09SMkxdw8=$12$ccd7d3a43dacb0027f9b19569fb03a168f3cd376bbb3bd6007fca6d8$dd7868f5e7642cef8fa95b21398e1d51be27d35517241c93678b7c718cdad5de','local','','zhangpengyue@amazing.com','','/static/images/shaman.png',1,0,'2019-09-19 16:57:00',0,NULL),(48,'fuyuzhou','付誉洲','aCbx5UFwZjzp-O0u0EAgvquPXEVsqh6si8HTFIfo9tJJFgUv3CDIhY65yO0cFdJYGhZpm3nsSmPkVBO2OHXbSzrqCGRKbr8oRzB1zgHyvmv1VLHBs_k=$9$caa5ffa67cee10446c449e312b09137047e4cf392b7ea5302b8975af$c84a7906a1d2737f5343c5ece97a42851ee41e05cffe8d5bd9d61b9ba94c64e4','local','','fuyuzhou@amazing.com','','/static/images/shaman.png',1,0,'2019-09-19 16:57:00',0,NULL),(49,'dongyue','董跃','WKy56CHkDCJzUj-xCLq42LBFg1HbiXpOeQpFonvIaSSRFnUyWAqvy8kVF1aoZvxASOV0n3a-nhyVwfQjPDNXihZgEMLfHx0LgZxMzq-ephU-pg==$15$fd2259b2e8b1b780c2843ea9b921124594016366bd472483cdd465c3$bdec615c8c88b950e787318f4451bfef1ac1189a43d7bde8d32efd2743e8387d','local','','dongyue@amazing.com','','/static/images/priest.png',2,0,'2019-09-19 16:57:00',0,NULL),(50,'fengyu','冯雨','IyC99j9-2hh1ZGYgI5MSZr1vLI5Tjfwq1fLFSHnlFcGHV9eyvvnS4If9Gpvd465XNoEWNNJFQUcyZ9Gk-WravqAh72wZK8nAeO7XkzpnX_YV9oMN-_bEkpah$4$f040cfd5e784435942618a5444fa96f2a80cbe5a97b55e29fef353a8$f2682119a84bc2da3d2c7d7f8461b7c10ed2b5ceb9ab3668847e0320221d9343','local','','fengyu@amazing.com','','/static/images/shaman.png',2,0,'2019-09-19 16:57:00',0,NULL),(51,'lichang','李昌','gwdPQ2Gm6mQfPaCuVmDJPlNq$18$2646458623058015a5f7051042525089278b8797c92dc3d6aaf6c3c8$27db1cf2c7679bb0eeca5986b6d40b293173b275414ff0756f144a58111f052a','local','','lichang@amazing.com','','/static/images/shaman.png',2,0,'2019-09-19 16:57:00',0,NULL),(52,'majindou','马金斗','FYYkJRhAlP2jHSmgrnfQsdShuTtABMCFOFsgRK_3fYbA0G687RW7aI1kOg==$1$87f7706e1b9601a50512a1597cfd4c33044c362891231cbd55dbb350$90a772af4c191310ba85c2c3cf482eb18f079114fde76ca509d24af3619969cc','local','','majindou@amazing.com','','/static/images/paladin.png',2,0,'2019-09-19 16:57:00',0,NULL),(53,'quanhouchuan','全厚川','gRJfPsODD8R7J4e4T60LraZd6vsFODj22af7xDceQ-s=$17$b98b67a1fffb545d89388a47c720dc8a6bfa91611207dd5602f69c41$31f1670e7eaf21b7f60d8135b896d0c931642b8a8f4a82486fe235d490be51d9','local','','quanhouchuan@amazing.com','','/static/images/druid.png',2,0,'2019-09-19 16:57:00',0,NULL),(54,'zhangxiaodong','张晓东','VO1CiuaatIk_2_cA6HeSLq_D1dIszSvEyXEk7V2LVdu40fT4x_WRwHjf1BbGMzOu5inCNJTqXl0Sjseq_Zb9ujpm9zMf$12$c0f2a875c29b4a3c4514e5349fef9ecc606cc413317e19eec9c57103$e4dcd6192daf58871a199c31a2d9c7e0695e20ddf1b13f21bd6c44e0fc005b01','local','','zhangxiaodong@amazing.com','','/static/images/druid.png',2,0,'2019-09-19 16:57:00',0,NULL),(55,'litong','李瞳','hkVQOdauMIOI6B4YNhqrYGhMb8Edosp-wQk1BPgBp9oBRGOENe1KjIzGgW87QyT7xmAFVT1D5sJZsDhGV5F7l7XBx9zW4GgYjKCAhEMguyY_$6$cd192d7120461de9d680865b58e7ede674ff6a1677f5578448107b68$572136bfe8d533bf1aa48ef60b4d6e99cffcb19e107eb82a432e790d4d2903b6','local','','litong@amazing.com','','/static/images/druid.png',2,0,'2019-09-19 16:57:00',0,NULL),(56,'liupengbo','刘蓬勃','UxR13hgBpyf26NoUY3Iwu3SQODxwr6n2Q3ZEDzn5cd-z67N8370Zbd-GuxKoMEiCPHMPDXp9T53Gua4_xVa1AFA1QAaAnxQ=$14$e85821f815c2b728c84d3ac6b3338af72c6355e913a142665f9b9eb4$e30e9fbc651938cfb5d03fbc24fa69c5abe04d08ceef0b33459987f9730530d6','local','','liupengbo@amazing.com','','/static/images/priest.png',2,0,'2019-09-19 16:57:00',0,NULL),(57,'wangxu','王旭','CBWEAuimAXhVpxYUf5DdFvYHT5uyGSTNikvbUJ1WhNcUVXw6S9OLwRh25ieYJd5KqTxgn7g4X5m5_CeB4D0nZnxtzPTP2_Zp38yC$3$2da8e8564c55a0d4e00b97395af05e658a9c6449808798544c91168f$4172cd1d49a507d91f05df83e5a7c439a9e8d7b73fce190a15bdb5f027ad932d','local','','wangxu@amazing.com','','/static/images/rogue.png',2,0,'2019-09-19 16:57:00',0,NULL),(58,'zhaofengjiao','赵凤姣','eG4Hh6ma2137lhuGOPUXdnflB6Af459sBamQP6bo0EbiEbFY8Vvfhw==$7$22940174e5c3195abbf2058d74f9283f030a9137ec1a652d8434e5e6$5d8f43a1954612fef0b35a6fdc02993378e87dc40639c7e360ee82f5578679ab','local','','zhaofengjiao@amazing.com','','/static/images/paladin.png',2,0,'2019-09-19 16:57:00',0,NULL),(59,'yangbing','杨兵','UUPuzcD2YfD_J5LF4bY8Vw7dwQWm2w-anXrIgH3Kza5n8X3V4GdnlOo917jM_8TRY0etHsXw0s7vrXBQzs4OD4nmulv4vZ5Wdc470KE=$19$f07b52bda011a6d9c59650dd5278e6eede6705607fdf82265a87a369$0f8234e373388594fb6fb8579d5e4c819e5329b81004c4d99417bbfb724bf973','local','','yangbing@amazing.com','','/static/images/druid.png',2,0,'2019-09-19 16:57:01',0,NULL),(60,'taoye','陶也','mrQDSded6qJOVSVGTFdgL93Vd9m1hdXrUl5jEEw_8nACZw==$13$6b98b0d9960c3c9ef837a10385b0ed80bedf913fe62d4d3d2acb8d0e$9832e889b07921f3fb94d178e3bd20033807c3b910a067415c83a9adccb0a0d0','local','','taoye@amazing.com','','/static/images/hunter.png',2,0,'2019-09-19 16:57:01',0,NULL),(61,'yinmenghang','尹梦航','CljHS6UC2fq4ENpFnkwsmWiEAsKzz3NUI0qk0P4kk4weZyU1LDCvnoJVdwaBrWuHMtpNpQ==$6$a54df58c0ff271b6f4ac5c03a0e6f3cb9c2fb8e7278e0e2f2e766a09$500a76edb239a1891bab0f79813238d0ae9f63ff89a0326660689fa7c2a063f7','local','','yinmenghang@amazing.com','','/static/images/shaman.png',2,0,'2019-09-19 16:57:01',0,NULL),(62,'xujingyan','徐景琰','GR4BZT0lPxWFf4yb6WUOHGk4VFkZs-sjtuCFUBXRBNw9qQWyaZh7s1wjjOvelpJrt6HjHOUKyA8Q3_UeyUuiFhOlJOSCkpT_9WFjo6K30fId0a8fI9BWy_YQUydBi1LpBeo=$6$7b59c38bb1f89e749ef3a68aaf4fdfe652ce61d0e9b1c03b1557fbb2$227f112ec66d1a40b1e3b359a8a73072e3e356e39118e6aea7300a36c446ce7f','local','','xujingyan@amazing.com','','/static/images/druid.png',2,0,'2019-09-19 16:57:01',0,NULL),(63,'xuyiheng','许义恒','t0eoU248L9UHGhsh5VYjIfoKkMuLrbkjre1d-abaG3y02e4UbFdWu-2-lQVU$12$dfe58b4267896a5e894bdfa065744b95ecadcd87b40364d27336ddbe$506c298e25d402d475ac82df650ac253e0de1913023e50bc63e0a4b171c5bc41','local','','xuyiheng@amazing.com','','/static/images/paladin.png',2,0,'2019-09-19 16:57:01',0,NULL),(64,'gaoxingwang','高兴旺','ZuH_v81Ei_TmI5_5SXbcKk_MOWOrGjMjElEWwW2Quy4=$2$98f00ce36e82ab31d06105187ca56cb3bc3369359dcde1fb757d3c43$56665dd0ef12a2924f745725b78c176e192dd0b1e61f179b604463a43dc16ab3','local','','gaoxingwang@amazing.com','','/static/images/rogue.png',2,0,'2019-09-19 16:57:01',0,NULL),(65,'wanghongguang','王宏光','FsakoLC-uqoHH20p3DJ0UpLv_pU36g26GwjjeBUjQw==$2$56d868a174a233ddd62e59de7a8df37cb2bf19bfe0c06644c09bf4c0$110d5458575ef38288605c5641def8baf6dd73ddaddcfc2380588b21c5f66c93','local','','wanghongguang@amazing.com','','/static/images/hunter.png',2,0,'2019-09-19 16:57:01',0,NULL),(66,'qiaoliang','乔梁','QYUbVLoNKsWnMyokQIiUiknCToOhlp5DmFL8XLNnicLAfAsK8qfbGBMsdCRkHrnJ-_nvuoDMuafEUT9JfBI-oKFsH0FPc-Np2Q==$5$383900d953b438cdf048e3ec51d063577e03da3d0a952e40a8cec95f$0d09a8bdca6917de9818fd95db1042d62532c7cafc611c3808d499847d93b857','local','','qiaoliang@amazing.com','','/static/images/rogue.png',2,0,'2019-09-19 16:57:01',0,NULL);
/*!40000 ALTER TABLE `amazing_members` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_migrations`
--

DROP TABLE IF EXISTS `amazing_migrations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_migrations` (
  `migration_id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `statements` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  `status` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'update',
  `create_time` datetime NOT NULL,
  `version` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`migration_id`),
  UNIQUE KEY `version` (`version`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_migrations`
--

LOCK TABLES `amazing_migrations` WRITE;
/*!40000 ALTER TABLE `amazing_migrations` DISABLE KEYS */;
/*!40000 ALTER TABLE `amazing_migrations` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_options`
--

DROP TABLE IF EXISTS `amazing_options`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_options` (
  `option_id` int(11) NOT NULL AUTO_INCREMENT,
  `option_title` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `option_name` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `option_value` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  `remark` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  PRIMARY KEY (`option_id`),
  UNIQUE KEY `option_name` (`option_name`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_options`
--

LOCK TABLES `amazing_options` WRITE;
/*!40000 ALTER TABLE `amazing_options` DISABLE KEYS */;
INSERT INTO `amazing_options` VALUES (1,'是否启用注册','ENABLED_REGISTER','false',''),(2,'是否启用文档历史','ENABLE_DOCUMENT_HISTORY','true',''),(3,'是否启用验证码','ENABLED_CAPTCHA','false',''),(4,'启用匿名访问','ENABLE_ANONYMOUS','true',''),(5,'站点名称','SITE_NAME','Amazing Wiki',''),(6,'站点描述','site_description','Amazing Wiki 是一款针对IT团队开发的简单好用的文档管理系统，可以用来储存日常接口文档，数据库字典，手册说明等文档。内置项目管理，用户管理，权限管理等功能，支持Markdown和富文本两种编辑器，能够满足大部分中小团队的文档管理需求。',''),(7,'域名备案','site_beian','','');
/*!40000 ALTER TABLE `amazing_options` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_relationship`
--

DROP TABLE IF EXISTS `amazing_relationship`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_relationship` (
  `relationship_id` int(11) NOT NULL AUTO_INCREMENT,
  `member_id` int(11) NOT NULL DEFAULT '0',
  `book_id` int(11) NOT NULL DEFAULT '0',
  `role_id` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`relationship_id`),
  UNIQUE KEY `member_id` (`member_id`,`book_id`)
) ENGINE=InnoDB AUTO_INCREMENT=70 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_relationship`
--

LOCK TABLES `amazing_relationship` WRITE;
/*!40000 ALTER TABLE `amazing_relationship` DISABLE KEYS */;
INSERT INTO `amazing_relationship` VALUES (1,1,1,0),(2,2,2,0),(3,2,3,0),(4,4,2,2),(5,5,2,2),(6,2,4,0),(7,2,5,0),(8,2,6,0),(9,46,6,1),(10,47,6,1),(11,48,6,1),(12,49,6,2),(13,51,6,2),(14,52,6,2),(15,53,6,2),(16,50,6,2),(17,54,6,2),(18,55,6,2),(19,57,6,2),(20,56,6,2),(21,59,6,2),(22,58,6,2),(23,60,6,2),(24,61,6,2),(25,62,6,2),(26,63,6,2),(27,21,5,1),(28,22,5,1),(29,23,5,1),(30,24,5,2),(31,28,5,2),(32,25,5,2),(33,32,5,2),(34,27,5,2),(35,29,5,2),(36,30,5,2),(37,26,5,2),(38,31,5,1),(39,33,5,1),(40,34,5,1),(41,35,5,2),(42,36,5,2),(43,37,5,1),(44,38,5,2),(45,39,5,2),(46,40,5,2),(47,41,5,2),(48,42,5,1),(49,43,5,2),(50,44,5,1),(51,45,5,2),(52,16,4,1),(53,15,4,1),(54,9,4,2),(55,12,4,2),(56,14,4,2),(57,10,4,2),(58,5,4,2),(59,8,4,1),(60,11,4,2),(61,17,4,1),(62,4,4,1),(63,20,4,1),(64,19,4,2),(65,7,4,1),(66,13,4,1),(67,6,4,2),(68,18,4,2),(69,2,7,0);
/*!40000 ALTER TABLE `amazing_relationship` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_team_member`
--

DROP TABLE IF EXISTS `amazing_team_member`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_team_member` (
  `team_member_id` int(11) NOT NULL AUTO_INCREMENT,
  `team_id` int(11) NOT NULL DEFAULT '0',
  `member_id` int(11) NOT NULL DEFAULT '0',
  `role_id` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`team_member_id`),
  UNIQUE KEY `team_id` (`team_id`,`member_id`)
) ENGINE=InnoDB AUTO_INCREMENT=65 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_team_member`
--

LOCK TABLES `amazing_team_member` WRITE;
/*!40000 ALTER TABLE `amazing_team_member` DISABLE KEYS */;
INSERT INTO `amazing_team_member` VALUES (1,1,2,1),(2,1,9,2),(3,1,19,2),(4,1,7,1),(5,1,14,2),(6,1,10,2),(7,1,5,2),(8,1,18,2),(9,1,8,1),(10,1,16,1),(11,1,15,1),(12,1,11,2),(13,1,17,1),(14,1,4,1),(15,1,20,1),(16,1,12,2),(17,1,13,1),(18,1,6,2),(19,2,22,1),(20,2,23,1),(21,2,21,1),(22,2,24,2),(23,2,28,2),(24,2,30,2),(25,2,25,2),(26,2,26,2),(27,2,32,2),(28,2,29,2),(29,2,31,1),(30,2,27,2),(31,2,33,1),(32,2,34,1),(33,2,35,2),(34,2,37,1),(35,2,36,2),(36,2,38,2),(37,2,39,2),(38,2,40,2),(39,2,41,2),(40,2,42,1),(41,2,43,2),(42,2,44,1),(43,2,45,2),(44,3,46,1),(45,3,47,1),(46,3,48,1),(47,3,49,2),(48,3,50,2),(49,3,51,2),(50,3,52,2),(51,3,53,2),(52,3,54,2),(53,3,55,2),(54,3,57,2),(55,3,56,2),(56,3,59,2),(57,3,58,2),(58,3,60,2),(59,3,61,2),(60,3,62,2),(61,3,63,2),(62,4,64,1),(63,4,65,1),(64,4,66,1);
/*!40000 ALTER TABLE `amazing_team_member` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_team_relationship`
--

DROP TABLE IF EXISTS `amazing_team_relationship`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_team_relationship` (
  `team_relationship_id` int(11) NOT NULL AUTO_INCREMENT,
  `book_id` int(11) NOT NULL DEFAULT '0',
  `team_id` int(11) NOT NULL DEFAULT '0',
  `create_time` datetime NOT NULL,
  PRIMARY KEY (`team_relationship_id`),
  UNIQUE KEY `team_id` (`team_id`,`book_id`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_team_relationship`
--

LOCK TABLES `amazing_team_relationship` WRITE;
/*!40000 ALTER TABLE `amazing_team_relationship` DISABLE KEYS */;
INSERT INTO `amazing_team_relationship` VALUES (1,4,1,'2019-09-19 17:11:11'),(2,3,1,'2019-09-19 17:11:29'),(3,2,1,'2019-09-19 17:11:37'),(4,5,2,'2019-09-19 17:17:52'),(5,3,2,'2019-09-19 17:17:59'),(6,2,2,'2019-09-19 17:18:05'),(7,6,3,'2019-09-19 17:22:01'),(8,3,3,'2019-09-19 17:22:08'),(9,2,3,'2019-09-19 17:22:19'),(10,3,4,'2019-09-19 17:25:24'),(11,2,4,'2019-09-19 17:25:33');
/*!40000 ALTER TABLE `amazing_team_relationship` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_teams`
--

DROP TABLE IF EXISTS `amazing_teams`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_teams` (
  `team_id` int(11) NOT NULL AUTO_INCREMENT,
  `team_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `member_id` int(11) NOT NULL DEFAULT '0',
  `is_delete` tinyint(1) NOT NULL DEFAULT '0',
  `create_time` datetime NOT NULL,
  PRIMARY KEY (`team_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_teams`
--

LOCK TABLES `amazing_teams` WRITE;
/*!40000 ALTER TABLE `amazing_teams` DISABLE KEYS */;
INSERT INTO `amazing_teams` VALUES (1,'程序',1,0,'2019-09-19 17:10:52'),(2,'策划',1,0,'2019-09-19 17:17:36'),(3,'测试',1,0,'2019-09-19 17:21:53'),(4,'运维',1,0,'2019-09-19 17:25:10');
/*!40000 ALTER TABLE `amazing_teams` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `amazing_templates`
--

DROP TABLE IF EXISTS `amazing_templates`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `amazing_templates` (
  `template_id` int(11) NOT NULL AUTO_INCREMENT,
  `template_name` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '',
  `member_id` int(11) NOT NULL DEFAULT '0',
  `book_id` int(11) NOT NULL DEFAULT '0',
  `is_global` int(11) NOT NULL DEFAULT '0',
  `template_content` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  `create_time` datetime NOT NULL,
  `modify_time` datetime NOT NULL,
  `modify_at` int(11) NOT NULL DEFAULT '0',
  `version` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`template_id`),
  KEY `amazing_templates_member_id` (`member_id`),
  KEY `amazing_templates_book_id` (`book_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `amazing_templates`
--

LOCK TABLES `amazing_templates` WRITE;
/*!40000 ALTER TABLE `amazing_templates` DISABLE KEYS */;
/*!40000 ALTER TABLE `amazing_templates` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2019-09-20 15:26:51
